var MN=Object.defineProperty;var V_=s=>{throw TypeError(s)};var NN=(s,t,e)=>t in s?MN(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var gt=(s,t,e)=>NN(s,typeof t!="symbol"?t+"":t,e),j0=(s,t,e)=>t.has(s)||V_("Cannot "+e);var d=(s,t,e)=>(j0(s,t,"read from private field"),e?e.call(s):t.get(s)),T=(s,t,e)=>t.has(s)?V_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),w=(s,t,e,n)=>(j0(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),D=(s,t,e)=>(j0(s,t,"access private method"),e);var ei=(s,t,e,n)=>({set _(r){w(s,t,r,e)},get _(){return d(s,t,n)}});function ON(s,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in s)){const l=Object.getOwnPropertyDescriptor(n,r);l&&Object.defineProperty(s,r,l.get?l:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function cg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var H0={exports:{}},Zd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function LN(){if(q_)return Zd;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var c in r)c!=="key"&&(l[c]=r[c])}else l=r;return r=l.ref,{$$typeof:s,type:n,key:u,ref:r!==void 0?r:null,props:l}}return Zd.Fragment=t,Zd.jsx=e,Zd.jsxs=e,Zd}var Y_;function PN(){return Y_||(Y_=1,H0.exports=LN()),H0.exports}var I=PN(),U0={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function zN(){if(X_)return Ht;X_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function k(_,K,ot){this.props=_,this.context=K,this.refs=S,this.updater=ot||A}k.prototype.isReactComponent={},k.prototype.setState=function(_,K){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,K,"setState")},k.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=k.prototype;function O(_,K,ot){this.props=_,this.context=K,this.refs=S,this.updater=ot||A}var N=O.prototype=new C;N.constructor=O,x(N,k.prototype),N.isPureReactComponent=!0;var z=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function j(_,K,ot,R,st,ft){return ot=ft.ref,{$$typeof:s,type:_,key:K,ref:ot!==void 0?ot:null,props:ft}}function W(_,K){return j(_.type,K,void 0,void 0,void 0,_.props)}function Q(_){return typeof _=="object"&&_!==null&&_.$$typeof===s}function it(_){var K={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ot){return K[ot]})}var X=/\/+/g;function Z(_,K){return typeof _=="object"&&_!==null&&_.key!=null?it(""+_.key):K.toString(36)}function ct(){}function J(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(ct,ct):(_.status="pending",_.then(function(K){_.status==="pending"&&(_.status="fulfilled",_.value=K)},function(K){_.status==="pending"&&(_.status="rejected",_.reason=K)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function ht(_,K,ot,R,st){var ft=typeof _;(ft==="undefined"||ft==="boolean")&&(_=null);var nt=!1;if(_===null)nt=!0;else switch(ft){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(_.$$typeof){case s:case t:nt=!0;break;case g:return nt=_._init,ht(nt(_._payload),K,ot,R,st)}}if(nt)return st=st(_),nt=R===""?"."+Z(_,0):R,z(st)?(ot="",nt!=null&&(ot=nt.replace(X,"$&/")+"/"),ht(st,K,ot,"",function(Tt){return Tt})):st!=null&&(Q(st)&&(st=W(st,ot+(st.key==null||_&&_.key===st.key?"":(""+st.key).replace(X,"$&/")+"/")+nt)),K.push(st)),1;nt=0;var ut=R===""?".":R+":";if(z(_))for(var mt=0;mt<_.length;mt++)R=_[mt],ft=ut+Z(R,mt),nt+=ht(R,K,ot,ft,st);else if(mt=b(_),typeof mt=="function")for(_=mt.call(_),mt=0;!(R=_.next()).done;)R=R.value,ft=ut+Z(R,mt++),nt+=ht(R,K,ot,ft,st);else if(ft==="object"){if(typeof _.then=="function")return ht(J(_),K,ot,R,st);throw K=String(_),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return nt}function B(_,K,ot){if(_==null)return _;var R=[],st=0;return ht(_,R,"","",function(ft){return K.call(ot,ft,st++)}),R}function q(_){if(_._status===-1){var K=_._result;K=K(),K.then(function(ot){(_._status===0||_._status===-1)&&(_._status=1,_._result=ot)},function(ot){(_._status===0||_._status===-1)&&(_._status=2,_._result=ot)}),_._status===-1&&(_._status=0,_._result=K)}if(_._status===1)return _._result.default;throw _._result}var yt=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function xt(){}return Ht.Children={map:B,forEach:function(_,K,ot){B(_,function(){K.apply(this,arguments)},ot)},count:function(_){var K=0;return B(_,function(){K++}),K},toArray:function(_){return B(_,function(K){return K})||[]},only:function(_){if(!Q(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ht.Component=k,Ht.Fragment=e,Ht.Profiler=r,Ht.PureComponent=O,Ht.StrictMode=n,Ht.Suspense=f,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(_){return P.H.useMemoCache(_)}},Ht.cache=function(_){return function(){return _.apply(null,arguments)}},Ht.cloneElement=function(_,K,ot){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var R=x({},_.props),st=_.key,ft=void 0;if(K!=null)for(nt in K.ref!==void 0&&(ft=void 0),K.key!==void 0&&(st=""+K.key),K)!L.call(K,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&K.ref===void 0||(R[nt]=K[nt]);var nt=arguments.length-2;if(nt===1)R.children=ot;else if(1<nt){for(var ut=Array(nt),mt=0;mt<nt;mt++)ut[mt]=arguments[mt+2];R.children=ut}return j(_.type,st,void 0,void 0,ft,R)},Ht.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},Ht.createElement=function(_,K,ot){var R,st={},ft=null;if(K!=null)for(R in K.key!==void 0&&(ft=""+K.key),K)L.call(K,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(st[R]=K[R]);var nt=arguments.length-2;if(nt===1)st.children=ot;else if(1<nt){for(var ut=Array(nt),mt=0;mt<nt;mt++)ut[mt]=arguments[mt+2];st.children=ut}if(_&&_.defaultProps)for(R in nt=_.defaultProps,nt)st[R]===void 0&&(st[R]=nt[R]);return j(_,ft,void 0,void 0,null,st)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(_){return{$$typeof:c,render:_}},Ht.isValidElement=Q,Ht.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:q}},Ht.memo=function(_,K){return{$$typeof:p,type:_,compare:K===void 0?null:K}},Ht.startTransition=function(_){var K=P.T,ot={};P.T=ot;try{var R=_(),st=P.S;st!==null&&st(ot,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(xt,yt)}catch(ft){yt(ft)}finally{P.T=K}},Ht.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ht.use=function(_){return P.H.use(_)},Ht.useActionState=function(_,K,ot){return P.H.useActionState(_,K,ot)},Ht.useCallback=function(_,K){return P.H.useCallback(_,K)},Ht.useContext=function(_){return P.H.useContext(_)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(_,K){return P.H.useDeferredValue(_,K)},Ht.useEffect=function(_,K,ot){var R=P.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(_,K)},Ht.useId=function(){return P.H.useId()},Ht.useImperativeHandle=function(_,K,ot){return P.H.useImperativeHandle(_,K,ot)},Ht.useInsertionEffect=function(_,K){return P.H.useInsertionEffect(_,K)},Ht.useLayoutEffect=function(_,K){return P.H.useLayoutEffect(_,K)},Ht.useMemo=function(_,K){return P.H.useMemo(_,K)},Ht.useOptimistic=function(_,K){return P.H.useOptimistic(_,K)},Ht.useReducer=function(_,K,ot){return P.H.useReducer(_,K,ot)},Ht.useRef=function(_){return P.H.useRef(_)},Ht.useState=function(_){return P.H.useState(_)},Ht.useSyncExternalStore=function(_,K,ot){return P.H.useSyncExternalStore(_,K,ot)},Ht.useTransition=function(){return P.H.useTransition()},Ht.version="19.1.0",Ht}var $_;function mw(){return $_||($_=1,U0.exports=zN()),U0.exports}var lt=mw();const hb=cg(lt),IN=ON({__proto__:null,default:hb},[lt]);var G0={exports:{}},Jd={},V0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function FN(){return W_||(W_=1,function(s){function t(B,q){var yt=B.length;B.push(q);t:for(;0<yt;){var xt=yt-1>>>1,_=B[xt];if(0<r(_,q))B[xt]=q,B[yt]=_,yt=xt;else break t}}function e(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var q=B[0],yt=B.pop();if(yt!==q){B[0]=yt;t:for(var xt=0,_=B.length,K=_>>>1;xt<K;){var ot=2*(xt+1)-1,R=B[ot],st=ot+1,ft=B[st];if(0>r(R,yt))st<_&&0>r(ft,R)?(B[xt]=ft,B[st]=yt,xt=st):(B[xt]=R,B[ot]=yt,xt=ot);else if(st<_&&0>r(ft,yt))B[xt]=ft,B[st]=yt,xt=st;else break t}}return q}function r(B,q){var yt=B.sortIndex-q.sortIndex;return yt!==0?yt:B.id-q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();s.unstable_now=function(){return u.now()-c}}var f=[],p=[],g=1,y=null,b=3,A=!1,x=!1,S=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function z(B){for(var q=e(p);q!==null;){if(q.callback===null)n(p);else if(q.startTime<=B)n(p),q.sortIndex=q.expirationTime,t(f,q);else break;q=e(p)}}function P(B){if(S=!1,z(B),!x)if(e(f)!==null)x=!0,L||(L=!0,Z());else{var q=e(p);q!==null&&ht(P,q.startTime-B)}}var L=!1,j=-1,W=5,Q=-1;function it(){return k?!0:!(s.unstable_now()-Q<W)}function X(){if(k=!1,L){var B=s.unstable_now();Q=B;var q=!0;try{t:{x=!1,S&&(S=!1,O(j),j=-1),A=!0;var yt=b;try{e:{for(z(B),y=e(f);y!==null&&!(y.expirationTime>B&&it());){var xt=y.callback;if(typeof xt=="function"){y.callback=null,b=y.priorityLevel;var _=xt(y.expirationTime<=B);if(B=s.unstable_now(),typeof _=="function"){y.callback=_,z(B),q=!0;break e}y===e(f)&&n(f),z(B)}else n(f);y=e(f)}if(y!==null)q=!0;else{var K=e(p);K!==null&&ht(P,K.startTime-B),q=!1}}break t}finally{y=null,b=yt,A=!1}q=void 0}}finally{q?Z():L=!1}}}var Z;if(typeof N=="function")Z=function(){N(X)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,J=ct.port2;ct.port1.onmessage=X,Z=function(){J.postMessage(null)}}else Z=function(){C(X,0)};function ht(B,q){j=C(function(){B(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(B){switch(b){case 1:case 2:case 3:var q=3;break;default:q=b}var yt=b;b=q;try{return B()}finally{b=yt}},s.unstable_requestPaint=function(){k=!0},s.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var yt=b;b=B;try{return q()}finally{b=yt}},s.unstable_scheduleCallback=function(B,q,yt){var xt=s.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?xt+yt:xt):yt=xt,B){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=yt+_,B={id:g++,callback:q,priorityLevel:B,startTime:yt,expirationTime:_,sortIndex:-1},yt>xt?(B.sortIndex=yt,t(p,B),e(f)===null&&B===e(p)&&(S?(O(j),j=-1):S=!0,ht(P,yt-xt))):(B.sortIndex=_,t(f,B),x||A||(x=!0,L||(L=!0,Z()))),B},s.unstable_shouldYield=it,s.unstable_wrapCallback=function(B){var q=b;return function(){var yt=b;b=q;try{return B.apply(this,arguments)}finally{b=yt}}}}(q0)),q0}var K_;function BN(){return K_||(K_=1,V0.exports=FN()),V0.exports}var Y0={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function jN(){if(Q_)return Gn;Q_=1;var s=mw();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:p,implementation:g}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Gn.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},Gn.flushSync=function(f){var p=u.T,g=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=p,n.p=g,n.d.f()}},Gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(f,p))},Gn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?n.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:A}):g==="script"&&n.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=c(p.as,p.crossOrigin);n.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(f)},Gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin);n.d.L(f,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=c(p.as,p.crossOrigin);n.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(f)},Gn.requestFormReset=function(f){n.d.r(f)},Gn.unstable_batchedUpdates=function(f,p){return f(p)},Gn.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},Gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gn.version="19.1.0",Gn}var Z_;function HN(){if(Z_)return Y0.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Y0.exports=jN(),Y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function UN(){if(J_)return Jd;J_=1;var s=BN(),t=mw(),e=HN();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(l(i)!==i)throw Error(n(188))}function f(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(n(188));return a!==i?null:i}for(var o=i,h=a;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return c(m),i;if(v===h)return c(m),a;v=v.sibling}throw Error(n(188))}if(o.return!==h.return)o=m,h=v;else{for(var E=!1,M=m.child;M;){if(M===o){E=!0,o=m,h=v;break}if(M===h){E=!0,h=m,o=v;break}M=M.sibling}if(!E){for(M=v.child;M;){if(M===o){E=!0,o=v,h=m;break}if(M===h){E=!0,h=v,o=m;break}M=M.sibling}if(!E)throw Error(n(189))}}if(o.alternate!==h)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),N=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var ct=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ct?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case N:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return a=i.displayName||null,a!==null?a:J(i.type)||"Memo";case W:a=i._payload,i=i._init;try{return J(i(a))}catch{}}return null}var ht=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},xt=[],_=-1;function K(i){return{current:i}}function ot(i){0>_||(i.current=xt[_],xt[_]=null,_--)}function R(i,a){_++,xt[_]=i.current,i.current=a}var st=K(null),ft=K(null),nt=K(null),ut=K(null);function mt(i,a){switch(R(nt,a),R(ft,i),R(st,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?b_(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=b_(a),i=v_(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(st),R(st,i)}function Tt(){ot(st),ot(ft),ot(nt)}function jt(i){i.memoizedState!==null&&R(ut,i);var a=st.current,o=v_(a,i.type);a!==o&&(R(ft,i),R(st,o))}function fe(i){ft.current===i&&(ot(st),ot(ft)),ut.current===i&&(ot(ut),Xd._currentValue=yt)}var pe=Object.prototype.hasOwnProperty,Zt=s.unstable_scheduleCallback,Vt=s.unstable_cancelCallback,Bn=s.unstable_shouldYield,Fe=s.unstable_requestPaint,Be=s.unstable_now,Ve=s.unstable_getCurrentPriorityLevel,xs=s.unstable_ImmediatePriority,Ea=s.unstable_UserBlockingPriority,ci=s.unstable_NormalPriority,Dr=s.unstable_LowPriority,_a=s.unstable_IdlePriority,Jh=s.log,td=s.unstable_setDisableYieldValue,tt=null,dt=null;function Dt(i){if(typeof Jh=="function"&&td(i),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(tt,i)}catch{}}var kt=Math.clz32?Math.clz32:Es,ie=Math.log,jn=Math.LN2;function Es(i){return i>>>=0,i===0?32:31-(ie(i)/jn|0)|0}var rn=256,Ti=4194304;function Qn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qe(i,a,o){var h=i.pendingLanes;if(h===0)return 0;var m=0,v=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~v,h!==0?m=Qn(h):(E&=M,E!==0?m=Qn(E):o||(o=M&~i,o!==0&&(m=Qn(o))))):(M=h&~v,M!==0?m=Qn(M):E!==0?m=Qn(E):o||(o=h&~i,o!==0&&(m=Qn(o)))),m===0?0:a!==0&&a!==m&&(a&v)===0&&(v=m&-m,o=a&-a,v>=o||v===32&&(o&4194048)!==0)?a:m}function Zn(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Jn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eg(){var i=rn;return rn<<=1,(rn&4194048)===0&&(rn=256),i}function ed(){var i=Ti;return Ti<<=1,(Ti&62914560)===0&&(Ti=4194304),i}function nd(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function kr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Hn(i,a,o,h,m,v){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var M=i.entanglements,F=i.expirationTimes,V=i.hiddenUpdates;for(o=E&~o;0<o;){var et=31-kt(o),rt=1<<et;M[et]=0,F[et]=-1;var Y=V[et];if(Y!==null)for(V[et]=null,et=0;et<Y.length;et++){var $=Y[et];$!==null&&($.lane&=-536870913)}o&=~rt}h!==0&&_n(i,h,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(E&~a))}function _n(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-kt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|o&4194090}function Kl(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var h=31-kt(o),m=1<<h;m&a|i[h]&a&&(i[h]|=a),o&=~m}}function we(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function hi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _g(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:F_(i.type))}function id(i,a){var o=q.p;try{return q.p=i,a()}finally{q.p=o}}var _s=Math.random().toString(36).slice(2),ln="__reactFiber$"+_s,gn="__reactProps$"+_s,Cs="__reactContainer$"+_s,Ql="__reactEvents$"+_s,sd="__reactListeners$"+_s,ad="__reactHandles$"+_s,Cg="__reactResources$"+_s,Ca="__reactMarker$"+_s;function Iu(i){delete i[ln],delete i[gn],delete i[Ql],delete i[sd],delete i[ad]}function Rr(i){var a=i[ln];if(a)return a;for(var o=i.parentNode;o;){if(a=o[Cs]||o[ln]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=x_(i);i!==null;){if(o=i[ln])return o;i=x_(i)}return a}i=o,o=i.parentNode}return null}function Mr(i){if(i=i[ln]||i[Cs]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function It(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function ue(i){var a=i[Cg];return a||(a=i[Cg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qt(i){i[Ca]=!0}var di=new Set,fi={};function Ts(i,a){Nr(i,a),Nr(i+"Capture",a)}function Nr(i,a){for(fi[i]=a,i=0;i<a.length;i++)di.add(a[i])}var Ob=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ux={},cx={};function EM(i){return pe.call(cx,i)?!0:pe.call(ux,i)?!1:Ob.test(i)?cx[i]=!0:(ux[i]=!0,!1)}function Tg(i,a,o){if(EM(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Dg(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Ta(i,a,o,h){if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+h)}}var Lb,hx;function Fu(i){if(Lb===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Lb=a&&a[1]||"",hx=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lb+i+hx}var Pb=!1;function zb(i,a){if(!i||Pb)return"";Pb=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch($){var Y=$}Reflect.construct(i,[],rt)}else{try{rt.call()}catch($){Y=$}i.call(rt.prototype)}}else{try{throw Error()}catch($){Y=$}(rt=i())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),E=v[0],M=v[1];if(E&&M){var F=E.split(`
`),V=M.split(`
`);for(m=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;if(h===F.length||m===V.length)for(h=F.length-1,m=V.length-1;1<=h&&0<=m&&F[h]!==V[m];)m--;for(;1<=h&&0<=m;h--,m--)if(F[h]!==V[m]){if(h!==1||m!==1)do if(h--,m--,0>m||F[h]!==V[m]){var et=`
`+F[h].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=h&&0<=m);break}}}finally{Pb=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fu(o):""}function _M(i){switch(i.tag){case 26:case 27:case 5:return Fu(i.type);case 16:return Fu("Lazy");case 13:return Fu("Suspense");case 19:return Fu("SuspenseList");case 0:case 15:return zb(i.type,!1);case 11:return zb(i.type.render,!1);case 1:return zb(i.type,!0);case 31:return Fu("Activity");default:return""}}function dx(i){try{var a="";do a+=_M(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ns(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fx(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function CM(i){var a=fx(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function kg(i){i._valueTracker||(i._valueTracker=CM(i))}function px(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),h="";return i&&(h=fx(i)?i.checked?"true":"false":i.value),i=h,i!==o?(a.setValue(i),!0):!1}function Rg(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var TM=/[\n"\\]/g;function is(i){return i.replace(TM,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ib(i,a,o,h,m,v,E,M){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),a!=null?E==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+ns(a)):i.value!==""+ns(a)&&(i.value=""+ns(a)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),a!=null?Fb(i,E,ns(a)):o!=null?Fb(i,E,ns(o)):h!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+ns(M):i.removeAttribute("name")}function gx(i,a,o,h,m,v,E,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),a!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;o=o!=null?""+ns(o):"",a=a!=null?""+ns(a):o,M||a===i.value||(i.value=a),i.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Fb(i,a,o){a==="number"&&Rg(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Bu(i,a,o,h){if(i=i.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=a.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&h&&(i[o].defaultSelected=!0)}else{for(o=""+ns(o),a=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function mx(i,a,o){if(a!=null&&(a=""+ns(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+ns(o):""}function yx(i,a,o,h){if(a==null){if(h!=null){if(o!=null)throw Error(n(92));if(ht(h)){if(1<h.length)throw Error(n(93));h=h[0]}o=h}o==null&&(o=""),a=o}o=ns(a),i.defaultValue=o,h=i.textContent,h===o&&h!==""&&h!==null&&(i.value=h)}function ju(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var DM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bx(i,a,o){var h=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,o):typeof o!="number"||o===0||DM.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function vx(i,a,o){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&o[m]!==h&&bx(i,m,h)}else for(var v in a)a.hasOwnProperty(v)&&bx(i,v,a[v])}function Bb(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mg(i){return RM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var jb=null;function Hb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hu=null,Uu=null;function Ax(i){var a=Mr(i);if(a&&(i=a.stateNode)){var o=i[gn]||null;t:switch(i=a.stateNode,a.type){case"input":if(Ib(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+is(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var h=o[a];if(h!==i&&h.form===i.form){var m=h[gn]||null;if(!m)throw Error(n(90));Ib(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)h=o[a],h.form===i.form&&px(h)}break t;case"textarea":mx(i,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Bu(i,!!o.multiple,a,!1)}}}var Ub=!1;function Sx(i,a,o){if(Ub)return i(a,o);Ub=!0;try{var h=i(a);return h}finally{if(Ub=!1,(Hu!==null||Uu!==null)&&(mm(),Hu&&(a=Hu,i=Uu,Uu=Hu=null,Ax(a),i)))for(a=0;a<i.length;a++)Ax(i[a])}}function rd(i,a){var o=i.stateNode;if(o===null)return null;var h=o[gn]||null;if(h===null)return null;o=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(n(231,a,typeof o));return o}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gb=!1;if(Da)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{Gb=!1}var Or=null,Vb=null,Ng=null;function wx(){if(Ng)return Ng;var i,a=Vb,o=a.length,h,m="value"in Or?Or.value:Or.textContent,v=m.length;for(i=0;i<o&&a[i]===m[i];i++);var E=o-i;for(h=1;h<=E&&a[o-h]===m[v-h];h++);return Ng=m.slice(i,1<h?1-h:void 0)}function Og(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Lg(){return!0}function xx(){return!1}function pi(i){function a(o,h,m,v,E){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(o=i[M],this[M]=o?o(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Lg:xx,this.isPropagationStopped=xx,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lg)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lg)},persist:function(){},isPersistent:Lg}),a}var Zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pg=pi(Zl),od=g({},Zl,{view:0,detail:0}),MM=pi(od),qb,Yb,ud,zg=g({},od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ud&&(ud&&i.type==="mousemove"?(qb=i.screenX-ud.screenX,Yb=i.screenY-ud.screenY):Yb=qb=0,ud=i),qb)},movementY:function(i){return"movementY"in i?i.movementY:Yb}}),Ex=pi(zg),NM=g({},zg,{dataTransfer:0}),OM=pi(NM),LM=g({},od,{relatedTarget:0}),Xb=pi(LM),PM=g({},Zl,{animationName:0,elapsedTime:0,pseudoElement:0}),zM=pi(PM),IM=g({},Zl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),FM=pi(IM),BM=g({},Zl,{data:0}),_x=pi(BM),jM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GM(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=UM[i])?!!a[i]:!1}function $b(){return GM}var VM=g({},od,{key:function(i){if(i.key){var a=jM[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Og(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?HM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(i){return i.type==="keypress"?Og(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Og(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qM=pi(VM),YM=g({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=pi(YM),XM=g({},od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),$M=pi(XM),WM=g({},Zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KM=pi(WM),QM=g({},zg,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ZM=pi(QM),JM=g({},Zl,{newState:0,oldState:0}),t2=pi(JM),e2=[9,13,27,32],Wb=Da&&"CompositionEvent"in window,cd=null;Da&&"documentMode"in document&&(cd=document.documentMode);var n2=Da&&"TextEvent"in window&&!cd,Tx=Da&&(!Wb||cd&&8<cd&&11>=cd),Dx=" ",kx=!1;function Rx(i,a){switch(i){case"keyup":return e2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gu=!1;function i2(i,a){switch(i){case"compositionend":return Mx(a);case"keypress":return a.which!==32?null:(kx=!0,Dx);case"textInput":return i=a.data,i===Dx&&kx?null:i;default:return null}}function s2(i,a){if(Gu)return i==="compositionend"||!Wb&&Rx(i,a)?(i=wx(),Ng=Vb=Or=null,Gu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Tx&&a.locale!=="ko"?null:a.data;default:return null}}var a2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!a2[i.type]:a==="textarea"}function Ox(i,a,o,h){Hu?Uu?Uu.push(h):Uu=[h]:Hu=h,a=wm(a,"onChange"),0<a.length&&(o=new Pg("onChange","change",null,o,h),i.push({event:o,listeners:a}))}var hd=null,dd=null;function r2(i){f_(i,0)}function Ig(i){var a=It(i);if(px(a))return i}function Lx(i,a){if(i==="change")return a}var Px=!1;if(Da){var Kb;if(Da){var Qb="oninput"in document;if(!Qb){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),Qb=typeof zx.oninput=="function"}Kb=Qb}else Kb=!1;Px=Kb&&(!document.documentMode||9<document.documentMode)}function Ix(){hd&&(hd.detachEvent("onpropertychange",Fx),dd=hd=null)}function Fx(i){if(i.propertyName==="value"&&Ig(dd)){var a=[];Ox(a,dd,i,Hb(i)),Sx(r2,a)}}function l2(i,a,o){i==="focusin"?(Ix(),hd=a,dd=o,hd.attachEvent("onpropertychange",Fx)):i==="focusout"&&Ix()}function o2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ig(dd)}function u2(i,a){if(i==="click")return Ig(a)}function c2(i,a){if(i==="input"||i==="change")return Ig(a)}function h2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Di=typeof Object.is=="function"?Object.is:h2;function fd(i,a){if(Di(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),h=Object.keys(a);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!pe.call(a,m)||!Di(i[m],a[m]))return!1}return!0}function Bx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jx(i,a){var o=Bx(i);i=0;for(var h;o;){if(o.nodeType===3){if(h=i+o.textContent.length,i<=a&&h>=a)return{node:o,offset:a-i};i=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Bx(o)}}function Hx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Hx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Ux(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Rg(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=Rg(i.document)}return a}function Zb(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var d2=Da&&"documentMode"in document&&11>=document.documentMode,Vu=null,Jb=null,pd=null,tv=!1;function Gx(i,a,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tv||Vu==null||Vu!==Rg(h)||(h=Vu,"selectionStart"in h&&Zb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pd&&fd(pd,h)||(pd=h,h=wm(Jb,"onSelect"),0<h.length&&(a=new Pg("onSelect","select",null,a,o),i.push({event:a,listeners:h}),a.target=Vu)))}function Jl(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var qu={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionrun:Jl("Transition","TransitionRun"),transitionstart:Jl("Transition","TransitionStart"),transitioncancel:Jl("Transition","TransitionCancel"),transitionend:Jl("Transition","TransitionEnd")},ev={},Vx={};Da&&(Vx=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);function to(i){if(ev[i])return ev[i];if(!qu[i])return i;var a=qu[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in Vx)return ev[i]=a[o];return i}var qx=to("animationend"),Yx=to("animationiteration"),Xx=to("animationstart"),f2=to("transitionrun"),p2=to("transitionstart"),g2=to("transitioncancel"),$x=to("transitionend"),Wx=new Map,nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nv.push("scrollEnd");function Ds(i,a){Wx.set(i,a),Ts(a,[i])}var Kx=new WeakMap;function ss(i,a){if(typeof i=="object"&&i!==null){var o=Kx.get(i);return o!==void 0?o:(a={value:i,source:a,stack:dx(a)},Kx.set(i,a),a)}return{value:i,source:a,stack:dx(a)}}var as=[],Yu=0,iv=0;function Fg(){for(var i=Yu,a=iv=Yu=0;a<i;){var o=as[a];as[a++]=null;var h=as[a];as[a++]=null;var m=as[a];as[a++]=null;var v=as[a];if(as[a++]=null,h!==null&&m!==null){var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}v!==0&&Qx(o,m,v)}}function Bg(i,a,o,h){as[Yu++]=i,as[Yu++]=a,as[Yu++]=o,as[Yu++]=h,iv|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function sv(i,a,o,h){return Bg(i,a,o,h),jg(i)}function Xu(i,a){return Bg(i,null,null,a),jg(i)}function Qx(i,a,o){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o);for(var m=!1,v=i.return;v!==null;)v.childLanes|=o,h=v.alternate,h!==null&&(h.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,m&&a!==null&&(m=31-kt(o),i=v.hiddenUpdates,h=i[m],h===null?i[m]=[a]:h.push(a),a.lane=o|536870912),v):null}function jg(i){if(50<Bd)throw Bd=0,c0=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var $u={};function m2(i,a,o,h){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(i,a,o,h){return new m2(i,a,o,h)}function av(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ka(i,a){var o=i.alternate;return o===null?(o=ki(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zx(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Hg(i,a,o,h,m,v){var E=0;if(h=i,typeof i=="function")av(i)&&(E=1);else if(typeof i=="string")E=bN(i,o,st.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case Q:return i=ki(31,o,a,m),i.elementType=Q,i.lanes=v,i;case x:return eo(o.children,m,v,a);case S:E=8,m|=24;break;case k:return i=ki(12,o,a,m|2),i.elementType=k,i.lanes=v,i;case P:return i=ki(13,o,a,m),i.elementType=P,i.lanes=v,i;case L:return i=ki(19,o,a,m),i.elementType=L,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case N:E=10;break t;case O:E=9;break t;case z:E=11;break t;case j:E=14;break t;case W:E=16,h=null;break t}E=29,o=Error(n(130,i===null?"null":typeof i,"")),h=null}return a=ki(E,o,a,m),a.elementType=i,a.type=h,a.lanes=v,a}function eo(i,a,o,h){return i=ki(7,i,h,a),i.lanes=o,i}function rv(i,a,o){return i=ki(6,i,null,a),i.lanes=o,i}function lv(i,a,o){return a=ki(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Wu=[],Ku=0,Ug=null,Gg=0,rs=[],ls=0,no=null,Ra=1,Ma="";function io(i,a){Wu[Ku++]=Gg,Wu[Ku++]=Ug,Ug=i,Gg=a}function Jx(i,a,o){rs[ls++]=Ra,rs[ls++]=Ma,rs[ls++]=no,no=i;var h=Ra;i=Ma;var m=32-kt(h)-1;h&=~(1<<m),o+=1;var v=32-kt(a)+m;if(30<v){var E=m-m%5;v=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Ra=1<<32-kt(a)+m|o<<m|h,Ma=v+i}else Ra=1<<v|o<<m|h,Ma=i}function ov(i){i.return!==null&&(io(i,1),Jx(i,1,0))}function uv(i){for(;i===Ug;)Ug=Wu[--Ku],Wu[Ku]=null,Gg=Wu[--Ku],Wu[Ku]=null;for(;i===no;)no=rs[--ls],rs[ls]=null,Ma=rs[--ls],rs[ls]=null,Ra=rs[--ls],rs[ls]=null}var ti=null,je=null,ae=!1,so=null,$s=!1,cv=Error(n(519));function ao(i){var a=Error(n(418,""));throw yd(ss(a,i)),cv}function t1(i){var a=i.stateNode,o=i.type,h=i.memoizedProps;switch(a[ln]=i,a[gn]=h,o){case"dialog":Kt("cancel",a),Kt("close",a);break;case"iframe":case"object":case"embed":Kt("load",a);break;case"video":case"audio":for(o=0;o<Hd.length;o++)Kt(Hd[o],a);break;case"source":Kt("error",a);break;case"img":case"image":case"link":Kt("error",a),Kt("load",a);break;case"details":Kt("toggle",a);break;case"input":Kt("invalid",a),gx(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),kg(a);break;case"select":Kt("invalid",a);break;case"textarea":Kt("invalid",a),yx(a,h.value,h.defaultValue,h.children),kg(a)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||h.suppressHydrationWarning===!0||y_(a.textContent,o)?(h.popover!=null&&(Kt("beforetoggle",a),Kt("toggle",a)),h.onScroll!=null&&Kt("scroll",a),h.onScrollEnd!=null&&Kt("scrollend",a),h.onClick!=null&&(a.onclick=xm),a=!0):a=!1,a||ao(i)}function e1(i){for(ti=i.return;ti;)switch(ti.tag){case 5:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:ti=ti.return}}function gd(i){if(i!==ti)return!1;if(!ae)return e1(i),ae=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||C0(i.type,i.memoizedProps)),o=!o),o&&je&&ao(i),e1(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){je=Rs(i.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}je=null}}else a===27?(a=je,Wr(i.type)?(i=R0,R0=null,je=i):je=a):je=ti?Rs(i.stateNode.nextSibling):null;return!0}function md(){je=ti=null,ae=!1}function n1(){var i=so;return i!==null&&(yi===null?yi=i:yi.push.apply(yi,i),so=null),i}function yd(i){so===null?so=[i]:so.push(i)}var hv=K(null),ro=null,Na=null;function Lr(i,a,o){R(hv,a._currentValue),a._currentValue=o}function Oa(i){i._currentValue=hv.current,ot(hv)}function dv(i,a,o){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===o)break;i=i.return}}function fv(i,a,o,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var E=m.child;v=v.firstContext;t:for(;v!==null;){var M=v;v=m;for(var F=0;F<a.length;F++)if(M.context===a[F]){v.lanes|=o,M=v.alternate,M!==null&&(M.lanes|=o),dv(v.return,o,i),h||(E=null);break t}v=M.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(n(341));E.lanes|=o,v=E.alternate,v!==null&&(v.lanes|=o),dv(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function bd(i,a,o,h){i=null;for(var m=a,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var M=m.type;Di(m.pendingProps.value,E.value)||(i!==null?i.push(M):i=[M])}}else if(m===ut.current){if(E=m.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Xd):i=[Xd])}m=m.return}i!==null&&fv(a,i,o,h),a.flags|=262144}function Vg(i){for(i=i.firstContext;i!==null;){if(!Di(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function lo(i){ro=i,Na=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Un(i){return i1(ro,i)}function qg(i,a){return ro===null&&lo(i),i1(i,a)}function i1(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Na===null){if(i===null)throw Error(n(308));Na=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Na=Na.next=a;return o}var y2=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},b2=s.unstable_scheduleCallback,v2=s.unstable_NormalPriority,on={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pv(){return{controller:new y2,data:new Map,refCount:0}}function vd(i){i.refCount--,i.refCount===0&&b2(v2,function(){i.controller.abort()})}var Ad=null,gv=0,Qu=0,Zu=null;function A2(i,a){if(Ad===null){var o=Ad=[];gv=0,Qu=y0(),Zu={status:"pending",value:void 0,then:function(h){o.push(h)}}}return gv++,a.then(s1,s1),a}function s1(){if(--gv===0&&Ad!==null){Zu!==null&&(Zu.status="fulfilled");var i=Ad;Ad=null,Qu=0,Zu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function S2(i,a){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var a1=B.S;B.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&A2(i,a),a1!==null&&a1(i,a)};var oo=K(null);function mv(){var i=oo.current;return i!==null?i:Ee.pooledCache}function Yg(i,a){a===null?R(oo,oo.current):R(oo,a.pool)}function r1(){var i=mv();return i===null?null:{parent:on._currentValue,pool:i}}var Sd=Error(n(460)),l1=Error(n(474)),Xg=Error(n(542)),yv={then:function(){}};function o1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $g(){}function u1(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then($g,$g),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,h1(i),i;default:if(typeof a.status=="string")a.then($g,$g);else{if(i=Ee,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,h1(i),i}throw wd=a,Sd}}var wd=null;function c1(){if(wd===null)throw Error(n(459));var i=wd;return wd=null,i}function h1(i){if(i===Sd||i===Xg)throw Error(n(483))}var Pr=!1;function bv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ir(i,a,o){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ce&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=jg(i),Qx(i,null,o),a}return Bg(i,h,a,o),jg(i)}function xd(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,o|=h,a.lanes=o,Kl(i,o)}}function Av(i,a){var o=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=E:v=v.next=E,o=o.next}while(o!==null);v===null?m=v=a:v=v.next=a}else m=v=a;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Sv=!1;function Ed(){if(Sv){var i=Zu;if(i!==null)throw i}}function _d(i,a,o,h){Sv=!1;var m=i.updateQueue;Pr=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var F=M,V=F.next;F.next=null,E===null?v=V:E.next=V,E=F;var et=i.alternate;et!==null&&(et=et.updateQueue,M=et.lastBaseUpdate,M!==E&&(M===null?et.firstBaseUpdate=V:M.next=V,et.lastBaseUpdate=F))}if(v!==null){var rt=m.baseState;E=0,et=V=F=null,M=v;do{var Y=M.lane&-536870913,$=Y!==M.lane;if($?(te&Y)===Y:(h&Y)===Y){Y!==0&&Y===Qu&&(Sv=!0),et!==null&&(et=et.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Ot=i,Rt=M;Y=a;var ye=o;switch(Rt.tag){case 1:if(Ot=Rt.payload,typeof Ot=="function"){rt=Ot.call(ye,rt,Y);break t}rt=Ot;break t;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Rt.payload,Y=typeof Ot=="function"?Ot.call(ye,rt,Y):Ot,Y==null)break t;rt=g({},rt,Y);break t;case 2:Pr=!0}}Y=M.callback,Y!==null&&(i.flags|=64,$&&(i.flags|=8192),$=m.callbacks,$===null?m.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:M.tag,payload:M.payload,callback:M.callback,next:null},et===null?(V=et=$,F=rt):et=et.next=$,E|=Y;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;$=M,M=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);et===null&&(F=rt),m.baseState=F,m.firstBaseUpdate=V,m.lastBaseUpdate=et,v===null&&(m.shared.lanes=0),qr|=E,i.lanes=E,i.memoizedState=rt}}function d1(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function f1(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)d1(o[i],a)}var Ju=K(null),Wg=K(0);function p1(i,a){i=ja,R(Wg,i),R(Ju,a),ja=i|a.baseLanes}function wv(){R(Wg,ja),R(Ju,Ju.current)}function xv(){ja=Wg.current,ot(Ju),ot(Wg)}var Fr=0,Yt=null,ge=null,Qe=null,Kg=!1,tc=!1,uo=!1,Qg=0,Cd=0,ec=null,w2=0;function Ye(){throw Error(n(321))}function Ev(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Di(i[o],a[o]))return!1;return!0}function _v(i,a,o,h,m,v){return Fr=v,Yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=i===null||i.memoizedState===null?Q1:Z1,uo=!1,v=o(h,m),uo=!1,tc&&(v=m1(a,o,h,m)),g1(i),v}function g1(i){B.H=im;var a=ge!==null&&ge.next!==null;if(Fr=0,Qe=ge=Yt=null,Kg=!1,Cd=0,ec=null,a)throw Error(n(300));i===null||mn||(i=i.dependencies,i!==null&&Vg(i)&&(mn=!0))}function m1(i,a,o,h){Yt=i;var m=0;do{if(tc&&(ec=null),Cd=0,tc=!1,25<=m)throw Error(n(301));if(m+=1,Qe=ge=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=k2,v=a(o,h)}while(tc);return v}function x2(){var i=B.H,a=i.useState()[0];return a=typeof a.then=="function"?Td(a):a,i=i.useState()[0],(ge!==null?ge.memoizedState:null)!==i&&(Yt.flags|=1024),a}function Cv(){var i=Qg!==0;return Qg=0,i}function Tv(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function Dv(i){if(Kg){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Kg=!1}Fr=0,Qe=ge=Yt=null,tc=!1,Cd=Qg=0,ec=null}function gi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Yt.memoizedState=Qe=i:Qe=Qe.next=i,Qe}function Ze(){if(ge===null){var i=Yt.alternate;i=i!==null?i.memoizedState:null}else i=ge.next;var a=Qe===null?Yt.memoizedState:Qe.next;if(a!==null)Qe=a,ge=i;else{if(i===null)throw Yt.alternate===null?Error(n(467)):Error(n(310));ge=i,i={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Qe===null?Yt.memoizedState=Qe=i:Qe=Qe.next=i}return Qe}function kv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Td(i){var a=Cd;return Cd+=1,ec===null&&(ec=[]),i=u1(ec,i,a),a=Yt,(Qe===null?a.memoizedState:Qe.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Q1:Z1),i}function Zg(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Td(i);if(i.$$typeof===N)return Un(i)}throw Error(n(438,String(i)))}function Rv(i){var a=null,o=Yt.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var h=Yt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=kv(),Yt.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),h=0;h<i;h++)o[h]=it;return a.index++,o}function La(i,a){return typeof a=="function"?a(i):a}function Jg(i){var a=Ze();return Mv(a,ge,i)}function Mv(i,a,o){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var m=i.baseQueue,v=h.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}a.baseQueue=m=v,h.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{a=m.next;var M=E=null,F=null,V=a,et=!1;do{var rt=V.lane&-536870913;if(rt!==V.lane?(te&rt)===rt:(Fr&rt)===rt){var Y=V.revertLane;if(Y===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),rt===Qu&&(et=!0);else if((Fr&Y)===Y){V=V.next,Y===Qu&&(et=!0);continue}else rt={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},F===null?(M=F=rt,E=v):F=F.next=rt,Yt.lanes|=Y,qr|=Y;rt=V.action,uo&&o(v,rt),v=V.hasEagerState?V.eagerState:o(v,rt)}else Y={lane:rt,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},F===null?(M=F=Y,E=v):F=F.next=Y,Yt.lanes|=rt,qr|=rt;V=V.next}while(V!==null&&V!==a);if(F===null?E=v:F.next=M,!Di(v,i.memoizedState)&&(mn=!0,et&&(o=Zu,o!==null)))throw o;i.memoizedState=v,i.baseState=E,i.baseQueue=F,h.lastRenderedState=v}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Nv(i){var a=Ze(),o=a.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=i;var h=o.dispatch,m=o.pending,v=a.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do v=i(v,E.action),E=E.next;while(E!==m);Di(v,a.memoizedState)||(mn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),o.lastRenderedState=v}return[v,h]}function y1(i,a,o){var h=Yt,m=Ze(),v=ae;if(v){if(o===void 0)throw Error(n(407));o=o()}else o=a();var E=!Di((ge||m).memoizedState,o);E&&(m.memoizedState=o,mn=!0),m=m.queue;var M=A1.bind(null,h,m,i);if(Dd(2048,8,M,[i]),m.getSnapshot!==a||E||Qe!==null&&Qe.memoizedState.tag&1){if(h.flags|=2048,nc(9,tm(),v1.bind(null,h,m,o,a),null),Ee===null)throw Error(n(349));v||(Fr&124)!==0||b1(h,a,o)}return o}function b1(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=Yt.updateQueue,a===null?(a=kv(),Yt.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function v1(i,a,o,h){a.value=o,a.getSnapshot=h,S1(a)&&w1(i)}function A1(i,a,o){return o(function(){S1(a)&&w1(i)})}function S1(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Di(i,o)}catch{return!0}}function w1(i){var a=Xu(i,2);a!==null&&Li(a,i,2)}function Ov(i){var a=gi();if(typeof i=="function"){var o=i;if(i=o(),uo){Dt(!0);try{o()}finally{Dt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:i},a}function x1(i,a,o,h){return i.baseState=o,Mv(i,ge,typeof h=="function"?h:La)}function E2(i,a,o,h,m){if(nm(i))throw Error(n(485));if(i=a.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};B.T!==null?o(!0):v.isTransition=!1,h(v),o=a.pending,o===null?(v.next=a.pending=v,E1(a,v)):(v.next=o.next,a.pending=o.next=v)}}function E1(i,a){var o=a.action,h=a.payload,m=i.state;if(a.isTransition){var v=B.T,E={};B.T=E;try{var M=o(m,h),F=B.S;F!==null&&F(E,M),_1(i,a,M)}catch(V){Lv(i,a,V)}finally{B.T=v}}else try{v=o(m,h),_1(i,a,v)}catch(V){Lv(i,a,V)}}function _1(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){C1(i,a,h)},function(h){return Lv(i,a,h)}):C1(i,a,o)}function C1(i,a,o){a.status="fulfilled",a.value=o,T1(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,E1(i,o)))}function Lv(i,a,o){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=o,T1(a),a=a.next;while(a!==h)}i.action=null}function T1(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function D1(i,a){return a}function k1(i,a){if(ae){var o=Ee.formState;if(o!==null){t:{var h=Yt;if(ae){if(je){e:{for(var m=je,v=$s;m.nodeType!==8;){if(!v){m=null;break e}if(m=Rs(m.nextSibling),m===null){m=null;break e}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){je=Rs(m.nextSibling),h=m.data==="F!";break t}}ao(h)}h=!1}h&&(a=o[0])}}return o=gi(),o.memoizedState=o.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D1,lastRenderedState:a},o.queue=h,o=$1.bind(null,Yt,h),h.dispatch=o,h=Ov(!1),v=Bv.bind(null,Yt,!1,h.queue),h=gi(),m={state:a,dispatch:null,action:i,pending:null},h.queue=m,o=E2.bind(null,Yt,m,v,o),m.dispatch=o,h.memoizedState=i,[a,o,!1]}function R1(i){var a=Ze();return M1(a,ge,i)}function M1(i,a,o){if(a=Mv(i,a,D1)[0],i=Jg(La)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Td(a)}catch(E){throw E===Sd?Xg:E}else h=a;a=Ze();var m=a.queue,v=m.dispatch;return o!==a.memoizedState&&(Yt.flags|=2048,nc(9,tm(),_2.bind(null,m,o),null)),[h,v,i]}function _2(i,a){i.action=a}function N1(i){var a=Ze(),o=ge;if(o!==null)return M1(a,o,i);Ze(),a=a.memoizedState,o=Ze();var h=o.queue.dispatch;return o.memoizedState=i,[a,h,!1]}function nc(i,a,o,h){return i={tag:i,create:o,deps:h,inst:a,next:null},a=Yt.updateQueue,a===null&&(a=kv(),Yt.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(h=o.next,o.next=i,i.next=h,a.lastEffect=i),i}function tm(){return{destroy:void 0,resource:void 0}}function O1(){return Ze().memoizedState}function em(i,a,o,h){var m=gi();h=h===void 0?null:h,Yt.flags|=i,m.memoizedState=nc(1|a,tm(),o,h)}function Dd(i,a,o,h){var m=Ze();h=h===void 0?null:h;var v=m.memoizedState.inst;ge!==null&&h!==null&&Ev(h,ge.memoizedState.deps)?m.memoizedState=nc(a,v,o,h):(Yt.flags|=i,m.memoizedState=nc(1|a,v,o,h))}function L1(i,a){em(8390656,8,i,a)}function P1(i,a){Dd(2048,8,i,a)}function z1(i,a){return Dd(4,2,i,a)}function I1(i,a){return Dd(4,4,i,a)}function F1(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function B1(i,a,o){o=o!=null?o.concat([i]):null,Dd(4,4,F1.bind(null,a,i),o)}function Pv(){}function j1(i,a){var o=Ze();a=a===void 0?null:a;var h=o.memoizedState;return a!==null&&Ev(a,h[1])?h[0]:(o.memoizedState=[i,a],i)}function H1(i,a){var o=Ze();a=a===void 0?null:a;var h=o.memoizedState;if(a!==null&&Ev(a,h[1]))return h[0];if(h=i(),uo){Dt(!0);try{i()}finally{Dt(!1)}}return o.memoizedState=[h,a],h}function zv(i,a,o){return o===void 0||(Fr&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=VE(),Yt.lanes|=i,qr|=i,o)}function U1(i,a,o,h){return Di(o,a)?o:Ju.current!==null?(i=zv(i,o,h),Di(i,a)||(mn=!0),i):(Fr&42)===0?(mn=!0,i.memoizedState=o):(i=VE(),Yt.lanes|=i,qr|=i,a)}function G1(i,a,o,h,m){var v=q.p;q.p=v!==0&&8>v?v:8;var E=B.T,M={};B.T=M,Bv(i,!1,a,o);try{var F=m(),V=B.S;if(V!==null&&V(M,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var et=S2(F,h);kd(i,a,et,Oi(i))}else kd(i,a,h,Oi(i))}catch(rt){kd(i,a,{then:function(){},status:"rejected",reason:rt},Oi())}finally{q.p=v,B.T=E}}function C2(){}function Iv(i,a,o,h){if(i.tag!==5)throw Error(n(476));var m=V1(i).queue;G1(i,m,a,yt,o===null?C2:function(){return q1(i),o(h)})}function V1(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:yt},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function q1(i){var a=V1(i).next.queue;kd(i,a,{},Oi())}function Fv(){return Un(Xd)}function Y1(){return Ze().memoizedState}function X1(){return Ze().memoizedState}function T2(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Oi();i=zr(o);var h=Ir(a,i,o);h!==null&&(Li(h,a,o),xd(h,a,o)),a={cache:pv()},i.payload=a;return}a=a.return}}function D2(i,a,o){var h=Oi();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},nm(i)?W1(a,o):(o=sv(i,a,o,h),o!==null&&(Li(o,i,h),K1(o,a,h)))}function $1(i,a,o){var h=Oi();kd(i,a,o,h)}function kd(i,a,o,h){var m={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(nm(i))W1(a,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var E=a.lastRenderedState,M=v(E,o);if(m.hasEagerState=!0,m.eagerState=M,Di(M,E))return Bg(i,a,m,0),Ee===null&&Fg(),!1}catch{}finally{}if(o=sv(i,a,m,h),o!==null)return Li(o,i,h),K1(o,a,h),!0}return!1}function Bv(i,a,o,h){if(h={lane:2,revertLane:y0(),action:h,hasEagerState:!1,eagerState:null,next:null},nm(i)){if(a)throw Error(n(479))}else a=sv(i,o,h,2),a!==null&&Li(a,i,2)}function nm(i){var a=i.alternate;return i===Yt||a!==null&&a===Yt}function W1(i,a){tc=Kg=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function K1(i,a,o){if((o&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,o|=h,a.lanes=o,Kl(i,o)}}var im={readContext:Un,use:Zg,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},Q1={readContext:Un,use:Zg,useCallback:function(i,a){return gi().memoizedState=[i,a===void 0?null:a],i},useContext:Un,useEffect:L1,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,em(4194308,4,F1.bind(null,a,i),o)},useLayoutEffect:function(i,a){return em(4194308,4,i,a)},useInsertionEffect:function(i,a){em(4,2,i,a)},useMemo:function(i,a){var o=gi();a=a===void 0?null:a;var h=i();if(uo){Dt(!0);try{i()}finally{Dt(!1)}}return o.memoizedState=[h,a],h},useReducer:function(i,a,o){var h=gi();if(o!==void 0){var m=o(a);if(uo){Dt(!0);try{o(a)}finally{Dt(!1)}}}else m=a;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=D2.bind(null,Yt,i),[h.memoizedState,i]},useRef:function(i){var a=gi();return i={current:i},a.memoizedState=i},useState:function(i){i=Ov(i);var a=i.queue,o=$1.bind(null,Yt,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:Pv,useDeferredValue:function(i,a){var o=gi();return zv(o,i,a)},useTransition:function(){var i=Ov(!1);return i=G1.bind(null,Yt,i.queue,!0,!1),gi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var h=Yt,m=gi();if(ae){if(o===void 0)throw Error(n(407));o=o()}else{if(o=a(),Ee===null)throw Error(n(349));(te&124)!==0||b1(h,a,o)}m.memoizedState=o;var v={value:o,getSnapshot:a};return m.queue=v,L1(A1.bind(null,h,v,i),[i]),h.flags|=2048,nc(9,tm(),v1.bind(null,h,v,o,a),null),o},useId:function(){var i=gi(),a=Ee.identifierPrefix;if(ae){var o=Ma,h=Ra;o=(h&~(1<<32-kt(h)-1)).toString(32)+o,a="«"+a+"R"+o,o=Qg++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=w2++,a="«"+a+"r"+o.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Fv,useFormState:k1,useActionState:k1,useOptimistic:function(i){var a=gi();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Bv.bind(null,Yt,!0,o),o.dispatch=a,[i,a]},useMemoCache:Rv,useCacheRefresh:function(){return gi().memoizedState=T2.bind(null,Yt)}},Z1={readContext:Un,use:Zg,useCallback:j1,useContext:Un,useEffect:P1,useImperativeHandle:B1,useInsertionEffect:z1,useLayoutEffect:I1,useMemo:H1,useReducer:Jg,useRef:O1,useState:function(){return Jg(La)},useDebugValue:Pv,useDeferredValue:function(i,a){var o=Ze();return U1(o,ge.memoizedState,i,a)},useTransition:function(){var i=Jg(La)[0],a=Ze().memoizedState;return[typeof i=="boolean"?i:Td(i),a]},useSyncExternalStore:y1,useId:Y1,useHostTransitionStatus:Fv,useFormState:R1,useActionState:R1,useOptimistic:function(i,a){var o=Ze();return x1(o,ge,i,a)},useMemoCache:Rv,useCacheRefresh:X1},k2={readContext:Un,use:Zg,useCallback:j1,useContext:Un,useEffect:P1,useImperativeHandle:B1,useInsertionEffect:z1,useLayoutEffect:I1,useMemo:H1,useReducer:Nv,useRef:O1,useState:function(){return Nv(La)},useDebugValue:Pv,useDeferredValue:function(i,a){var o=Ze();return ge===null?zv(o,i,a):U1(o,ge.memoizedState,i,a)},useTransition:function(){var i=Nv(La)[0],a=Ze().memoizedState;return[typeof i=="boolean"?i:Td(i),a]},useSyncExternalStore:y1,useId:Y1,useHostTransitionStatus:Fv,useFormState:N1,useActionState:N1,useOptimistic:function(i,a){var o=Ze();return ge!==null?x1(o,ge,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Rv,useCacheRefresh:X1},ic=null,Rd=0;function sm(i){var a=Rd;return Rd+=1,ic===null&&(ic=[]),u1(ic,i,a)}function Md(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function am(i,a){throw a.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function J1(i){var a=i._init;return a(i._payload)}function tE(i){function a(U,H){if(i){var G=U.deletions;G===null?(U.deletions=[H],U.flags|=16):G.push(H)}}function o(U,H){if(!i)return null;for(;H!==null;)a(U,H),H=H.sibling;return null}function h(U){for(var H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(U,H){return U=ka(U,H),U.index=0,U.sibling=null,U}function v(U,H,G){return U.index=G,i?(G=U.alternate,G!==null?(G=G.index,G<H?(U.flags|=67108866,H):G):(U.flags|=67108866,H)):(U.flags|=1048576,H)}function E(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function M(U,H,G,at){return H===null||H.tag!==6?(H=rv(G,U.mode,at),H.return=U,H):(H=m(H,G),H.return=U,H)}function F(U,H,G,at){var wt=G.type;return wt===x?et(U,H,G.props.children,at,G.key):H!==null&&(H.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===W&&J1(wt)===H.type)?(H=m(H,G.props),Md(H,G),H.return=U,H):(H=Hg(G.type,G.key,G.props,null,U.mode,at),Md(H,G),H.return=U,H)}function V(U,H,G,at){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=lv(G,U.mode,at),H.return=U,H):(H=m(H,G.children||[]),H.return=U,H)}function et(U,H,G,at,wt){return H===null||H.tag!==7?(H=eo(G,U.mode,at,wt),H.return=U,H):(H=m(H,G),H.return=U,H)}function rt(U,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=rv(""+H,U.mode,G),H.return=U,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return G=Hg(H.type,H.key,H.props,null,U.mode,G),Md(G,H),G.return=U,G;case A:return H=lv(H,U.mode,G),H.return=U,H;case W:var at=H._init;return H=at(H._payload),rt(U,H,G)}if(ht(H)||Z(H))return H=eo(H,U.mode,G,null),H.return=U,H;if(typeof H.then=="function")return rt(U,sm(H),G);if(H.$$typeof===N)return rt(U,qg(U,H),G);am(U,H)}return null}function Y(U,H,G,at){var wt=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return wt!==null?null:M(U,H,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===wt?F(U,H,G,at):null;case A:return G.key===wt?V(U,H,G,at):null;case W:return wt=G._init,G=wt(G._payload),Y(U,H,G,at)}if(ht(G)||Z(G))return wt!==null?null:et(U,H,G,at,null);if(typeof G.then=="function")return Y(U,H,sm(G),at);if(G.$$typeof===N)return Y(U,H,qg(U,G),at);am(U,G)}return null}function $(U,H,G,at,wt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return U=U.get(G)||null,M(H,U,""+at,wt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case b:return U=U.get(at.key===null?G:at.key)||null,F(H,U,at,wt);case A:return U=U.get(at.key===null?G:at.key)||null,V(H,U,at,wt);case W:var Xt=at._init;return at=Xt(at._payload),$(U,H,G,at,wt)}if(ht(at)||Z(at))return U=U.get(G)||null,et(H,U,at,wt,null);if(typeof at.then=="function")return $(U,H,G,sm(at),wt);if(at.$$typeof===N)return $(U,H,G,qg(H,at),wt);am(H,at)}return null}function Ot(U,H,G,at){for(var wt=null,Xt=null,Ct=H,Nt=H=0,bn=null;Ct!==null&&Nt<G.length;Nt++){Ct.index>Nt?(bn=Ct,Ct=null):bn=Ct.sibling;var se=Y(U,Ct,G[Nt],at);if(se===null){Ct===null&&(Ct=bn);break}i&&Ct&&se.alternate===null&&a(U,Ct),H=v(se,H,Nt),Xt===null?wt=se:Xt.sibling=se,Xt=se,Ct=bn}if(Nt===G.length)return o(U,Ct),ae&&io(U,Nt),wt;if(Ct===null){for(;Nt<G.length;Nt++)Ct=rt(U,G[Nt],at),Ct!==null&&(H=v(Ct,H,Nt),Xt===null?wt=Ct:Xt.sibling=Ct,Xt=Ct);return ae&&io(U,Nt),wt}for(Ct=h(Ct);Nt<G.length;Nt++)bn=$(Ct,U,Nt,G[Nt],at),bn!==null&&(i&&bn.alternate!==null&&Ct.delete(bn.key===null?Nt:bn.key),H=v(bn,H,Nt),Xt===null?wt=bn:Xt.sibling=bn,Xt=bn);return i&&Ct.forEach(function(tl){return a(U,tl)}),ae&&io(U,Nt),wt}function Rt(U,H,G,at){if(G==null)throw Error(n(151));for(var wt=null,Xt=null,Ct=H,Nt=H=0,bn=null,se=G.next();Ct!==null&&!se.done;Nt++,se=G.next()){Ct.index>Nt?(bn=Ct,Ct=null):bn=Ct.sibling;var tl=Y(U,Ct,se.value,at);if(tl===null){Ct===null&&(Ct=bn);break}i&&Ct&&tl.alternate===null&&a(U,Ct),H=v(tl,H,Nt),Xt===null?wt=tl:Xt.sibling=tl,Xt=tl,Ct=bn}if(se.done)return o(U,Ct),ae&&io(U,Nt),wt;if(Ct===null){for(;!se.done;Nt++,se=G.next())se=rt(U,se.value,at),se!==null&&(H=v(se,H,Nt),Xt===null?wt=se:Xt.sibling=se,Xt=se);return ae&&io(U,Nt),wt}for(Ct=h(Ct);!se.done;Nt++,se=G.next())se=$(Ct,U,Nt,se.value,at),se!==null&&(i&&se.alternate!==null&&Ct.delete(se.key===null?Nt:se.key),H=v(se,H,Nt),Xt===null?wt=se:Xt.sibling=se,Xt=se);return i&&Ct.forEach(function(RN){return a(U,RN)}),ae&&io(U,Nt),wt}function ye(U,H,G,at){if(typeof G=="object"&&G!==null&&G.type===x&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var wt=G.key;H!==null;){if(H.key===wt){if(wt=G.type,wt===x){if(H.tag===7){o(U,H.sibling),at=m(H,G.props.children),at.return=U,U=at;break t}}else if(H.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===W&&J1(wt)===H.type){o(U,H.sibling),at=m(H,G.props),Md(at,G),at.return=U,U=at;break t}o(U,H);break}else a(U,H);H=H.sibling}G.type===x?(at=eo(G.props.children,U.mode,at,G.key),at.return=U,U=at):(at=Hg(G.type,G.key,G.props,null,U.mode,at),Md(at,G),at.return=U,U=at)}return E(U);case A:t:{for(wt=G.key;H!==null;){if(H.key===wt)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){o(U,H.sibling),at=m(H,G.children||[]),at.return=U,U=at;break t}else{o(U,H);break}else a(U,H);H=H.sibling}at=lv(G,U.mode,at),at.return=U,U=at}return E(U);case W:return wt=G._init,G=wt(G._payload),ye(U,H,G,at)}if(ht(G))return Ot(U,H,G,at);if(Z(G)){if(wt=Z(G),typeof wt!="function")throw Error(n(150));return G=wt.call(G),Rt(U,H,G,at)}if(typeof G.then=="function")return ye(U,H,sm(G),at);if(G.$$typeof===N)return ye(U,H,qg(U,G),at);am(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(o(U,H.sibling),at=m(H,G),at.return=U,U=at):(o(U,H),at=rv(G,U.mode,at),at.return=U,U=at),E(U)):o(U,H)}return function(U,H,G,at){try{Rd=0;var wt=ye(U,H,G,at);return ic=null,wt}catch(Ct){if(Ct===Sd||Ct===Xg)throw Ct;var Xt=ki(29,Ct,null,U.mode);return Xt.lanes=at,Xt.return=U,Xt}finally{}}}var sc=tE(!0),eE=tE(!1),os=K(null),Ws=null;function Br(i){var a=i.alternate;R(un,un.current&1),R(os,i),Ws===null&&(a===null||Ju.current!==null||a.memoizedState!==null)&&(Ws=i)}function nE(i){if(i.tag===22){if(R(un,un.current),R(os,i),Ws===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ws=i)}}else jr()}function jr(){R(un,un.current),R(os,os.current)}function Pa(i){ot(os),Ws===i&&(Ws=null),ot(un)}var un=K(0);function rm(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||k0(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function jv(i,a,o,h){a=i.memoizedState,o=o(h,a),o=o==null?a:g({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Hv={enqueueSetState:function(i,a,o){i=i._reactInternals;var h=Oi(),m=zr(h);m.payload=a,o!=null&&(m.callback=o),a=Ir(i,m,h),a!==null&&(Li(a,i,h),xd(a,i,h))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var h=Oi(),m=zr(h);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=Ir(i,m,h),a!==null&&(Li(a,i,h),xd(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Oi(),h=zr(o);h.tag=2,a!=null&&(h.callback=a),a=Ir(i,h,o),a!==null&&(Li(a,i,o),xd(a,i,o))}};function iE(i,a,o,h,m,v,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,E):a.prototype&&a.prototype.isPureReactComponent?!fd(o,h)||!fd(m,v):!0}function sE(i,a,o,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,h),a.state!==i&&Hv.enqueueReplaceState(a,a.state,null)}function co(i,a){var o=a;if("ref"in a){o={};for(var h in a)h!=="ref"&&(o[h]=a[h])}if(i=i.defaultProps){o===a&&(o=g({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var lm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function aE(i){lm(i)}function rE(i){console.error(i)}function lE(i){lm(i)}function om(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function oE(i,a,o){try{var h=i.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Uv(i,a,o){return o=zr(o),o.tag=3,o.payload={element:null},o.callback=function(){om(i,a)},o}function uE(i){return i=zr(i),i.tag=3,i}function cE(i,a,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=h.value;i.payload=function(){return m(v)},i.callback=function(){oE(a,o,h)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){oE(a,o,h),typeof m!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function R2(i,a,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=o.alternate,a!==null&&bd(a,o,m,!0),o=os.current,o!==null){switch(o.tag){case 13:return Ws===null?d0():o.alternate===null&&He===0&&(He=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===yv?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([h]):a.add(h),p0(i,h,m)),!1;case 22:return o.flags|=65536,h===yv?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([h]):o.add(h)),p0(i,h,m)),!1}throw Error(n(435,o.tag))}return p0(i,h,m),d0(),!1}if(ae)return a=os.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==cv&&(i=Error(n(422),{cause:h}),yd(ss(i,o)))):(h!==cv&&(a=Error(n(423),{cause:h}),yd(ss(a,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=ss(h,o),m=Uv(i.stateNode,h,m),Av(i,m),He!==4&&(He=2)),!1;var v=Error(n(520),{cause:h});if(v=ss(v,o),Fd===null?Fd=[v]:Fd.push(v),He!==4&&(He=2),a===null)return!0;h=ss(h,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Uv(o.stateNode,h,i),Av(o,i),!1;case 1:if(a=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yr===null||!Yr.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=uE(m),cE(m,i,o,h),Av(o,m),!1}o=o.return}while(o!==null);return!1}var hE=Error(n(461)),mn=!1;function Cn(i,a,o,h){a.child=i===null?eE(a,null,o,h):sc(a,i.child,o,h)}function dE(i,a,o,h,m){o=o.render;var v=a.ref;if("ref"in h){var E={};for(var M in h)M!=="ref"&&(E[M]=h[M])}else E=h;return lo(a),h=_v(i,a,o,E,v,m),M=Cv(),i!==null&&!mn?(Tv(i,a,m),za(i,a,m)):(ae&&M&&ov(a),a.flags|=1,Cn(i,a,h,m),a.child)}function fE(i,a,o,h,m){if(i===null){var v=o.type;return typeof v=="function"&&!av(v)&&v.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=v,pE(i,a,v,h,m)):(i=Hg(o.type,null,h,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(v=i.child,!Kv(i,m)){var E=v.memoizedProps;if(o=o.compare,o=o!==null?o:fd,o(E,h)&&i.ref===a.ref)return za(i,a,m)}return a.flags|=1,i=ka(v,h),i.ref=a.ref,i.return=a,a.child=i}function pE(i,a,o,h,m){if(i!==null){var v=i.memoizedProps;if(fd(v,h)&&i.ref===a.ref)if(mn=!1,a.pendingProps=h=v,Kv(i,m))(i.flags&131072)!==0&&(mn=!0);else return a.lanes=i.lanes,za(i,a,m)}return Gv(i,a,o,h,m)}function gE(i,a,o){var h=a.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=v!==null?v.baseLanes|o:o,i!==null){for(m=a.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;a.childLanes=v&~h}else a.childLanes=0,a.child=null;return mE(i,a,h,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yg(a,v!==null?v.cachePool:null),v!==null?p1(a,v):wv(),nE(a);else return a.lanes=a.childLanes=536870912,mE(i,a,v!==null?v.baseLanes|o:o,o)}else v!==null?(Yg(a,v.cachePool),p1(a,v),jr(),a.memoizedState=null):(i!==null&&Yg(a,null),wv(),jr());return Cn(i,a,m,o),a.child}function mE(i,a,o,h){var m=mv();return m=m===null?null:{parent:on._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},i!==null&&Yg(a,null),wv(),nE(a),i!==null&&bd(i,a,h,!0),null}function um(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function Gv(i,a,o,h,m){return lo(a),o=_v(i,a,o,h,void 0,m),h=Cv(),i!==null&&!mn?(Tv(i,a,m),za(i,a,m)):(ae&&h&&ov(a),a.flags|=1,Cn(i,a,o,m),a.child)}function yE(i,a,o,h,m,v){return lo(a),a.updateQueue=null,o=m1(a,h,o,m),g1(i),h=Cv(),i!==null&&!mn?(Tv(i,a,v),za(i,a,v)):(ae&&h&&ov(a),a.flags|=1,Cn(i,a,o,v),a.child)}function bE(i,a,o,h,m){if(lo(a),a.stateNode===null){var v=$u,E=o.contextType;typeof E=="object"&&E!==null&&(v=Un(E)),v=new o(h,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Hv,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=h,v.state=a.memoizedState,v.refs={},bv(a),E=o.contextType,v.context=typeof E=="object"&&E!==null?Un(E):$u,v.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(jv(a,o,E,h),v.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Hv.enqueueReplaceState(v,v.state,null),_d(a,h,v,m),Ed(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){v=a.stateNode;var M=a.memoizedProps,F=co(o,M);v.props=F;var V=v.context,et=o.contextType;E=$u,typeof et=="object"&&et!==null&&(E=Un(et));var rt=o.getDerivedStateFromProps;et=typeof rt=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,et||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||V!==E)&&sE(a,v,h,E),Pr=!1;var Y=a.memoizedState;v.state=Y,_d(a,h,v,m),Ed(),V=a.memoizedState,M||Y!==V||Pr?(typeof rt=="function"&&(jv(a,o,rt,h),V=a.memoizedState),(F=Pr||iE(a,o,F,h,Y,V,E))?(et||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=V),v.props=h,v.state=V,v.context=E,h=F):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{v=a.stateNode,vv(i,a),E=a.memoizedProps,et=co(o,E),v.props=et,rt=a.pendingProps,Y=v.context,V=o.contextType,F=$u,typeof V=="object"&&V!==null&&(F=Un(V)),M=o.getDerivedStateFromProps,(V=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==rt||Y!==F)&&sE(a,v,h,F),Pr=!1,Y=a.memoizedState,v.state=Y,_d(a,h,v,m),Ed();var $=a.memoizedState;E!==rt||Y!==$||Pr||i!==null&&i.dependencies!==null&&Vg(i.dependencies)?(typeof M=="function"&&(jv(a,o,M,h),$=a.memoizedState),(et=Pr||iE(a,o,et,h,Y,$,F)||i!==null&&i.dependencies!==null&&Vg(i.dependencies))?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,$,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,$,F)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=$),v.props=h,v.state=$,v.context=F,h=et):(typeof v.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),h=!1)}return v=h,um(i,a),h=(a.flags&128)!==0,v||h?(v=a.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,i!==null&&h?(a.child=sc(a,i.child,null,m),a.child=sc(a,null,o,m)):Cn(i,a,o,m),a.memoizedState=v.state,i=a.child):i=za(i,a,m),i}function vE(i,a,o,h){return md(),a.flags|=256,Cn(i,a,o,h),a.child}var Vv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qv(i){return{baseLanes:i,cachePool:r1()}}function Yv(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=us),i}function AE(i,a,o){var h=a.pendingProps,m=!1,v=(a.flags&128)!==0,E;if((E=v)||(E=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,i===null){if(ae){if(m?Br(a):jr(),ae){var M=je,F;if(F=M){t:{for(F=M,M=$s;F.nodeType!==8;){if(!M){M=null;break t}if(F=Rs(F.nextSibling),F===null){M=null;break t}}M=F}M!==null?(a.memoizedState={dehydrated:M,treeContext:no!==null?{id:Ra,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},F=ki(18,null,null,0),F.stateNode=M,F.return=a,a.child=F,ti=a,je=null,F=!0):F=!1}F||ao(a)}if(M=a.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return k0(M)?a.lanes=32:a.lanes=536870912,null;Pa(a)}return M=h.children,h=h.fallback,m?(jr(),m=a.mode,M=cm({mode:"hidden",children:M},m),h=eo(h,m,o,null),M.return=a,h.return=a,M.sibling=h,a.child=M,m=a.child,m.memoizedState=qv(o),m.childLanes=Yv(i,E,o),a.memoizedState=Vv,h):(Br(a),Xv(a,M))}if(F=i.memoizedState,F!==null&&(M=F.dehydrated,M!==null)){if(v)a.flags&256?(Br(a),a.flags&=-257,a=$v(i,a,o)):a.memoizedState!==null?(jr(),a.child=i.child,a.flags|=128,a=null):(jr(),m=h.fallback,M=a.mode,h=cm({mode:"visible",children:h.children},M),m=eo(m,M,o,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,sc(a,i.child,null,o),h=a.child,h.memoizedState=qv(o),h.childLanes=Yv(i,E,o),a.memoizedState=Vv,a=m);else if(Br(a),k0(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var V=E.dgst;E=V,h=Error(n(419)),h.stack="",h.digest=E,yd({value:h,source:null,stack:null}),a=$v(i,a,o)}else if(mn||bd(i,a,o,!1),E=(o&i.childLanes)!==0,mn||E){if(E=Ee,E!==null&&(h=o&-o,h=(h&42)!==0?1:we(h),h=(h&(E.suspendedLanes|o))!==0?0:h,h!==0&&h!==F.retryLane))throw F.retryLane=h,Xu(i,h),Li(E,i,h),hE;M.data==="$?"||d0(),a=$v(i,a,o)}else M.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,je=Rs(M.nextSibling),ti=a,ae=!0,so=null,$s=!1,i!==null&&(rs[ls++]=Ra,rs[ls++]=Ma,rs[ls++]=no,Ra=i.id,Ma=i.overflow,no=a),a=Xv(a,h.children),a.flags|=4096);return a}return m?(jr(),m=h.fallback,M=a.mode,F=i.child,V=F.sibling,h=ka(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,V!==null?m=ka(V,m):(m=eo(m,M,o,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,M=i.child.memoizedState,M===null?M=qv(o):(F=M.cachePool,F!==null?(V=on._currentValue,F=F.parent!==V?{parent:V,pool:V}:F):F=r1(),M={baseLanes:M.baseLanes|o,cachePool:F}),m.memoizedState=M,m.childLanes=Yv(i,E,o),a.memoizedState=Vv,h):(Br(a),o=i.child,i=o.sibling,o=ka(o,{mode:"visible",children:h.children}),o.return=a,o.sibling=null,i!==null&&(E=a.deletions,E===null?(a.deletions=[i],a.flags|=16):E.push(i)),a.child=o,a.memoizedState=null,o)}function Xv(i,a){return a=cm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function cm(i,a){return i=ki(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function $v(i,a,o){return sc(a,i.child,null,o),i=Xv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function SE(i,a,o){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),dv(i.return,a,o)}function Wv(i,a,o,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=o,v.tailMode=m)}function wE(i,a,o){var h=a.pendingProps,m=h.revealOrder,v=h.tail;if(Cn(i,a,h.children,o),h=un.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&SE(i,o,a);else if(i.tag===19)SE(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(R(un,h),m){case"forwards":for(o=a.child,m=null;o!==null;)i=o.alternate,i!==null&&rm(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),Wv(a,!1,m,o,v);break;case"backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&rm(i)===null){a.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Wv(a,!0,o,null,v);break;case"together":Wv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function za(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),qr|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(bd(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,o=ka(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=ka(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Kv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Vg(i)))}function M2(i,a,o){switch(a.tag){case 3:mt(a,a.stateNode.containerInfo),Lr(a,on,i.memoizedState.cache),md();break;case 27:case 5:jt(a);break;case 4:mt(a,a.stateNode.containerInfo);break;case 10:Lr(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Br(a),a.flags|=128,null):(o&a.child.childLanes)!==0?AE(i,a,o):(Br(a),i=za(i,a,o),i!==null?i.sibling:null);Br(a);break;case 19:var m=(i.flags&128)!==0;if(h=(o&a.childLanes)!==0,h||(bd(i,a,o,!1),h=(o&a.childLanes)!==0),m){if(h)return wE(i,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),R(un,un.current),h)break;return null;case 22:case 23:return a.lanes=0,gE(i,a,o);case 24:Lr(a,on,i.memoizedState.cache)}return za(i,a,o)}function xE(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)mn=!0;else{if(!Kv(i,o)&&(a.flags&128)===0)return mn=!1,M2(i,a,o);mn=(i.flags&131072)!==0}else mn=!1,ae&&(a.flags&1048576)!==0&&Jx(a,Gg,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")av(h)?(i=co(h,i),a.tag=1,a=bE(null,a,h,i,o)):(a.tag=0,a=Gv(null,a,h,i,o));else{if(h!=null){if(m=h.$$typeof,m===z){a.tag=11,a=dE(null,a,h,i,o);break t}else if(m===j){a.tag=14,a=fE(null,a,h,i,o);break t}}throw a=J(h)||h,Error(n(306,a,""))}}return a;case 0:return Gv(i,a,a.type,a.pendingProps,o);case 1:return h=a.type,m=co(h,a.pendingProps),bE(i,a,h,m,o);case 3:t:{if(mt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));h=a.pendingProps;var v=a.memoizedState;m=v.element,vv(i,a),_d(a,h,null,o);var E=a.memoizedState;if(h=E.cache,Lr(a,on,h),h!==v.cache&&fv(a,[on],o,!0),Ed(),h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=vE(i,a,h,o);break t}else if(h!==m){m=ss(Error(n(424)),a),yd(m),a=vE(i,a,h,o);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(je=Rs(i.firstChild),ti=a,ae=!0,so=null,$s=!0,o=eE(a,null,h,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(md(),h===m){a=za(i,a,o);break t}Cn(i,a,h,o)}a=a.child}return a;case 26:return um(i,a),i===null?(o=T_(a.type,null,a.pendingProps,null))?a.memoizedState=o:ae||(o=a.type,i=a.pendingProps,h=Em(nt.current).createElement(o),h[ln]=a,h[gn]=i,Dn(h,o,i),qt(h),a.stateNode=h):a.memoizedState=T_(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return jt(a),i===null&&ae&&(h=a.stateNode=E_(a.type,a.pendingProps,nt.current),ti=a,$s=!0,m=je,Wr(a.type)?(R0=m,je=Rs(h.firstChild)):je=m),Cn(i,a,a.pendingProps.children,o),um(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ae&&((m=h=je)&&(h=aN(h,a.type,a.pendingProps,$s),h!==null?(a.stateNode=h,ti=a,je=Rs(h.firstChild),$s=!1,m=!0):m=!1),m||ao(a)),jt(a),m=a.type,v=a.pendingProps,E=i!==null?i.memoizedProps:null,h=v.children,C0(m,v)?h=null:E!==null&&C0(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=_v(i,a,x2,null,null,o),Xd._currentValue=m),um(i,a),Cn(i,a,h,o),a.child;case 6:return i===null&&ae&&((i=o=je)&&(o=rN(o,a.pendingProps,$s),o!==null?(a.stateNode=o,ti=a,je=null,i=!0):i=!1),i||ao(a)),null;case 13:return AE(i,a,o);case 4:return mt(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=sc(a,null,h,o):Cn(i,a,h,o),a.child;case 11:return dE(i,a,a.type,a.pendingProps,o);case 7:return Cn(i,a,a.pendingProps,o),a.child;case 8:return Cn(i,a,a.pendingProps.children,o),a.child;case 12:return Cn(i,a,a.pendingProps.children,o),a.child;case 10:return h=a.pendingProps,Lr(a,a.type,h.value),Cn(i,a,h.children,o),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,lo(a),m=Un(m),h=h(m),a.flags|=1,Cn(i,a,h,o),a.child;case 14:return fE(i,a,a.type,a.pendingProps,o);case 15:return pE(i,a,a.type,a.pendingProps,o);case 19:return wE(i,a,o);case 31:return h=a.pendingProps,o=a.mode,h={mode:h.mode,children:h.children},i===null?(o=cm(h,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ka(i.child,h),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return gE(i,a,o);case 24:return lo(a),h=Un(on),i===null?(m=mv(),m===null&&(m=Ee,v=pv(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),a.memoizedState={parent:h,cache:m},bv(a),Lr(a,on,m)):((i.lanes&o)!==0&&(vv(i,a),_d(a,null,null,o),Ed()),m=i.memoizedState,v=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Lr(a,on,h)):(h=v.cache,Lr(a,on,h),h!==m.cache&&fv(a,[on],o,!0))),Cn(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function Ia(i){i.flags|=4}function EE(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!N_(a)){if(a=os.current,a!==null&&((te&4194048)===te?Ws!==null:(te&62914560)!==te&&(te&536870912)===0||a!==Ws))throw wd=yv,l1;i.flags|=8192}}function hm(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ed():536870912,i.lanes|=a,oc|=a)}function Nd(i,a){if(!ae)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Pe(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,h=0;if(a)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=o,a}function N2(i,a,o){var h=a.pendingProps;switch(uv(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(a),null;case 1:return Pe(a),null;case 3:return o=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Oa(on),Tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(gd(a)?Ia(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,n1())),Pe(a),null;case 26:return o=a.memoizedState,i===null?(Ia(a),o!==null?(Pe(a),EE(a,o)):(Pe(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Ia(a),Pe(a),EE(a,o)):(Pe(a),a.flags&=-16777217):(i.memoizedProps!==h&&Ia(a),Pe(a),a.flags&=-16777217),null;case 27:fe(a),o=nt.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Ia(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Pe(a),null}i=st.current,gd(a)?t1(a):(i=E_(m,h,o),a.stateNode=i,Ia(a))}return Pe(a),null;case 5:if(fe(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Ia(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Pe(a),null}if(i=st.current,gd(a))t1(a);else{switch(m=Em(nt.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?m.createElement(o,{is:h.is}):m.createElement(o)}}i[ln]=a,i[gn]=h;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;t:switch(Dn(i,o,h),o){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ia(a)}}return Pe(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Ia(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(i=nt.current,gd(a)){if(i=a.stateNode,o=a.memoizedProps,h=null,m=ti,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[ln]=a,i=!!(i.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||y_(i.nodeValue,o)),i||ao(a)}else i=Em(i).createTextNode(h),i[ln]=a,a.stateNode=i}return Pe(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=gd(a),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(n(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[ln]=a}else md(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),m=!1}else m=n1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Pa(a),a):(Pa(a),null)}if(Pa(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=h!==null,i=i!==null&&i.memoizedState!==null,o){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==m&&(h.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),hm(a,a.updateQueue),Pe(a),null;case 4:return Tt(),i===null&&S0(a.stateNode.containerInfo),Pe(a),null;case 10:return Oa(a.type),Pe(a),null;case 19:if(ot(un),m=a.memoizedState,m===null)return Pe(a),null;if(h=(a.flags&128)!==0,v=m.rendering,v===null)if(h)Nd(m,!1);else{if(He!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(v=rm(i),v!==null){for(a.flags|=128,Nd(m,!1),i=v.updateQueue,a.updateQueue=i,hm(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)Zx(o,i),o=o.sibling;return R(un,un.current&1|2),a.child}i=i.sibling}m.tail!==null&&Be()>pm&&(a.flags|=128,h=!0,Nd(m,!1),a.lanes=4194304)}else{if(!h)if(i=rm(v),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,hm(a,i),Nd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!ae)return Pe(a),null}else 2*Be()-m.renderingStartTime>pm&&o!==536870912&&(a.flags|=128,h=!0,Nd(m,!1),a.lanes=4194304);m.isBackwards?(v.sibling=a.child,a.child=v):(i=m.last,i!==null?i.sibling=v:a.child=v,m.last=v)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Be(),a.sibling=null,i=un.current,R(un,h?i&1|2:i&1),a):(Pe(a),null);case 22:case 23:return Pa(a),xv(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(o&536870912)!==0&&(a.flags&128)===0&&(Pe(a),a.subtreeFlags&6&&(a.flags|=8192)):Pe(a),o=a.updateQueue,o!==null&&hm(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==o&&(a.flags|=2048),i!==null&&ot(oo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Oa(on),Pe(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function O2(i,a){switch(uv(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Oa(on),Tt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return fe(a),null;case 13:if(Pa(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));md()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ot(un),null;case 4:return Tt(),null;case 10:return Oa(a.type),null;case 22:case 23:return Pa(a),xv(),i!==null&&ot(oo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Oa(on),null;case 25:return null;default:return null}}function _E(i,a){switch(uv(a),a.tag){case 3:Oa(on),Tt();break;case 26:case 27:case 5:fe(a);break;case 4:Tt();break;case 13:Pa(a);break;case 19:ot(un);break;case 10:Oa(a.type);break;case 22:case 23:Pa(a),xv(),i!==null&&ot(oo);break;case 24:Oa(on)}}function Od(i,a){try{var o=a.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&i)===i){h=void 0;var v=o.create,E=o.inst;h=v(),E.destroy=h}o=o.next}while(o!==m)}}catch(M){xe(a,a.return,M)}}function Hr(i,a,o){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var v=m.next;h=v;do{if((h.tag&i)===i){var E=h.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,m=a;var F=o,V=M;try{V()}catch(et){xe(m,F,et)}}}h=h.next}while(h!==v)}}catch(et){xe(a,a.return,et)}}function CE(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{f1(a,o)}catch(h){xe(i,i.return,h)}}}function TE(i,a,o){o.props=co(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(h){xe(i,a,h)}}function Ld(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof o=="function"?i.refCleanup=o(h):o.current=h}}catch(m){xe(i,a,m)}}function Ks(i,a){var o=i.ref,h=i.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){xe(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){xe(i,a,m)}else o.current=null}function DE(i){var a=i.type,o=i.memoizedProps,h=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){xe(i,i.return,m)}}function Qv(i,a,o){try{var h=i.stateNode;tN(h,i.type,o,a),h[gn]=a}catch(m){xe(i,i.return,m)}}function kE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wr(i.type)||i.tag===4}function Zv(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||kE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jv(i,a,o){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=xm));else if(h!==4&&(h===27&&Wr(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Jv(i,a,o),i=i.sibling;i!==null;)Jv(i,a,o),i=i.sibling}function dm(i,a,o){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(h!==4&&(h===27&&Wr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(dm(i,a,o),i=i.sibling;i!==null;)dm(i,a,o),i=i.sibling}function RE(i){var a=i.stateNode,o=i.memoizedProps;try{for(var h=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dn(a,h,o),a[ln]=i,a[gn]=o}catch(v){xe(i,i.return,v)}}var Fa=!1,Xe=!1,t0=!1,ME=typeof WeakSet=="function"?WeakSet:Set,yn=null;function L2(i,a){if(i=i.containerInfo,E0=Rm,i=Ux(i),Zb(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break t}var E=0,M=-1,F=-1,V=0,et=0,rt=i,Y=null;e:for(;;){for(var $;rt!==o||m!==0&&rt.nodeType!==3||(M=E+m),rt!==v||h!==0&&rt.nodeType!==3||(F=E+h),rt.nodeType===3&&(E+=rt.nodeValue.length),($=rt.firstChild)!==null;)Y=rt,rt=$;for(;;){if(rt===i)break e;if(Y===o&&++V===m&&(M=E),Y===v&&++et===h&&(F=E),($=rt.nextSibling)!==null)break;rt=Y,Y=rt.parentNode}rt=$}o=M===-1||F===-1?null:{start:M,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(_0={focusedElem:i,selectionRange:o},Rm=!1,yn=a;yn!==null;)if(a=yn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,yn=i;else for(;yn!==null;){switch(a=yn,v=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=a,m=v.memoizedProps,v=v.memoizedState,h=o.stateNode;try{var Ot=co(o.type,m,o.elementType===o.type);i=h.getSnapshotBeforeUpdate(Ot,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(Rt){xe(o,o.return,Rt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)D0(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":D0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,yn=i;break}yn=a.return}}function NE(i,a,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(i,o),h&4&&Od(5,o);break;case 1:if(Ur(i,o),h&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(E){xe(o,o.return,E)}else{var m=co(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(E){xe(o,o.return,E)}}h&64&&CE(o),h&512&&Ld(o,o.return);break;case 3:if(Ur(i,o),h&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{f1(i,a)}catch(E){xe(o,o.return,E)}}break;case 27:a===null&&h&4&&RE(o);case 26:case 5:Ur(i,o),a===null&&h&4&&DE(o),h&512&&Ld(o,o.return);break;case 12:Ur(i,o);break;case 13:Ur(i,o),h&4&&PE(i,o),h&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=G2.bind(null,o),lN(i,o))));break;case 22:if(h=o.memoizedState!==null||Fa,!h){a=a!==null&&a.memoizedState!==null||Xe,m=Fa;var v=Xe;Fa=h,(Xe=a)&&!v?Gr(i,o,(o.subtreeFlags&8772)!==0):Ur(i,o),Fa=m,Xe=v}break;case 30:break;default:Ur(i,o)}}function OE(i){var a=i.alternate;a!==null&&(i.alternate=null,OE(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Iu(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Re=null,mi=!1;function Ba(i,a,o){for(o=o.child;o!==null;)LE(i,a,o),o=o.sibling}function LE(i,a,o){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(tt,o)}catch{}switch(o.tag){case 26:Xe||Ks(o,a),Ba(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Xe||Ks(o,a);var h=Re,m=mi;Wr(o.type)&&(Re=o.stateNode,mi=!1),Ba(i,a,o),Gd(o.stateNode),Re=h,mi=m;break;case 5:Xe||Ks(o,a);case 6:if(h=Re,m=mi,Re=null,Ba(i,a,o),Re=h,mi=m,Re!==null)if(mi)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(o.stateNode)}catch(v){xe(o,a,v)}else try{Re.removeChild(o.stateNode)}catch(v){xe(o,a,v)}break;case 18:Re!==null&&(mi?(i=Re,w_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Qd(i)):w_(Re,o.stateNode));break;case 4:h=Re,m=mi,Re=o.stateNode.containerInfo,mi=!0,Ba(i,a,o),Re=h,mi=m;break;case 0:case 11:case 14:case 15:Xe||Hr(2,o,a),Xe||Hr(4,o,a),Ba(i,a,o);break;case 1:Xe||(Ks(o,a),h=o.stateNode,typeof h.componentWillUnmount=="function"&&TE(o,a,h)),Ba(i,a,o);break;case 21:Ba(i,a,o);break;case 22:Xe=(h=Xe)||o.memoizedState!==null,Ba(i,a,o),Xe=h;break;default:Ba(i,a,o)}}function PE(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qd(i)}catch(o){xe(a,a.return,o)}}function P2(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new ME),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new ME),a;default:throw Error(n(435,i.tag))}}function e0(i,a){var o=P2(i);a.forEach(function(h){var m=V2.bind(null,i,h);o.has(h)||(o.add(h),h.then(m,m))})}function Ri(i,a){var o=a.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],v=i,E=a,M=E;t:for(;M!==null;){switch(M.tag){case 27:if(Wr(M.type)){Re=M.stateNode,mi=!1;break t}break;case 5:Re=M.stateNode,mi=!1;break t;case 3:case 4:Re=M.stateNode.containerInfo,mi=!0;break t}M=M.return}if(Re===null)throw Error(n(160));LE(v,E,m),Re=null,mi=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)zE(a,i),a=a.sibling}var ks=null;function zE(i,a){var o=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ri(a,i),Mi(i),h&4&&(Hr(3,i,i.return),Od(3,i),Hr(5,i,i.return));break;case 1:Ri(a,i),Mi(i),h&512&&(Xe||o===null||Ks(o,o.return)),h&64&&Fa&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=ks;if(Ri(a,i),Mi(i),h&512&&(Xe||o===null||Ks(o,o.return)),h&4){var v=o!==null?o.memoizedState:null;if(h=i.memoizedState,o===null)if(h===null)if(i.stateNode===null){t:{h=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Ca]||v[ln]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(h),m.head.insertBefore(v,m.querySelector("head > title"))),Dn(v,h,o),v[ln]=i,qt(v),h=v;break t;case"link":var E=R_("link","href",m).get(h+(o.href||""));if(E){for(var M=0;M<E.length;M++)if(v=E[M],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(M,1);break e}}v=m.createElement(h),Dn(v,h,o),m.head.appendChild(v);break;case"meta":if(E=R_("meta","content",m).get(h+(o.content||""))){for(M=0;M<E.length;M++)if(v=E[M],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(M,1);break e}}v=m.createElement(h),Dn(v,h,o),m.head.appendChild(v);break;default:throw Error(n(468,h))}v[ln]=i,qt(v),h=v}i.stateNode=h}else M_(m,i.type,i.stateNode);else i.stateNode=k_(m,h,i.memoizedProps);else v!==h?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,h===null?M_(m,i.type,i.stateNode):k_(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Qv(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ri(a,i),Mi(i),h&512&&(Xe||o===null||Ks(o,o.return)),o!==null&&h&4&&Qv(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ri(a,i),Mi(i),h&512&&(Xe||o===null||Ks(o,o.return)),i.flags&32){m=i.stateNode;try{ju(m,"")}catch($){xe(i,i.return,$)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,Qv(i,m,o!==null?o.memoizedProps:m)),h&1024&&(t0=!0);break;case 6:if(Ri(a,i),Mi(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,o=i.stateNode;try{o.nodeValue=h}catch($){xe(i,i.return,$)}}break;case 3:if(Tm=null,m=ks,ks=_m(a.containerInfo),Ri(a,i),ks=m,Mi(i),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Qd(a.containerInfo)}catch($){xe(i,i.return,$)}t0&&(t0=!1,IE(i));break;case 4:h=ks,ks=_m(i.stateNode.containerInfo),Ri(a,i),Mi(i),ks=h;break;case 12:Ri(a,i),Mi(i);break;case 13:Ri(a,i),Mi(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(l0=Be()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,e0(i,h)));break;case 22:m=i.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,V=Fa,et=Xe;if(Fa=V||m,Xe=et||F,Ri(a,i),Xe=et,Fa=V,Mi(i),h&8192)t:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(o===null||F||Fa||Xe||ho(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){F=o=a;try{if(v=F.stateNode,m)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=F.stateNode;var rt=F.memoizedProps.style,Y=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;M.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch($){xe(F,F.return,$)}}}else if(a.tag===6){if(o===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch($){xe(F,F.return,$)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,e0(i,o))));break;case 19:Ri(a,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,e0(i,h)));break;case 30:break;case 21:break;default:Ri(a,i),Mi(i)}}function Mi(i){var a=i.flags;if(a&2){try{for(var o,h=i.return;h!==null;){if(kE(h)){o=h;break}h=h.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var m=o.stateNode,v=Zv(i);dm(i,v,m);break;case 5:var E=o.stateNode;o.flags&32&&(ju(E,""),o.flags&=-33);var M=Zv(i);dm(i,M,E);break;case 3:case 4:var F=o.stateNode.containerInfo,V=Zv(i);Jv(i,V,F);break;default:throw Error(n(161))}}catch(et){xe(i,i.return,et)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function IE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;IE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ur(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)NE(i,a.alternate,a),a=a.sibling}function ho(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Hr(4,a,a.return),ho(a);break;case 1:Ks(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&TE(a,a.return,o),ho(a);break;case 27:Gd(a.stateNode);case 26:case 5:Ks(a,a.return),ho(a);break;case 22:a.memoizedState===null&&ho(a);break;case 30:ho(a);break;default:ho(a)}i=i.sibling}}function Gr(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=i,v=a,E=v.flags;switch(v.tag){case 0:case 11:case 15:Gr(m,v,o),Od(4,v);break;case 1:if(Gr(m,v,o),h=v,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(V){xe(h,h.return,V)}if(h=v,m=h.updateQueue,m!==null){var M=h.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)d1(F[m],M)}catch(V){xe(h,h.return,V)}}o&&E&64&&CE(v),Ld(v,v.return);break;case 27:RE(v);case 26:case 5:Gr(m,v,o),o&&h===null&&E&4&&DE(v),Ld(v,v.return);break;case 12:Gr(m,v,o);break;case 13:Gr(m,v,o),o&&E&4&&PE(m,v);break;case 22:v.memoizedState===null&&Gr(m,v,o),Ld(v,v.return);break;case 30:break;default:Gr(m,v,o)}a=a.sibling}}function n0(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&vd(o))}function i0(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&vd(i))}function Qs(i,a,o,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)FE(i,a,o,h),a=a.sibling}function FE(i,a,o,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Qs(i,a,o,h),m&2048&&Od(9,a);break;case 1:Qs(i,a,o,h);break;case 3:Qs(i,a,o,h),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&vd(i)));break;case 12:if(m&2048){Qs(i,a,o,h),i=a.stateNode;try{var v=a.memoizedProps,E=v.id,M=v.onPostCommit;typeof M=="function"&&M(E,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){xe(a,a.return,F)}}else Qs(i,a,o,h);break;case 13:Qs(i,a,o,h);break;case 23:break;case 22:v=a.stateNode,E=a.alternate,a.memoizedState!==null?v._visibility&2?Qs(i,a,o,h):Pd(i,a):v._visibility&2?Qs(i,a,o,h):(v._visibility|=2,ac(i,a,o,h,(a.subtreeFlags&10256)!==0)),m&2048&&n0(E,a);break;case 24:Qs(i,a,o,h),m&2048&&i0(a.alternate,a);break;default:Qs(i,a,o,h)}}function ac(i,a,o,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=i,E=a,M=o,F=h,V=E.flags;switch(E.tag){case 0:case 11:case 15:ac(v,E,M,F,m),Od(8,E);break;case 23:break;case 22:var et=E.stateNode;E.memoizedState!==null?et._visibility&2?ac(v,E,M,F,m):Pd(v,E):(et._visibility|=2,ac(v,E,M,F,m)),m&&V&2048&&n0(E.alternate,E);break;case 24:ac(v,E,M,F,m),m&&V&2048&&i0(E.alternate,E);break;default:ac(v,E,M,F,m)}a=a.sibling}}function Pd(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,h=a,m=h.flags;switch(h.tag){case 22:Pd(o,h),m&2048&&n0(h.alternate,h);break;case 24:Pd(o,h),m&2048&&i0(h.alternate,h);break;default:Pd(o,h)}a=a.sibling}}var zd=8192;function rc(i){if(i.subtreeFlags&zd)for(i=i.child;i!==null;)BE(i),i=i.sibling}function BE(i){switch(i.tag){case 26:rc(i),i.flags&zd&&i.memoizedState!==null&&AN(ks,i.memoizedState,i.memoizedProps);break;case 5:rc(i);break;case 3:case 4:var a=ks;ks=_m(i.stateNode.containerInfo),rc(i),ks=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=zd,zd=16777216,rc(i),zd=a):rc(i));break;default:rc(i)}}function jE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Id(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var h=a[o];yn=h,UE(h,i)}jE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)HE(i),i=i.sibling}function HE(i){switch(i.tag){case 0:case 11:case 15:Id(i),i.flags&2048&&Hr(9,i,i.return);break;case 3:Id(i);break;case 12:Id(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,fm(i)):Id(i);break;default:Id(i)}}function fm(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var h=a[o];yn=h,UE(h,i)}jE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Hr(8,a,a.return),fm(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,fm(a));break;default:fm(a)}i=i.sibling}}function UE(i,a){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Hr(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:vd(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,yn=h;else t:for(o=i;yn!==null;){h=yn;var m=h.sibling,v=h.return;if(OE(h),h===o){yn=null;break t}if(m!==null){m.return=v,yn=m;break t}yn=v}}}var z2={getCacheForType:function(i){var a=Un(on),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},I2=typeof WeakMap=="function"?WeakMap:Map,ce=0,Ee=null,Wt=null,te=0,he=0,Ni=null,Vr=!1,lc=!1,s0=!1,ja=0,He=0,qr=0,fo=0,a0=0,us=0,oc=0,Fd=null,yi=null,r0=!1,l0=0,pm=1/0,gm=null,Yr=null,Tn=0,Xr=null,uc=null,cc=0,o0=0,u0=null,GE=null,Bd=0,c0=null;function Oi(){if((ce&2)!==0&&te!==0)return te&-te;if(B.T!==null){var i=Qu;return i!==0?i:y0()}return _g()}function VE(){us===0&&(us=(te&536870912)===0||ae?Eg():536870912);var i=os.current;return i!==null&&(i.flags|=32),us}function Li(i,a,o){(i===Ee&&(he===2||he===9)||i.cancelPendingCommit!==null)&&(hc(i,0),$r(i,te,us,!1)),kr(i,o),((ce&2)===0||i!==Ee)&&(i===Ee&&((ce&2)===0&&(fo|=o),He===4&&$r(i,te,us,!1)),Zs(i))}function qE(i,a,o){if((ce&6)!==0)throw Error(n(327));var h=!o&&(a&124)===0&&(a&i.expiredLanes)===0||Zn(i,a),m=h?j2(i,a):f0(i,a,!0),v=h;do{if(m===0){lc&&!h&&$r(i,a,0,!1);break}else{if(o=i.current.alternate,v&&!F2(o)){m=f0(i,a,!1),v=!1;continue}if(m===2){if(v=a,i.errorRecoveryDisabledLanes&v)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var M=i;m=Fd;var F=M.current.memoizedState.isDehydrated;if(F&&(hc(M,E).flags|=256),E=f0(M,E,!1),E!==2){if(s0&&!F){M.errorRecoveryDisabledLanes|=v,fo|=v,m=4;break t}v=yi,yi=m,v!==null&&(yi===null?yi=v:yi.push.apply(yi,v))}m=E}if(v=!1,m!==2)continue}}if(m===1){hc(i,0),$r(i,a,0,!0);break}t:{switch(h=i,v=m,v){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:$r(h,a,us,!Vr);break t;case 2:yi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(m=l0+300-Be(),10<m)){if($r(h,a,us,!Vr),qe(h,0,!0)!==0)break t;h.timeoutHandle=A_(YE.bind(null,h,o,yi,gm,r0,a,us,fo,oc,Vr,v,2,-0,0),m);break t}YE(h,o,yi,gm,r0,a,us,fo,oc,Vr,v,0,-0,0)}}break}while(!0);Zs(i)}function YE(i,a,o,h,m,v,E,M,F,V,et,rt,Y,$){if(i.timeoutHandle=-1,rt=a.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(Yd={stylesheets:null,count:0,unsuspend:vN},BE(a),rt=SN(),rt!==null)){i.cancelPendingCommit=rt(JE.bind(null,i,a,v,o,h,m,E,M,F,et,1,Y,$)),$r(i,v,E,!V);return}JE(i,a,v,o,h,m,E,M,F)}function F2(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],v=m.getSnapshot;m=m.value;try{if(!Di(v(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $r(i,a,o,h){a&=~a0,a&=~fo,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var m=a;0<m;){var v=31-kt(m),E=1<<v;h[v]=-1,m&=~E}o!==0&&_n(i,o,a)}function mm(){return(ce&6)===0?(jd(0),!1):!0}function h0(){if(Wt!==null){if(he===0)var i=Wt.return;else i=Wt,Na=ro=null,Dv(i),ic=null,Rd=0,i=Wt;for(;i!==null;)_E(i.alternate,i),i=i.return;Wt=null}}function hc(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,nN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),h0(),Ee=i,Wt=o=ka(i.current,null),te=a,he=0,Ni=null,Vr=!1,lc=Zn(i,a),s0=!1,oc=us=a0=fo=qr=He=0,yi=Fd=null,r0=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var m=31-kt(h),v=1<<m;a|=i[m],h&=~v}return ja=a,Fg(),o}function XE(i,a){Yt=null,B.H=im,a===Sd||a===Xg?(a=c1(),he=3):a===l1?(a=c1(),he=4):he=a===hE?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ni=a,Wt===null&&(He=1,om(i,ss(a,i.current)))}function $E(){var i=B.H;return B.H=im,i===null?im:i}function WE(){var i=B.A;return B.A=z2,i}function d0(){He=4,Vr||(te&4194048)!==te&&os.current!==null||(lc=!0),(qr&134217727)===0&&(fo&134217727)===0||Ee===null||$r(Ee,te,us,!1)}function f0(i,a,o){var h=ce;ce|=2;var m=$E(),v=WE();(Ee!==i||te!==a)&&(gm=null,hc(i,a)),a=!1;var E=He;t:do try{if(he!==0&&Wt!==null){var M=Wt,F=Ni;switch(he){case 8:h0(),E=6;break t;case 3:case 2:case 9:case 6:os.current===null&&(a=!0);var V=he;if(he=0,Ni=null,dc(i,M,F,V),o&&lc){E=0;break t}break;default:V=he,he=0,Ni=null,dc(i,M,F,V)}}B2(),E=He;break}catch(et){XE(i,et)}while(!0);return a&&i.shellSuspendCounter++,Na=ro=null,ce=h,B.H=m,B.A=v,Wt===null&&(Ee=null,te=0,Fg()),E}function B2(){for(;Wt!==null;)KE(Wt)}function j2(i,a){var o=ce;ce|=2;var h=$E(),m=WE();Ee!==i||te!==a?(gm=null,pm=Be()+500,hc(i,a)):lc=Zn(i,a);t:do try{if(he!==0&&Wt!==null){a=Wt;var v=Ni;e:switch(he){case 1:he=0,Ni=null,dc(i,a,v,1);break;case 2:case 9:if(o1(v)){he=0,Ni=null,QE(a);break}a=function(){he!==2&&he!==9||Ee!==i||(he=7),Zs(i)},v.then(a,a);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:o1(v)?(he=0,Ni=null,QE(a)):(he=0,Ni=null,dc(i,a,v,7));break;case 5:var E=null;switch(Wt.tag){case 26:E=Wt.memoizedState;case 5:case 27:var M=Wt;if(!E||N_(E)){he=0,Ni=null;var F=M.sibling;if(F!==null)Wt=F;else{var V=M.return;V!==null?(Wt=V,ym(V)):Wt=null}break e}}he=0,Ni=null,dc(i,a,v,5);break;case 6:he=0,Ni=null,dc(i,a,v,6);break;case 8:h0(),He=6;break t;default:throw Error(n(462))}}H2();break}catch(et){XE(i,et)}while(!0);return Na=ro=null,B.H=h,B.A=m,ce=o,Wt!==null?0:(Ee=null,te=0,Fg(),He)}function H2(){for(;Wt!==null&&!Bn();)KE(Wt)}function KE(i){var a=xE(i.alternate,i,ja);i.memoizedProps=i.pendingProps,a===null?ym(i):Wt=a}function QE(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=yE(o,a,a.pendingProps,a.type,void 0,te);break;case 11:a=yE(o,a,a.pendingProps,a.type.render,a.ref,te);break;case 5:Dv(a);default:_E(o,a),a=Wt=Zx(a,ja),a=xE(o,a,ja)}i.memoizedProps=i.pendingProps,a===null?ym(i):Wt=a}function dc(i,a,o,h){Na=ro=null,Dv(a),ic=null,Rd=0;var m=a.return;try{if(R2(i,m,a,o,te)){He=1,om(i,ss(o,i.current)),Wt=null;return}}catch(v){if(m!==null)throw Wt=m,v;He=1,om(i,ss(o,i.current)),Wt=null;return}a.flags&32768?(ae||h===1?i=!0:lc||(te&536870912)!==0?i=!1:(Vr=i=!0,(h===2||h===9||h===3||h===6)&&(h=os.current,h!==null&&h.tag===13&&(h.flags|=16384))),ZE(a,i)):ym(a)}function ym(i){var a=i;do{if((a.flags&32768)!==0){ZE(a,Vr);return}i=a.return;var o=N2(a.alternate,a,ja);if(o!==null){Wt=o;return}if(a=a.sibling,a!==null){Wt=a;return}Wt=a=i}while(a!==null);He===0&&(He=5)}function ZE(i,a){do{var o=O2(i.alternate,i);if(o!==null){o.flags&=32767,Wt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Wt=i;return}Wt=i=o}while(i!==null);He=6,Wt=null}function JE(i,a,o,h,m,v,E,M,F){i.cancelPendingCommit=null;do bm();while(Tn!==0);if((ce&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(v=a.lanes|a.childLanes,v|=iv,Hn(i,o,v,E,M,F),i===Ee&&(Wt=Ee=null,te=0),uc=a,Xr=i,cc=o,o0=v,u0=m,GE=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,q2(ci,function(){return s_(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,m=q.p,q.p=2,E=ce,ce|=4;try{L2(i,a,o)}finally{ce=E,q.p=m,B.T=h}}Tn=1,t_(),e_(),n_()}}function t_(){if(Tn===1){Tn=0;var i=Xr,a=uc,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var h=q.p;q.p=2;var m=ce;ce|=4;try{zE(a,i);var v=_0,E=Ux(i.containerInfo),M=v.focusedElem,F=v.selectionRange;if(E!==M&&M&&M.ownerDocument&&Hx(M.ownerDocument.documentElement,M)){if(F!==null&&Zb(M)){var V=F.start,et=F.end;if(et===void 0&&(et=V),"selectionStart"in M)M.selectionStart=V,M.selectionEnd=Math.min(et,M.value.length);else{var rt=M.ownerDocument||document,Y=rt&&rt.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),Ot=M.textContent.length,Rt=Math.min(F.start,Ot),ye=F.end===void 0?Rt:Math.min(F.end,Ot);!$.extend&&Rt>ye&&(E=ye,ye=Rt,Rt=E);var U=jx(M,Rt),H=jx(M,ye);if(U&&H&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==H.node||$.focusOffset!==H.offset)){var G=rt.createRange();G.setStart(U.node,U.offset),$.removeAllRanges(),Rt>ye?($.addRange(G),$.extend(H.node,H.offset)):(G.setEnd(H.node,H.offset),$.addRange(G))}}}}for(rt=[],$=M;$=$.parentNode;)$.nodeType===1&&rt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<rt.length;M++){var at=rt[M];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Rm=!!E0,_0=E0=null}finally{ce=m,q.p=h,B.T=o}}i.current=a,Tn=2}}function e_(){if(Tn===2){Tn=0;var i=Xr,a=uc,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var h=q.p;q.p=2;var m=ce;ce|=4;try{NE(i,a.alternate,a)}finally{ce=m,q.p=h,B.T=o}}Tn=3}}function n_(){if(Tn===4||Tn===3){Tn=0,Fe();var i=Xr,a=uc,o=cc,h=GE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tn=5:(Tn=0,uc=Xr=null,i_(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Yr=null),hi(o),a=a.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(tt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=B.T,m=q.p,q.p=2,B.T=null;try{for(var v=i.onRecoverableError,E=0;E<h.length;E++){var M=h[E];v(M.value,{componentStack:M.stack})}}finally{B.T=a,q.p=m}}(cc&3)!==0&&bm(),Zs(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===c0?Bd++:(Bd=0,c0=i):Bd=0,jd(0)}}function i_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,vd(a)))}function bm(i){return t_(),e_(),n_(),s_()}function s_(){if(Tn!==5)return!1;var i=Xr,a=o0;o0=0;var o=hi(cc),h=B.T,m=q.p;try{q.p=32>o?32:o,B.T=null,o=u0,u0=null;var v=Xr,E=cc;if(Tn=0,uc=Xr=null,cc=0,(ce&6)!==0)throw Error(n(331));var M=ce;if(ce|=4,HE(v.current),FE(v,v.current,E,o),ce=M,jd(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(tt,v)}catch{}return!0}finally{q.p=m,B.T=h,i_(i,a)}}function a_(i,a,o){a=ss(o,a),a=Uv(i.stateNode,a,2),i=Ir(i,a,2),i!==null&&(kr(i,2),Zs(i))}function xe(i,a,o){if(i.tag===3)a_(i,i,o);else for(;a!==null;){if(a.tag===3){a_(a,i,o);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Yr===null||!Yr.has(h))){i=ss(o,i),o=uE(2),h=Ir(a,o,2),h!==null&&(cE(o,h,a,i),kr(h,2),Zs(h));break}}a=a.return}}function p0(i,a,o){var h=i.pingCache;if(h===null){h=i.pingCache=new I2;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(o)||(s0=!0,m.add(o),i=U2.bind(null,i,a,o),a.then(i,i))}function U2(i,a,o){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ee===i&&(te&o)===o&&(He===4||He===3&&(te&62914560)===te&&300>Be()-l0?(ce&2)===0&&hc(i,0):a0|=o,oc===te&&(oc=0)),Zs(i)}function r_(i,a){a===0&&(a=ed()),i=Xu(i,a),i!==null&&(kr(i,a),Zs(i))}function G2(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),r_(i,o)}function V2(i,a){var o=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),r_(i,o)}function q2(i,a){return Zt(i,a)}var vm=null,fc=null,g0=!1,Am=!1,m0=!1,po=0;function Zs(i){i!==fc&&i.next===null&&(fc===null?vm=fc=i:fc=fc.next=i),Am=!0,g0||(g0=!0,X2())}function jd(i,a){if(!m0&&Am){m0=!0;do for(var o=!1,h=vm;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var v=0;else{var E=h.suspendedLanes,M=h.pingedLanes;v=(1<<31-kt(42|i)+1)-1,v&=m&~(E&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,c_(h,v))}else v=te,v=qe(h,h===Ee?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Zn(h,v)||(o=!0,c_(h,v));h=h.next}while(o);m0=!1}}function Y2(){l_()}function l_(){Am=g0=!1;var i=0;po!==0&&(eN()&&(i=po),po=0);for(var a=Be(),o=null,h=vm;h!==null;){var m=h.next,v=o_(h,a);v===0?(h.next=null,o===null?vm=m:o.next=m,m===null&&(fc=o)):(o=h,(i!==0||(v&3)!==0)&&(Am=!0)),h=m}jd(i)}function o_(i,a){for(var o=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var E=31-kt(v),M=1<<E,F=m[E];F===-1?((M&o)===0||(M&h)!==0)&&(m[E]=Jn(M,a)):F<=a&&(i.expiredLanes|=M),v&=~M}if(a=Ee,o=te,o=qe(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,o===0||i===a&&(he===2||he===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Vt(h),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Zn(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(h!==null&&Vt(h),hi(o)){case 2:case 8:o=Ea;break;case 32:o=ci;break;case 268435456:o=_a;break;default:o=ci}return h=u_.bind(null,i),o=Zt(o,h),i.callbackPriority=a,i.callbackNode=o,a}return h!==null&&h!==null&&Vt(h),i.callbackPriority=2,i.callbackNode=null,2}function u_(i,a){if(Tn!==0&&Tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(bm()&&i.callbackNode!==o)return null;var h=te;return h=qe(i,i===Ee?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(qE(i,h,a),o_(i,Be()),i.callbackNode!=null&&i.callbackNode===o?u_.bind(null,i):null)}function c_(i,a){if(bm())return null;qE(i,a,!0)}function X2(){iN(function(){(ce&6)!==0?Zt(xs,Y2):l_()})}function y0(){return po===0&&(po=Eg()),po}function h_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Mg(""+i)}function d_(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function $2(i,a,o,h,m){if(a==="submit"&&o&&o.stateNode===m){var v=h_((m[gn]||null).action),E=h.submitter;E&&(a=(a=E[gn]||null)?h_(a.formAction):E.getAttribute("formAction"),a!==null&&(v=a,E=null));var M=new Pg("action","action",null,h,m);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(po!==0){var F=E?d_(m,E):new FormData(m);Iv(o,{pending:!0,data:F,method:m.method,action:v},null,F)}}else typeof v=="function"&&(M.preventDefault(),F=E?d_(m,E):new FormData(m),Iv(o,{pending:!0,data:F,method:m.method,action:v},v,F))},currentTarget:m}]})}}for(var b0=0;b0<nv.length;b0++){var v0=nv[b0],W2=v0.toLowerCase(),K2=v0[0].toUpperCase()+v0.slice(1);Ds(W2,"on"+K2)}Ds(qx,"onAnimationEnd"),Ds(Yx,"onAnimationIteration"),Ds(Xx,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(f2,"onTransitionRun"),Ds(p2,"onTransitionStart"),Ds(g2,"onTransitionCancel"),Ds($x,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hd));function f_(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var h=i[o],m=h.event;h=h.listeners;t:{var v=void 0;if(a)for(var E=h.length-1;0<=E;E--){var M=h[E],F=M.instance,V=M.currentTarget;if(M=M.listener,F!==v&&m.isPropagationStopped())break t;v=M,m.currentTarget=V;try{v(m)}catch(et){lm(et)}m.currentTarget=null,v=F}else for(E=0;E<h.length;E++){if(M=h[E],F=M.instance,V=M.currentTarget,M=M.listener,F!==v&&m.isPropagationStopped())break t;v=M,m.currentTarget=V;try{v(m)}catch(et){lm(et)}m.currentTarget=null,v=F}}}}function Kt(i,a){var o=a[Ql];o===void 0&&(o=a[Ql]=new Set);var h=i+"__bubble";o.has(h)||(p_(a,i,2,!1),o.add(h))}function A0(i,a,o){var h=0;a&&(h|=4),p_(o,i,h,a)}var Sm="_reactListening"+Math.random().toString(36).slice(2);function S0(i){if(!i[Sm]){i[Sm]=!0,di.forEach(function(o){o!=="selectionchange"&&(Q2.has(o)||A0(o,!1,i),A0(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Sm]||(a[Sm]=!0,A0("selectionchange",!1,a))}}function p_(i,a,o,h){switch(F_(a)){case 2:var m=EN;break;case 8:m=_N;break;default:m=P0}o=m.bind(null,a,o,i),m=void 0,!Gb||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(a,o,{capture:!0,passive:m}):i.addEventListener(a,o,!0):m!==void 0?i.addEventListener(a,o,{passive:m}):i.addEventListener(a,o,!1)}function w0(i,a,o,h,m){var v=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var M=h.stateNode.containerInfo;if(M===m)break;if(E===4)for(E=h.return;E!==null;){var F=E.tag;if((F===3||F===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;M!==null;){if(E=Rr(M),E===null)return;if(F=E.tag,F===5||F===6||F===26||F===27){h=v=E;continue t}M=M.parentNode}}h=h.return}Sx(function(){var V=v,et=Hb(o),rt=[];t:{var Y=Wx.get(i);if(Y!==void 0){var $=Pg,Ot=i;switch(i){case"keypress":if(Og(o)===0)break t;case"keydown":case"keyup":$=qM;break;case"focusin":Ot="focus",$=Xb;break;case"focusout":Ot="blur",$=Xb;break;case"beforeblur":case"afterblur":$=Xb;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=OM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=$M;break;case qx:case Yx:case Xx:$=zM;break;case $x:$=KM;break;case"scroll":case"scrollend":$=MM;break;case"wheel":$=ZM;break;case"copy":case"cut":case"paste":$=FM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Cx;break;case"toggle":case"beforetoggle":$=t2}var Rt=(a&4)!==0,ye=!Rt&&(i==="scroll"||i==="scrollend"),U=Rt?Y!==null?Y+"Capture":null:Y;Rt=[];for(var H=V,G;H!==null;){var at=H;if(G=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||G===null||U===null||(at=rd(H,U),at!=null&&Rt.push(Ud(H,at,G))),ye)break;H=H.return}0<Rt.length&&(Y=new $(Y,Ot,null,o,et),rt.push({event:Y,listeners:Rt}))}}if((a&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Y&&o!==jb&&(Ot=o.relatedTarget||o.fromElement)&&(Rr(Ot)||Ot[Cs]))break t;if(($||Y)&&(Y=et.window===et?et:(Y=et.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(Ot=o.relatedTarget||o.toElement,$=V,Ot=Ot?Rr(Ot):null,Ot!==null&&(ye=l(Ot),Rt=Ot.tag,Ot!==ye||Rt!==5&&Rt!==27&&Rt!==6)&&(Ot=null)):($=null,Ot=V),$!==Ot)){if(Rt=Ex,at="onMouseLeave",U="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Rt=Cx,at="onPointerLeave",U="onPointerEnter",H="pointer"),ye=$==null?Y:It($),G=Ot==null?Y:It(Ot),Y=new Rt(at,H+"leave",$,o,et),Y.target=ye,Y.relatedTarget=G,at=null,Rr(et)===V&&(Rt=new Rt(U,H+"enter",Ot,o,et),Rt.target=G,Rt.relatedTarget=ye,at=Rt),ye=at,$&&Ot)e:{for(Rt=$,U=Ot,H=0,G=Rt;G;G=pc(G))H++;for(G=0,at=U;at;at=pc(at))G++;for(;0<H-G;)Rt=pc(Rt),H--;for(;0<G-H;)U=pc(U),G--;for(;H--;){if(Rt===U||U!==null&&Rt===U.alternate)break e;Rt=pc(Rt),U=pc(U)}Rt=null}else Rt=null;$!==null&&g_(rt,Y,$,Rt,!1),Ot!==null&&ye!==null&&g_(rt,ye,Ot,Rt,!0)}}t:{if(Y=V?It(V):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var wt=Lx;else if(Nx(Y))if(Px)wt=c2;else{wt=o2;var Xt=l2}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?V&&Bb(V.elementType)&&(wt=Lx):wt=u2;if(wt&&(wt=wt(i,V))){Ox(rt,wt,o,et);break t}Xt&&Xt(i,Y,V),i==="focusout"&&V&&Y.type==="number"&&V.memoizedProps.value!=null&&Fb(Y,"number",Y.value)}switch(Xt=V?It(V):window,i){case"focusin":(Nx(Xt)||Xt.contentEditable==="true")&&(Vu=Xt,Jb=V,pd=null);break;case"focusout":pd=Jb=Vu=null;break;case"mousedown":tv=!0;break;case"contextmenu":case"mouseup":case"dragend":tv=!1,Gx(rt,o,et);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":Gx(rt,o,et)}var Ct;if(Wb)t:{switch(i){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Gu?Rx(i,o)&&(Nt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Nt="onCompositionStart");Nt&&(Tx&&o.locale!=="ko"&&(Gu||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Gu&&(Ct=wx()):(Or=et,Vb="value"in Or?Or.value:Or.textContent,Gu=!0)),Xt=wm(V,Nt),0<Xt.length&&(Nt=new _x(Nt,i,null,o,et),rt.push({event:Nt,listeners:Xt}),Ct?Nt.data=Ct:(Ct=Mx(o),Ct!==null&&(Nt.data=Ct)))),(Ct=n2?i2(i,o):s2(i,o))&&(Nt=wm(V,"onBeforeInput"),0<Nt.length&&(Xt=new _x("onBeforeInput","beforeinput",null,o,et),rt.push({event:Xt,listeners:Nt}),Xt.data=Ct)),$2(rt,i,V,o,et)}f_(rt,a)})}function Ud(i,a,o){return{instance:i,listener:a,currentTarget:o}}function wm(i,a){for(var o=a+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=rd(i,o),m!=null&&h.unshift(Ud(i,m,v)),m=rd(i,a),m!=null&&h.push(Ud(i,m,v))),i.tag===3)return h;i=i.return}return[]}function pc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function g_(i,a,o,h,m){for(var v=a._reactName,E=[];o!==null&&o!==h;){var M=o,F=M.alternate,V=M.stateNode;if(M=M.tag,F!==null&&F===h)break;M!==5&&M!==26&&M!==27||V===null||(F=V,m?(V=rd(o,v),V!=null&&E.unshift(Ud(o,V,F))):m||(V=rd(o,v),V!=null&&E.push(Ud(o,V,F)))),o=o.return}E.length!==0&&i.push({event:a,listeners:E})}var Z2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function m_(i){return(typeof i=="string"?i:""+i).replace(Z2,`
`).replace(J2,"")}function y_(i,a){return a=m_(a),m_(i)===a}function xm(){}function me(i,a,o,h,m,v){switch(o){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||ju(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&ju(i,""+h);break;case"className":Dg(i,"class",h);break;case"tabIndex":Dg(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Dg(i,o,h);break;case"style":vx(i,h,v);break;case"data":if(a!=="object"){Dg(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(o);break}h=Mg(""+h),i.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(a!=="input"&&me(i,a,"name",m.name,m,null),me(i,a,"formEncType",m.formEncType,m,null),me(i,a,"formMethod",m.formMethod,m,null),me(i,a,"formTarget",m.formTarget,m,null)):(me(i,a,"encType",m.encType,m,null),me(i,a,"method",m.method,m,null),me(i,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(o);break}h=Mg(""+h),i.setAttribute(o,h);break;case"onClick":h!=null&&(i.onclick=xm);break;case"onScroll":h!=null&&Kt("scroll",i);break;case"onScrollEnd":h!=null&&Kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}o=Mg(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,""+h):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":h===!0?i.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,h):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(o,h):i.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(o):i.setAttribute(o,h);break;case"popover":Kt("beforetoggle",i),Kt("toggle",i),Tg(i,"popover",h);break;case"xlinkActuate":Ta(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ta(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ta(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ta(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ta(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ta(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ta(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Tg(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kM.get(o)||o,Tg(i,o,h))}}function x0(i,a,o,h,m,v){switch(o){case"style":vx(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"children":typeof h=="string"?ju(i,h):(typeof h=="number"||typeof h=="bigint")&&ju(i,""+h);break;case"onScroll":h!=null&&Kt("scroll",i);break;case"onScrollEnd":h!=null&&Kt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=xm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fi.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),v=i[gn]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(a,v,m),typeof h=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,h,m);break t}o in i?i[o]=h:h===!0?i.setAttribute(o,""):Tg(i,o,h)}}}function Dn(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",i),Kt("load",i);var h=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var E=o[v];if(E!=null)switch(v){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:me(i,a,v,E,o,null)}}m&&me(i,a,"srcSet",o.srcSet,o,null),h&&me(i,a,"src",o.src,o,null);return;case"input":Kt("invalid",i);var M=v=E=m=null,F=null,V=null;for(h in o)if(o.hasOwnProperty(h)){var et=o[h];if(et!=null)switch(h){case"name":m=et;break;case"type":E=et;break;case"checked":F=et;break;case"defaultChecked":V=et;break;case"value":v=et;break;case"defaultValue":M=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,a));break;default:me(i,a,h,et,o,null)}}gx(i,v,M,F,V,E,m,!1),kg(i);return;case"select":Kt("invalid",i),h=E=v=null;for(m in o)if(o.hasOwnProperty(m)&&(M=o[m],M!=null))switch(m){case"value":v=M;break;case"defaultValue":E=M;break;case"multiple":h=M;default:me(i,a,m,M,o,null)}a=v,o=E,i.multiple=!!h,a!=null?Bu(i,!!h,a,!1):o!=null&&Bu(i,!!h,o,!0);return;case"textarea":Kt("invalid",i),v=m=h=null;for(E in o)if(o.hasOwnProperty(E)&&(M=o[E],M!=null))switch(E){case"value":h=M;break;case"defaultValue":m=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:me(i,a,E,M,o,null)}yx(i,h,m,v),kg(i);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(h=o[F],h!=null))switch(F){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:me(i,a,F,h,o,null)}return;case"dialog":Kt("beforetoggle",i),Kt("toggle",i),Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":Kt("load",i);break;case"video":case"audio":for(h=0;h<Hd.length;h++)Kt(Hd[h],i);break;case"image":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"embed":case"source":case"link":Kt("error",i),Kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(h=o[V],h!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:me(i,a,V,h,o,null)}return;default:if(Bb(a)){for(et in o)o.hasOwnProperty(et)&&(h=o[et],h!==void 0&&x0(i,a,et,h,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(h=o[M],h!=null&&me(i,a,M,h,o,null))}function tN(i,a,o,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,E=null,M=null,F=null,V=null,et=null;for($ in o){var rt=o[$];if(o.hasOwnProperty($)&&rt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":F=rt;default:h.hasOwnProperty($)||me(i,a,$,null,h,rt)}}for(var Y in h){var $=h[Y];if(rt=o[Y],h.hasOwnProperty(Y)&&($!=null||rt!=null))switch(Y){case"type":v=$;break;case"name":m=$;break;case"checked":V=$;break;case"defaultChecked":et=$;break;case"value":E=$;break;case"defaultValue":M=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,a));break;default:$!==rt&&me(i,a,Y,$,h,rt)}}Ib(i,E,M,F,V,et,v,m);return;case"select":$=E=M=Y=null;for(v in o)if(F=o[v],o.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":$=F;default:h.hasOwnProperty(v)||me(i,a,v,null,h,F)}for(m in h)if(v=h[m],F=o[m],h.hasOwnProperty(m)&&(v!=null||F!=null))switch(m){case"value":Y=v;break;case"defaultValue":M=v;break;case"multiple":E=v;default:v!==F&&me(i,a,m,v,h,F)}a=M,o=E,h=$,Y!=null?Bu(i,!!o,Y,!1):!!h!=!!o&&(a!=null?Bu(i,!!o,a,!0):Bu(i,!!o,o?[]:"",!1));return;case"textarea":$=Y=null;for(M in o)if(m=o[M],o.hasOwnProperty(M)&&m!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:me(i,a,M,null,h,m)}for(E in h)if(m=h[E],v=o[E],h.hasOwnProperty(E)&&(m!=null||v!=null))switch(E){case"value":Y=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==v&&me(i,a,E,m,h,v)}mx(i,Y,$);return;case"option":for(var Ot in o)if(Y=o[Ot],o.hasOwnProperty(Ot)&&Y!=null&&!h.hasOwnProperty(Ot))switch(Ot){case"selected":i.selected=!1;break;default:me(i,a,Ot,null,h,Y)}for(F in h)if(Y=h[F],$=o[F],h.hasOwnProperty(F)&&Y!==$&&(Y!=null||$!=null))switch(F){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:me(i,a,F,Y,h,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in o)Y=o[Rt],o.hasOwnProperty(Rt)&&Y!=null&&!h.hasOwnProperty(Rt)&&me(i,a,Rt,null,h,Y);for(V in h)if(Y=h[V],$=o[V],h.hasOwnProperty(V)&&Y!==$&&(Y!=null||$!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,a));break;default:me(i,a,V,Y,h,$)}return;default:if(Bb(a)){for(var ye in o)Y=o[ye],o.hasOwnProperty(ye)&&Y!==void 0&&!h.hasOwnProperty(ye)&&x0(i,a,ye,void 0,h,Y);for(et in h)Y=h[et],$=o[et],!h.hasOwnProperty(et)||Y===$||Y===void 0&&$===void 0||x0(i,a,et,Y,h,$);return}}for(var U in o)Y=o[U],o.hasOwnProperty(U)&&Y!=null&&!h.hasOwnProperty(U)&&me(i,a,U,null,h,Y);for(rt in h)Y=h[rt],$=o[rt],!h.hasOwnProperty(rt)||Y===$||Y==null&&$==null||me(i,a,rt,Y,h,$)}var E0=null,_0=null;function Em(i){return i.nodeType===9?i:i.ownerDocument}function b_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function C0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var T0=null;function eN(){var i=window.event;return i&&i.type==="popstate"?i===T0?!1:(T0=i,!0):(T0=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(i){return S_.resolve(null).then(i).catch(sN)}:A_;function sN(i){setTimeout(function(){throw i})}function Wr(i){return i==="head"}function w_(i,a){var o=a,h=0,m=0;do{var v=o.nextSibling;if(i.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<h&&8>h){o=h;var E=i.ownerDocument;if(o&1&&Gd(E.documentElement),o&2&&Gd(E.body),o&4)for(o=E.head,Gd(o),E=o.firstChild;E;){var M=E.nextSibling,F=E.nodeName;E[Ca]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=M}}if(m===0){i.removeChild(v),Qd(a);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:h=o.charCodeAt(0)-48;else h=0;o=v}while(o);Qd(a)}function D0(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":D0(o),Iu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function aN(i,a,o,h){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ca])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Rs(i.nextSibling),i===null)break}return null}function rN(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Rs(i.nextSibling),i===null))return null;return i}function k0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function lN(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var h=function(){a(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Rs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var R0=null;function x_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function E_(i,a,o){switch(a=Em(o),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Gd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Iu(i)}var cs=new Map,__=new Set;function _m(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ha=q.d;q.d={f:oN,r:uN,D:cN,C:hN,L:dN,m:fN,X:gN,S:pN,M:mN};function oN(){var i=Ha.f(),a=mm();return i||a}function uN(i){var a=Mr(i);a!==null&&a.tag===5&&a.type==="form"?q1(a):Ha.r(i)}var gc=typeof document>"u"?null:document;function C_(i,a,o){var h=gc;if(h&&typeof a=="string"&&a){var m=is(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),__.has(m)||(__.add(m),i={rel:i,crossOrigin:o,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),Dn(a,"link",i),qt(a),h.head.appendChild(a)))}}function cN(i){Ha.D(i),C_("dns-prefetch",i,null)}function hN(i,a){Ha.C(i,a),C_("preconnect",i,a)}function dN(i,a,o){Ha.L(i,a,o);var h=gc;if(h&&i&&a){var m='link[rel="preload"][as="'+is(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+is(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+is(o.imageSizes)+'"]')):m+='[href="'+is(i)+'"]';var v=m;switch(a){case"style":v=mc(i);break;case"script":v=yc(i)}cs.has(v)||(i=g({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),cs.set(v,i),h.querySelector(m)!==null||a==="style"&&h.querySelector(Vd(v))||a==="script"&&h.querySelector(qd(v))||(a=h.createElement("link"),Dn(a,"link",i),qt(a),h.head.appendChild(a)))}}function fN(i,a){Ha.m(i,a);var o=gc;if(o&&i){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+is(h)+'"][href="'+is(i)+'"]',v=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=yc(i)}if(!cs.has(v)&&(i=g({rel:"modulepreload",href:i},a),cs.set(v,i),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(qd(v)))return}h=o.createElement("link"),Dn(h,"link",i),qt(h),o.head.appendChild(h)}}}function pN(i,a,o){Ha.S(i,a,o);var h=gc;if(h&&i){var m=ue(h).hoistableStyles,v=mc(i);a=a||"default";var E=m.get(v);if(!E){var M={loading:0,preload:null};if(E=h.querySelector(Vd(v)))M.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},o),(o=cs.get(v))&&M0(i,o);var F=E=h.createElement("link");qt(F),Dn(F,"link",i),F._p=new Promise(function(V,et){F.onload=V,F.onerror=et}),F.addEventListener("load",function(){M.loading|=1}),F.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Cm(E,a,h)}E={type:"stylesheet",instance:E,count:1,state:M},m.set(v,E)}}}function gN(i,a){Ha.X(i,a);var o=gc;if(o&&i){var h=ue(o).hoistableScripts,m=yc(i),v=h.get(m);v||(v=o.querySelector(qd(m)),v||(i=g({src:i,async:!0},a),(a=cs.get(m))&&N0(i,a),v=o.createElement("script"),qt(v),Dn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(m,v))}}function mN(i,a){Ha.M(i,a);var o=gc;if(o&&i){var h=ue(o).hoistableScripts,m=yc(i),v=h.get(m);v||(v=o.querySelector(qd(m)),v||(i=g({src:i,async:!0,type:"module"},a),(a=cs.get(m))&&N0(i,a),v=o.createElement("script"),qt(v),Dn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(m,v))}}function T_(i,a,o,h){var m=(m=nt.current)?_m(m):null;if(!m)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=mc(o.href),o=ue(m).hoistableStyles,h=o.get(a),h||(h={type:"style",instance:null,count:0,state:null},o.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=mc(o.href);var v=ue(m).hoistableStyles,E=v.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,E),(v=m.querySelector(Vd(i)))&&!v._p&&(E.instance=v,E.state.loading=5),cs.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cs.set(i,o),v||yN(m,i,o,E.state))),a&&h===null)throw Error(n(528,""));return E}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yc(o),o=ue(m).hoistableScripts,h=o.get(a),h||(h={type:"script",instance:null,count:0,state:null},o.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function mc(i){return'href="'+is(i)+'"'}function Vd(i){return'link[rel="stylesheet"]['+i+"]"}function D_(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function yN(i,a,o,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Dn(a,"link",o),qt(a),i.head.appendChild(a))}function yc(i){return'[src="'+is(i)+'"]'}function qd(i){return"script[async]"+i}function k_(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+is(o.href)+'"]');if(h)return a.instance=h,qt(h),h;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),qt(h),Dn(h,"style",m),Cm(h,o.precedence,i),a.instance=h;case"stylesheet":m=mc(o.href);var v=i.querySelector(Vd(m));if(v)return a.state.loading|=4,a.instance=v,qt(v),v;h=D_(o),(m=cs.get(m))&&M0(h,m),v=(i.ownerDocument||i).createElement("link"),qt(v);var E=v;return E._p=new Promise(function(M,F){E.onload=M,E.onerror=F}),Dn(v,"link",h),a.state.loading|=4,Cm(v,o.precedence,i),a.instance=v;case"script":return v=yc(o.src),(m=i.querySelector(qd(v)))?(a.instance=m,qt(m),m):(h=o,(m=cs.get(v))&&(h=g({},o),N0(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),qt(m),Dn(m,"link",h),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Cm(h,o.precedence,i));return a.instance}function Cm(i,a,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,v=m,E=0;E<h.length;E++){var M=h[E];if(M.dataset.precedence===a)v=M;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function M0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function N0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Tm=null;function R_(i,a,o){if(Tm===null){var h=new Map,m=Tm=new Map;m.set(o,h)}else m=Tm,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(i))return h;for(h.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var v=o[m];if(!(v[Ca]||v[ln]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(a)||"";E=i+E;var M=h.get(E);M?M.push(v):h.set(E,[v])}}return h}function M_(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function bN(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function N_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yd=null;function vN(){}function AN(i,a,o){if(Yd===null)throw Error(n(475));var h=Yd;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=mc(o.href),v=i.querySelector(Vd(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Dm.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=v,qt(v);return}v=i.ownerDocument||i,o=D_(o),(m=cs.get(m))&&M0(o,m),v=v.createElement("link"),qt(v);var E=v;E._p=new Promise(function(M,F){E.onload=M,E.onerror=F}),Dn(v,"link",o),a.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Dm.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function SN(){if(Yd===null)throw Error(n(475));var i=Yd;return i.stylesheets&&i.count===0&&O0(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&O0(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Dm(){if(this.count--,this.count===0){if(this.stylesheets)O0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var km=null;function O0(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,km=new Map,a.forEach(wN,i),km=null,Dm.call(i))}function wN(i,a){if(!(a.state.loading&4)){var o=km.get(i);if(o)var h=o.get(null);else{o=new Map,km.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var E=m[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),h=E)}h&&o.set(null,h)}m=a.instance,E=m.getAttribute("data-precedence"),v=o.get(E)||h,v===h&&o.set(null,m),o.set(E,m),this.count++,h=Dm.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Xd={$$typeof:N,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function xN(i,a,o,h,m,v,E,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.hiddenUpdates=nd(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function O_(i,a,o,h,m,v,E,M,F,V,et,rt){return i=new xN(i,a,o,E,M,F,V,rt),a=1,v===!0&&(a|=24),v=ki(3,null,null,a),i.current=v,v.stateNode=i,a=pv(),a.refCount++,i.pooledCache=a,a.refCount++,v.memoizedState={element:h,isDehydrated:o,cache:a},bv(v),i}function L_(i){return i?(i=$u,i):$u}function P_(i,a,o,h,m,v){m=L_(m),h.context===null?h.context=m:h.pendingContext=m,h=zr(a),h.payload={element:o},v=v===void 0?null:v,v!==null&&(h.callback=v),o=Ir(i,h,a),o!==null&&(Li(o,i,a),xd(o,i,a))}function z_(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function L0(i,a){z_(i,a),(i=i.alternate)&&z_(i,a)}function I_(i){if(i.tag===13){var a=Xu(i,67108864);a!==null&&Li(a,i,67108864),L0(i,67108864)}}var Rm=!0;function EN(i,a,o,h){var m=B.T;B.T=null;var v=q.p;try{q.p=2,P0(i,a,o,h)}finally{q.p=v,B.T=m}}function _N(i,a,o,h){var m=B.T;B.T=null;var v=q.p;try{q.p=8,P0(i,a,o,h)}finally{q.p=v,B.T=m}}function P0(i,a,o,h){if(Rm){var m=z0(h);if(m===null)w0(i,a,h,Mm,o),B_(i,h);else if(TN(m,i,a,o,h))h.stopPropagation();else if(B_(i,h),a&4&&-1<CN.indexOf(i)){for(;m!==null;){var v=Mr(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Qn(v.pendingLanes);if(E!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var F=1<<31-kt(E);M.entanglements[1]|=F,E&=~F}Zs(v),(ce&6)===0&&(pm=Be()+500,jd(0))}}break;case 13:M=Xu(v,2),M!==null&&Li(M,v,2),mm(),L0(v,2)}if(v=z0(h),v===null&&w0(i,a,h,Mm,o),v===m)break;m=v}m!==null&&h.stopPropagation()}else w0(i,a,h,null,o)}}function z0(i){return i=Hb(i),I0(i)}var Mm=null;function I0(i){if(Mm=null,i=Rr(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=u(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mm=i,null}function F_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case xs:return 2;case Ea:return 8;case ci:case Dr:return 32;case _a:return 268435456;default:return 32}default:return 32}}var F0=!1,Kr=null,Qr=null,Zr=null,$d=new Map,Wd=new Map,Jr=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(i,a){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":$d.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(a.pointerId)}}function Kd(i,a,o,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:a,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},a!==null&&(a=Mr(a),a!==null&&I_(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function TN(i,a,o,h,m){switch(a){case"focusin":return Kr=Kd(Kr,i,a,o,h,m),!0;case"dragenter":return Qr=Kd(Qr,i,a,o,h,m),!0;case"mouseover":return Zr=Kd(Zr,i,a,o,h,m),!0;case"pointerover":var v=m.pointerId;return $d.set(v,Kd($d.get(v)||null,i,a,o,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Wd.set(v,Kd(Wd.get(v)||null,i,a,o,h,m)),!0}return!1}function j_(i){var a=Rr(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){i.blockedOn=a,id(i.priority,function(){if(o.tag===13){var h=Oi();h=we(h);var m=Xu(o,h);m!==null&&Li(m,o,h),L0(o,h)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=z0(i.nativeEvent);if(o===null){o=i.nativeEvent;var h=new o.constructor(o.type,o);jb=h,o.target.dispatchEvent(h),jb=null}else return a=Mr(o),a!==null&&I_(a),i.blockedOn=o,!1;a.shift()}return!0}function H_(i,a,o){Nm(i)&&o.delete(a)}function DN(){F0=!1,Kr!==null&&Nm(Kr)&&(Kr=null),Qr!==null&&Nm(Qr)&&(Qr=null),Zr!==null&&Nm(Zr)&&(Zr=null),$d.forEach(H_),Wd.forEach(H_)}function Om(i,a){i.blockedOn===a&&(i.blockedOn=null,F0||(F0=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,DN)))}var Lm=null;function U_(i){Lm!==i&&(Lm=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lm===i&&(Lm=null);for(var a=0;a<i.length;a+=3){var o=i[a],h=i[a+1],m=i[a+2];if(typeof h!="function"){if(I0(h||o)===null)continue;break}var v=Mr(o);v!==null&&(i.splice(a,3),a-=3,Iv(v,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function Qd(i){function a(F){return Om(F,i)}Kr!==null&&Om(Kr,i),Qr!==null&&Om(Qr,i),Zr!==null&&Om(Zr,i),$d.forEach(a),Wd.forEach(a);for(var o=0;o<Jr.length;o++){var h=Jr[o];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Jr.length&&(o=Jr[0],o.blockedOn===null);)j_(o),o.blockedOn===null&&Jr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],v=o[h+1],E=m[gn]||null;if(typeof v=="function")E||U_(o);else if(E){var M=null;if(v&&v.hasAttribute("formAction")){if(m=v,E=v[gn]||null)M=E.formAction;else if(I0(m)!==null)continue}else M=E.action;typeof M=="function"?o[h+1]=M:(o.splice(h,3),h-=3),U_(o)}}}function B0(i){this._internalRoot=i}Pm.prototype.render=B0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var o=a.current,h=Oi();P_(o,h,i,a,null,null)},Pm.prototype.unmount=B0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;P_(i.current,2,null,i,null,null),mm(),a[Cs]=null}};function Pm(i){this._internalRoot=i}Pm.prototype.unstable_scheduleHydration=function(i){if(i){var a=_g();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Jr.length&&a!==0&&a<Jr[o].priority;o++);Jr.splice(o,0,i),o===0&&j_(i)}};var G_=t.version;if(G_!=="19.1.0")throw Error(n(527,G_,"19.1.0"));q.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var kN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{tt=zm.inject(kN),dt=zm}catch{}}return Jd.createRoot=function(i,a){if(!r(i))throw Error(n(299));var o=!1,h="",m=aE,v=rE,E=lE,M=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks)),a=O_(i,1,!1,null,null,o,h,m,v,E,M,null),i[Cs]=a.current,S0(i),new B0(a)},Jd.hydrateRoot=function(i,a,o){if(!r(i))throw Error(n(299));var h=!1,m="",v=aE,E=rE,M=lE,F=null,V=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(V=o.formState)),a=O_(i,1,!0,a,o??null,h,m,v,E,M,F,V),a.context=L_(null),o=a.current,h=Oi(),h=we(h),m=zr(h),m.callback=null,Ir(o,m,h),o=h,a.current.lanes=o,kr(a,o),Zs(a),i[Cs]=a.current,S0(i),new Pm(a)},Jd.version="19.1.0",Jd}var tC;function GN(){if(tC)return G0.exports;tC=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),G0.exports=UN(),G0.exports}var VN=GN();const qN=cg(VN);function Im({title:s,progress:t,ddl:e}){return I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow w-full",children:[I.jsx("h2",{className:"text-xl font-semibold",children:s}),I.jsx("div",{className:"w-full bg-gray-200 h-2 rounded mt-2",children:I.jsx("div",{className:"bg-blue-600 h-2 rounded",style:{width:`${t}%`}})}),I.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["DDL：",e]})]})}let X0=null;function $h(){return YN()?(!X0&&window.acquireVsCodeApi&&(X0=window.acquireVsCodeApi()),X0):null}function YN(){return typeof window.acquireVsCodeApi=="function"||typeof window.acquireVsCodeApi=="object"}const go=$h();function eC(){if(go==null)return I.jsxs("div",{className:"flex flex-col items-center space-y-10",children:[I.jsx("h1",{className:"text-4xl font-extrabold font-serif text-center mt-6",children:"📚 我的课程"}),I.jsxs("div",{className:"flex flex-col items-center space-y-6 w-full max-w-xl",children:[I.jsx(Im,{title:"数据结构",progress:75,ddl:"2025-04-20"}),I.jsx(Im,{title:"操作系统",progress:40,ddl:"2025-04-18"}),I.jsx(Im,{title:"AI导论",progress:90,ddl:"2025-04-22"})]}),I.jsxs("div",{className:"mt-auto pb-10 flex gap-4",children:[I.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-xl text-lg",children:"➕ 添加课程"}),I.jsx("button",{className:"bg-gray-300 px-6 py-3 rounded-xl text-lg",children:"📁 导入课程"})]})]});const[s,t]=lt.useState([]);lt.useEffect(()=>{const r=l=>{const u=l.data;switch(u.command){case"coursesData":t(u.courses);break;case"createCourseResult":u.success?go&&go.postMessage({command:"getCourses"}):console.error("创建课程失败：",u.error);break;default:console.warn("未知的消息:",u)}};return window.addEventListener("message",r),go&&go.postMessage({command:"getCourses"}),()=>window.removeEventListener("message",r)},[]);const e=()=>{go&&go.postMessage({command:"createCourse"})},n=()=>{console.log("导入课程功能暂未实现")};return I.jsxs("div",{className:"flex flex-col items-center space-y-10",children:[I.jsx("h1",{className:"text-4xl font-extrabold font-serif text-center mt-6",children:"📚 我的课程"}),I.jsx("div",{className:"flex flex-col items-center space-y-6 w-full max-w-xl",children:s.map((r,l)=>I.jsx(Im,{title:r.name,progress:r.progress!==void 0?r.progress:0,ddl:r.ddl||"2025-04-30"},l))}),I.jsxs("div",{className:"mt-auto pb-10 flex gap-4",children:[I.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-xl text-lg",onClick:e,children:"➕ 添加课程"}),I.jsx("button",{className:"bg-gray-300 px-6 py-3 rounded-xl text-lg",onClick:n,children:"📁 导入课程"})]})]})}function tf({title:s,count:t,files:e,onFileClick:n}){const[r,l]=lt.useState(!1);return I.jsxs("div",{className:"bg-white p-4 rounded-xl shadow flex flex-col items-center w-48",children:[I.jsx("div",{className:"text-2xl",children:"📂"}),I.jsx("div",{className:"font-bold mt-2",children:s}),I.jsxs("div",{className:"text-sm text-gray-500",children:[t," 个文件"]}),I.jsx("button",{className:"mt-2 text-blue-600 hover:underline",onClick:()=>l(!r),children:r?"▲ 收起":"▼ 展开文件列表"}),r&&I.jsx("ul",{className:"text-sm mt-2 text-gray-700 list-disc list-inside",children:e.map((u,c)=>I.jsx("li",{children:n?I.jsx("button",{className:"text-blue-500 hover:underline",onClick:()=>n(u),children:u}):u},c))})]})}function XN({setSelectedFile:s}){const t=$h();if(t==null){const[g,y]=lt.useState("操作系统"),b=["操作系统","数据结构","AI导论"];return I.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[I.jsxs("div",{className:"mt-6 text-center",children:[I.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["📘 ",g]}),I.jsx("select",{value:g,onChange:A=>y(A.target.value),className:"border p-2 rounded-md",children:b.map(A=>I.jsx("option",{value:A,children:A},A))})]}),I.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-10",children:[I.jsx(tf,{title:"讲义",count:8,files:["Lecture1.pdf","Lecture2.pdf"]}),I.jsx(tf,{title:"作业",count:5,files:["HW1.docx","HW2.docx"]}),I.jsx(tf,{title:"资料",count:10,files:["Paper1.pdf"]}),I.jsx(tf,{title:"笔记",count:3,files:["Note1.md"]})]})]})}const[e,n]=lt.useState([]),[r,l]=lt.useState(""),[u,c]=lt.useState([[],[],[],[]]);lt.useEffect(()=>{window.addEventListener("message",g=>{const y=g.data;y.command==="coursesData"?(n(y.courses),y.courses.length>0&&(l(y.courses[0].name),t.postMessage({command:"getCourseFiles",courseName:y.courses[0].name}))):y.command==="courseFilesData"&&c(y.files)}),t.postMessage({command:"getCourses"})},[]);const f=g=>{l(g),t.postMessage({command:"getCourseFiles",courseName:g})},p=["讲义","作业","资料","笔记"];return I.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[I.jsxs("div",{className:"mt-6 text-center",children:[I.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["📘 ",r]}),I.jsx("select",{value:r,onChange:g=>f(g.target.value),className:"border p-2 rounded-md",children:e.map(g=>I.jsx("option",{value:g.name,children:g.name},g.name))})]}),I.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-10",children:p.map((g,y)=>I.jsx(tf,{title:g,count:u[y].length,files:u[y],onFileClick:b=>s(`${r}/${g}/${b}`)},g))})]})}function jT(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=jT(s[t]))&&(n&&(n+=" "),n+=e)}else for(e in s)s[e]&&(n&&(n+=" "),n+=e);return n}function db(){for(var s,t,e=0,n="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=jT(s))&&(n&&(n+=" "),n+=t);return n}var $0,nC;function $N(){if(nC)return $0;nC=1;const s=(f,p,g,y)=>{if(g==="length"||g==="prototype"||g==="arguments"||g==="caller")return;const b=Object.getOwnPropertyDescriptor(f,g),A=Object.getOwnPropertyDescriptor(p,g);!t(b,A)&&y||Object.defineProperty(f,g,A)},t=function(f,p){return f===void 0||f.configurable||f.writable===p.writable&&f.enumerable===p.enumerable&&f.configurable===p.configurable&&(f.writable||f.value===p.value)},e=(f,p)=>{const g=Object.getPrototypeOf(p);g!==Object.getPrototypeOf(f)&&Object.setPrototypeOf(f,g)},n=(f,p)=>`/* Wrapped ${f}*/
${p}`,r=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),l=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),u=(f,p,g)=>{const y=g===""?"":`with ${g.trim()}() `,b=n.bind(null,y,p.toString());Object.defineProperty(b,"name",l),Object.defineProperty(f,"toString",{...r,value:b})};return $0=(f,p,{ignoreNonConfigurable:g=!1}={})=>{const{name:y}=f;for(const b of Reflect.ownKeys(p))s(f,p,b,g);return e(f,p),u(f,p,y),f},$0}var cf={exports:{}},W0,iC;function WN(){return iC||(iC=1,W0=()=>{const s={};return s.promise=new Promise((t,e)=>{s.resolve=t,s.reject=e}),s}),W0}var Fm=cf.exports,sC;function KN(){return sC||(sC=1,function(s,t){var e=Fm&&Fm.__awaiter||function(u,c,f,p){return new(f||(f=Promise))(function(g,y){function b(S){try{x(p.next(S))}catch(k){y(k)}}function A(S){try{x(p.throw(S))}catch(k){y(k)}}function x(S){S.done?g(S.value):new f(function(k){k(S.value)}).then(b,A)}x((p=p.apply(u,c||[])).next())})},n=Fm&&Fm.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(WN());function l(u,c="maxAge"){let f,p,g;const y=()=>e(this,void 0,void 0,function*(){if(f!==void 0)return;const x=S=>e(this,void 0,void 0,function*(){g=r.default();const k=S[1][c]-Date.now();if(k<=0){u.delete(S[0]),g.resolve();return}return f=S[0],p=setTimeout(()=>{u.delete(S[0]),g&&g.resolve()},k),typeof p.unref=="function"&&p.unref(),g.promise});try{for(const S of u)yield x(S)}catch{}f=void 0}),b=()=>{f=void 0,p!==void 0&&(clearTimeout(p),p=void 0),g!==void 0&&(g.reject(void 0),g=void 0)},A=u.set.bind(u);return u.set=(x,S)=>{u.has(x)&&u.delete(x);const k=A(x,S);return f&&f===x&&b(),y(),k},y(),u}t.default=l,s.exports=l,s.exports.default=l}(cf,cf.exports)),cf.exports}var K0,aC;function QN(){if(aC)return K0;aC=1;const s=$N(),t=KN(),e=new WeakMap,n=new WeakMap,r=(l,{cacheKey:u,cache:c=new Map,maxAge:f}={})=>{typeof f=="number"&&t(c);const p=function(...g){const y=u?u(g):g[0],b=c.get(y);if(b)return b.data;const A=l.apply(this,g);return c.set(y,{data:A,maxAge:f?Date.now()+f:Number.POSITIVE_INFINITY}),A};return s(p,l,{ignoreNonConfigurable:!0}),n.set(p,c),p};return r.decorator=(l={})=>(u,c,f)=>{const p=u[c];if(typeof p!="function")throw new TypeError("The decorated value must be a function");delete f.value,delete f.writable,f.get=function(){if(!e.has(this)){const g=r(p,l);return e.set(this,g),g}return e.get(this)}},r.clear=l=>{const u=n.get(l);if(!u)throw new TypeError("Can't clear a function that was not memoized!");if(typeof u.clear!="function")throw new TypeError("The cache Map can't be cleared!");u.clear()},K0=r,K0}var ZN=QN();const HT=cg(ZN);function JN(s){return typeof s=="string"}function tO(s,t,e){return e.indexOf(s)===t}function eO(s){return s.toLowerCase()===s}function rC(s){return s.indexOf(",")===-1?s:s.split(",")}function TA(s){if(!s)return s;if(s==="C"||s==="posix"||s==="POSIX")return"en-US";if(s.indexOf(".")!==-1){var t=s.split(".")[0],e=t===void 0?"":t;return TA(e)}if(s.indexOf("@")!==-1){var n=s.split("@")[0],e=n===void 0?"":n;return TA(e)}if(s.indexOf("-")===-1||!eO(s))return s;var r=s.split("-"),l=r[0],u=r[1],c=u===void 0?"":u;return"".concat(l,"-").concat(c.toUpperCase())}function nO(s){var t=s===void 0?{}:s,e=t.useFallbackLocale,n=e===void 0?!0:e,r=t.fallbackLocale,l=r===void 0?"en-US":r,u=[];if(typeof navigator<"u"){for(var c=navigator.languages||[],f=[],p=0,g=c;p<g.length;p++){var y=g[p];f=f.concat(rC(y))}var b=navigator.language,A=b&&rC(b);u=u.concat(f,A)}return n&&u.push(l),u.filter(JN).map(TA).filter(tO)}var iO=HT(nO,{cacheKey:JSON.stringify});function sO(s){return iO(s)[0]||null}var UT=HT(sO,{cacheKey:JSON.stringify});function Tr(s,t,e){return function(r,l){l===void 0&&(l=e);var u=s(r)+l;return t(u)}}function hg(s){return function(e){return new Date(s(e).getTime()-1)}}function dg(s,t){return function(n){return[s(n),t(n)]}}function Le(s){if(s instanceof Date)return s.getFullYear();if(typeof s=="number")return s;var t=parseInt(s,10);if(typeof s=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(s,"."))}function Xl(s){if(s instanceof Date)return s.getMonth();throw new Error("Failed to get month from date: ".concat(s,"."))}function fb(s){if(s instanceof Date)return s.getDate();throw new Error("Failed to get year from date: ".concat(s,"."))}function Wh(s){var t=Le(s),e=t+(-t+1)%100,n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var aO=Tr(Le,Wh,-100),GT=Tr(Le,Wh,100),yw=hg(GT),rO=Tr(Le,yw,-100),VT=dg(Wh,yw);function $l(s){var t=Le(s),e=t+(-t+1)%10,n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var qT=Tr(Le,$l,-10),bw=Tr(Le,$l,10),pb=hg(bw),YT=Tr(Le,pb,-10),XT=dg($l,pb);function Kh(s){var t=Le(s),e=new Date;return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}var $T=Tr(Le,Kh,-1),vw=Tr(Le,Kh,1),gb=hg(vw),WT=Tr(Le,gb,-1),lO=dg(Kh,gb);function Aw(s,t){return function(n,r){r===void 0&&(r=t);var l=Le(n),u=Xl(n)+r,c=new Date;return c.setFullYear(l,u,1),c.setHours(0,0,0,0),s(c)}}function Nu(s){var t=Le(s),e=Xl(s),n=new Date;return n.setFullYear(t,e,1),n.setHours(0,0,0,0),n}var KT=Aw(Nu,-1),Sw=Aw(Nu,1),fg=hg(Sw),QT=Aw(fg,-1),oO=dg(Nu,fg);function uO(s,t){return function(n,r){r===void 0&&(r=t);var l=Le(n),u=Xl(n),c=fb(n)+r,f=new Date;return f.setFullYear(l,u,c),f.setHours(0,0,0,0),s(f)}}function pg(s){var t=Le(s),e=Xl(s),n=fb(s),r=new Date;return r.setFullYear(t,e,n),r.setHours(0,0,0,0),r}var cO=uO(pg,1),ww=hg(cO),hO=dg(pg,ww);function ZT(s){return fb(fg(s))}var zn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},dO={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},xw=[0,1,2,3,4,5,6],Q0=new Map;function fO(s){return function(e,n){var r=e||UT();Q0.has(r)||Q0.set(r,new Map);var l=Q0.get(r);return l.has(s)||l.set(s,new Intl.DateTimeFormat(r||void 0,s).format),l.get(s)(n)}}function pO(s){var t=new Date(s);return new Date(t.setHours(12))}function Ou(s){return function(t,e){return fO(s)(t,pO(e))}}var gO={day:"numeric"},mO={day:"numeric",month:"long",year:"numeric"},yO={month:"long"},bO={month:"long",year:"numeric"},vO={weekday:"short"},AO={weekday:"long"},SO={year:"numeric"},wO=Ou(gO),xO=Ou(mO),EO=Ou(yO),JT=Ou(bO),_O=Ou(vO),CO=Ou(AO),mb=Ou(SO),TO=xw[0],DO=xw[5],lC=xw[6];function Lf(s,t){t===void 0&&(t=zn.ISO_8601);var e=s.getDay();switch(t){case zn.ISO_8601:return(e+6)%7;case zn.ISLAMIC:return(e+1)%7;case zn.HEBREW:case zn.GREGORY:return e;default:throw new Error("Unsupported calendar type.")}}function kO(s){var t=Wh(s);return Le(t)}function RO(s){var t=$l(s);return Le(t)}function DA(s,t){t===void 0&&(t=zn.ISO_8601);var e=Le(s),n=Xl(s),r=s.getDate()-Lf(s,t);return new Date(e,n,r)}function MO(s,t){t===void 0&&(t=zn.ISO_8601);var e=t===zn.GREGORY?zn.GREGORY:zn.ISO_8601,n=DA(s,t),r=Le(s)+1,l,u;do l=new Date(r,0,e===zn.ISO_8601?4:1),u=DA(l,t),r-=1;while(s<u);return Math.round((n.getTime()-u.getTime())/(864e5*7))+1}function Cu(s,t){switch(s){case"century":return Wh(t);case"decade":return $l(t);case"year":return Kh(t);case"month":return Nu(t);case"day":return pg(t);default:throw new Error("Invalid rangeType: ".concat(s))}}function NO(s,t){switch(s){case"century":return aO(t);case"decade":return qT(t);case"year":return $T(t);case"month":return KT(t);default:throw new Error("Invalid rangeType: ".concat(s))}}function tD(s,t){switch(s){case"century":return GT(t);case"decade":return bw(t);case"year":return vw(t);case"month":return Sw(t);default:throw new Error("Invalid rangeType: ".concat(s))}}function OO(s,t){switch(s){case"decade":return qT(t,-100);case"year":return $T(t,-10);case"month":return KT(t,-12);default:throw new Error("Invalid rangeType: ".concat(s))}}function LO(s,t){switch(s){case"decade":return bw(t,100);case"year":return vw(t,10);case"month":return Sw(t,12);default:throw new Error("Invalid rangeType: ".concat(s))}}function eD(s,t){switch(s){case"century":return yw(t);case"decade":return pb(t);case"year":return gb(t);case"month":return fg(t);case"day":return ww(t);default:throw new Error("Invalid rangeType: ".concat(s))}}function PO(s,t){switch(s){case"century":return rO(t);case"decade":return YT(t);case"year":return WT(t);case"month":return QT(t);default:throw new Error("Invalid rangeType: ".concat(s))}}function zO(s,t){switch(s){case"decade":return YT(t,-100);case"year":return WT(t,-10);case"month":return QT(t,-12);default:throw new Error("Invalid rangeType: ".concat(s))}}function oC(s,t){switch(s){case"century":return VT(t);case"decade":return XT(t);case"year":return lO(t);case"month":return oO(t);case"day":return hO(t);default:throw new Error("Invalid rangeType: ".concat(s))}}function IO(s,t,e){var n=[t,e].sort(function(r,l){return r.getTime()-l.getTime()});return[Cu(s,n[0]),eD(s,n[1])]}function nD(s,t,e){return e.map(function(n){return(t||mb)(s,n)}).join(" – ")}function FO(s,t,e){return nD(s,t,VT(e))}function iD(s,t,e){return nD(s,t,XT(e))}function BO(s){return s.getDay()===new Date().getDay()}function sD(s,t){t===void 0&&(t=zn.ISO_8601);var e=s.getDay();switch(t){case zn.ISLAMIC:case zn.HEBREW:return e===DO||e===lC;case zn.ISO_8601:case zn.GREGORY:return e===lC||e===TO;default:throw new Error("Unsupported calendar type.")}}var Js="react-calendar__navigation";function jO(s){var t=s.activeStartDate,e=s.drillUp,n=s.formatMonthYear,r=n===void 0?JT:n,l=s.formatYear,u=l===void 0?mb:l,c=s.locale,f=s.maxDate,p=s.minDate,g=s.navigationAriaLabel,y=g===void 0?"":g,b=s.navigationAriaLive,A=s.navigationLabel,x=s.next2AriaLabel,S=x===void 0?"":x,k=s.next2Label,C=k===void 0?"»":k,O=s.nextAriaLabel,N=O===void 0?"":O,z=s.nextLabel,P=z===void 0?"›":z,L=s.prev2AriaLabel,j=L===void 0?"":L,W=s.prev2Label,Q=W===void 0?"«":W,it=s.prevAriaLabel,X=it===void 0?"":it,Z=s.prevLabel,ct=Z===void 0?"‹":Z,J=s.setActiveStartDate,ht=s.showDoubleView,B=s.view,q=s.views,yt=q.indexOf(B)>0,xt=B!=="century",_=NO(B,t),K=xt?OO(B,t):void 0,ot=tD(B,t),R=xt?LO(B,t):void 0,st=function(){if(_.getFullYear()<0)return!0;var Vt=PO(B,t);return p&&p>=Vt}(),ft=xt&&function(){if(K.getFullYear()<0)return!0;var Vt=zO(B,t);return p&&p>=Vt}(),nt=f&&f<ot,ut=xt&&f&&f<R;function mt(){J(_,"prev")}function Tt(){J(K,"prev2")}function jt(){J(ot,"next")}function fe(){J(R,"next2")}function pe(Vt){var Bn=function(){switch(B){case"century":return FO(c,u,Vt);case"decade":return iD(c,u,Vt);case"year":return u(c,Vt);case"month":return r(c,Vt);default:throw new Error("Invalid view: ".concat(B,"."))}}();return A?A({date:Vt,label:Bn,locale:c||UT()||void 0,view:B}):Bn}function Zt(){var Vt="".concat(Js,"__label");return I.jsxs("button",{"aria-label":y,"aria-live":b,className:Vt,disabled:!yt,onClick:e,style:{flexGrow:1},type:"button",children:[I.jsx("span",{className:"".concat(Vt,"__labelText ").concat(Vt,"__labelText--from"),children:pe(t)}),ht?I.jsxs(I.Fragment,{children:[I.jsx("span",{className:"".concat(Vt,"__divider"),children:" – "}),I.jsx("span",{className:"".concat(Vt,"__labelText ").concat(Vt,"__labelText--to"),children:pe(ot)})]}):null]})}return I.jsxs("div",{className:Js,children:[Q!==null&&xt?I.jsx("button",{"aria-label":j,className:"".concat(Js,"__arrow ").concat(Js,"__prev2-button"),disabled:ft,onClick:Tt,type:"button",children:Q}):null,ct!==null&&I.jsx("button",{"aria-label":X,className:"".concat(Js,"__arrow ").concat(Js,"__prev-button"),disabled:st,onClick:mt,type:"button",children:ct}),Zt(),P!==null&&I.jsx("button",{"aria-label":N,className:"".concat(Js,"__arrow ").concat(Js,"__next-button"),disabled:nt,onClick:jt,type:"button",children:P}),C!==null&&xt?I.jsx("button",{"aria-label":S,className:"".concat(Js,"__arrow ").concat(Js,"__next2-button"),disabled:ut,onClick:fe,type:"button",children:C}):null]})}var Rc=function(){return Rc=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},Rc.apply(this,arguments)},HO=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e};function uC(s){return"".concat(s,"%")}function Ew(s){var t=s.children,e=s.className,n=s.count,r=s.direction,l=s.offset,u=s.style,c=s.wrap,f=HO(s,["children","className","count","direction","offset","style","wrap"]);return I.jsx("div",Rc({className:e,style:Rc({display:"flex",flexDirection:r,flexWrap:c?"wrap":"nowrap"},u)},f,{children:lt.Children.map(t,function(p,g){var y=l&&g===0?uC(100*l/n):null;return lt.cloneElement(p,Rc(Rc({},p.props),{style:{flexBasis:uC(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:y,marginInlineStart:y,marginInlineEnd:0}}))})}))}function UO(s,t,e){return t&&t>s?t:e&&e<s?e:s}function Pf(s,t){return t[0]<=s&&t[1]>=s}function GO(s,t){return s[0]<=t[0]&&s[1]>=t[1]}function aD(s,t){return Pf(s[0],t)||Pf(s[1],t)}function cC(s,t,e){var n=aD(t,s),r=[];if(n){r.push(e);var l=Pf(s[0],t),u=Pf(s[1],t);l&&r.push("".concat(e,"Start")),u&&r.push("".concat(e,"End")),l&&u&&r.push("".concat(e,"BothEnds"))}return r}function VO(s){return Array.isArray(s)?s[0]!==null&&s[1]!==null:s!==null}function qO(s){if(!s)throw new Error("args is required");var t=s.value,e=s.date,n=s.hover,r="react-calendar__tile",l=[r];if(!e)return l;var u=new Date,c=function(){if(Array.isArray(e))return e;var A=s.dateType;if(!A)throw new Error("dateType is required when date is not an array of two dates");return oC(A,e)}();if(Pf(u,c)&&l.push("".concat(r,"--now")),!t||!VO(t))return l;var f=function(){if(Array.isArray(t))return t;var A=s.valueType;if(!A)throw new Error("valueType is required when value is not an array of two dates");return oC(A,t)}();GO(f,c)?l.push("".concat(r,"--active")):aD(f,c)&&l.push("".concat(r,"--hasActive"));var p=cC(f,c,"".concat(r,"--range"));l.push.apply(l,p);var g=Array.isArray(t)?t:[t];if(n&&g.length===1){var y=n>f[0]?[f[0],n]:[n,f[0]],b=cC(y,c,"".concat(r,"--hover"));l.push.apply(l,b)}return l}function yb(s){for(var t=s.className,e=s.count,n=e===void 0?3:e,r=s.dateTransform,l=s.dateType,u=s.end,c=s.hover,f=s.offset,p=s.renderTile,g=s.start,y=s.step,b=y===void 0?1:y,A=s.value,x=s.valueType,S=[],k=g;k<=u;k+=b){var C=r(k);S.push(p({classes:qO({date:C,dateType:l,hover:c,value:A,valueType:x}),date:C}))}return I.jsx(Ew,{className:t,count:n,offset:f,wrap:!0,children:S})}function bb(s){var t=s.activeStartDate,e=s.children,n=s.classes,r=s.date,l=s.formatAbbr,u=s.locale,c=s.maxDate,f=s.maxDateTransform,p=s.minDate,g=s.minDateTransform,y=s.onClick,b=s.onMouseOver,A=s.style,x=s.tileClassName,S=s.tileContent,k=s.tileDisabled,C=s.view,O=lt.useMemo(function(){var z={activeStartDate:t,date:r,view:C};return typeof x=="function"?x(z):x},[t,r,x,C]),N=lt.useMemo(function(){var z={activeStartDate:t,date:r,view:C};return typeof S=="function"?S(z):S},[t,r,S,C]);return I.jsxs("button",{className:db(n,O),disabled:p&&g(p)>r||c&&f(c)<r||(k==null?void 0:k({activeStartDate:t,date:r,view:C})),onClick:y?function(z){return y(r,z)}:void 0,onFocus:b?function(){return b(r)}:void 0,onMouseOver:b?function(){return b(r)}:void 0,style:A,type:"button",children:[l?I.jsx("abbr",{"aria-label":l(u,r),children:e}):e,N]})}var kA=function(){return kA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},kA.apply(this,arguments)},YO=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},hC="react-calendar__century-view__decades__decade";function XO(s){var t=s.classes,e=t===void 0?[]:t,n=s.currentCentury,r=s.formatYear,l=r===void 0?mb:r,u=YO(s,["classes","currentCentury","formatYear"]),c=u.date,f=u.locale,p=[];return e&&p.push.apply(p,e),p.push(hC),Wh(c).getFullYear()!==n&&p.push("".concat(hC,"--neighboringCentury")),I.jsx(bb,kA({},u,{classes:p,maxDateTransform:pb,minDateTransform:$l,view:"century",children:iD(f,l,c)}))}var RA=function(){return RA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},RA.apply(this,arguments)},dC=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e};function $O(s){var t=s.activeStartDate,e=s.hover,n=s.showNeighboringCentury,r=s.value,l=s.valueType,u=dC(s,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),c=kO(t),f=c+(n?119:99);return I.jsx(yb,{className:"react-calendar__century-view__decades",dateTransform:$l,dateType:"decade",end:f,hover:e,renderTile:function(p){var g=p.date,y=dC(p,["date"]);return I.jsx(XO,RA({},u,y,{activeStartDate:t,currentCentury:c,date:g}),g.getTime())},start:c,step:10,value:r,valueType:l})}var MA=function(){return MA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},MA.apply(this,arguments)};function WO(s){function t(){return I.jsx($O,MA({},s))}return I.jsx("div",{className:"react-calendar__century-view",children:t()})}var NA=function(){return NA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},NA.apply(this,arguments)},KO=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},fC="react-calendar__decade-view__years__year";function QO(s){var t=s.classes,e=t===void 0?[]:t,n=s.currentDecade,r=s.formatYear,l=r===void 0?mb:r,u=KO(s,["classes","currentDecade","formatYear"]),c=u.date,f=u.locale,p=[];return e&&p.push.apply(p,e),p.push(fC),$l(c).getFullYear()!==n&&p.push("".concat(fC,"--neighboringDecade")),I.jsx(bb,NA({},u,{classes:p,maxDateTransform:gb,minDateTransform:Kh,view:"decade",children:l(f,c)}))}var OA=function(){return OA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},OA.apply(this,arguments)},pC=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e};function ZO(s){var t=s.activeStartDate,e=s.hover,n=s.showNeighboringDecade,r=s.value,l=s.valueType,u=pC(s,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),c=RO(t),f=c+(n?11:9);return I.jsx(yb,{className:"react-calendar__decade-view__years",dateTransform:Kh,dateType:"year",end:f,hover:e,renderTile:function(p){var g=p.date,y=pC(p,["date"]);return I.jsx(QO,OA({},u,y,{activeStartDate:t,currentDecade:c,date:g}),g.getTime())},start:c,value:r,valueType:l})}var LA=function(){return LA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},LA.apply(this,arguments)};function JO(s){function t(){return I.jsx(ZO,LA({},s))}return I.jsx("div",{className:"react-calendar__decade-view",children:t()})}var PA=function(){return PA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},PA.apply(this,arguments)},tL=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},gC=function(s,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,l;n<r;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return s.concat(l||Array.prototype.slice.call(t))},eL="react-calendar__year-view__months__month";function nL(s){var t=s.classes,e=t===void 0?[]:t,n=s.formatMonth,r=n===void 0?EO:n,l=s.formatMonthYear,u=l===void 0?JT:l,c=tL(s,["classes","formatMonth","formatMonthYear"]),f=c.date,p=c.locale;return I.jsx(bb,PA({},c,{classes:gC(gC([],e,!0),[eL],!1),formatAbbr:u,maxDateTransform:fg,minDateTransform:Nu,view:"year",children:r(p,f)}))}var zA=function(){return zA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},zA.apply(this,arguments)},mC=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e};function iL(s){var t=s.activeStartDate,e=s.hover,n=s.value,r=s.valueType,l=mC(s,["activeStartDate","hover","value","valueType"]),u=0,c=11,f=Le(t);return I.jsx(yb,{className:"react-calendar__year-view__months",dateTransform:function(p){var g=new Date;return g.setFullYear(f,p,1),Nu(g)},dateType:"month",end:c,hover:e,renderTile:function(p){var g=p.date,y=mC(p,["date"]);return I.jsx(nL,zA({},l,y,{activeStartDate:t,date:g}),g.getTime())},start:u,value:n,valueType:r})}var IA=function(){return IA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},IA.apply(this,arguments)};function sL(s){function t(){return I.jsx(iL,IA({},s))}return I.jsx("div",{className:"react-calendar__year-view",children:t()})}var FA=function(){return FA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},FA.apply(this,arguments)},aL=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},Z0="react-calendar__month-view__days__day";function rL(s){var t=s.calendarType,e=s.classes,n=e===void 0?[]:e,r=s.currentMonthIndex,l=s.formatDay,u=l===void 0?wO:l,c=s.formatLongDate,f=c===void 0?xO:c,p=aL(s,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),g=p.date,y=p.locale,b=[];return n&&b.push.apply(b,n),b.push(Z0),sD(g,t)&&b.push("".concat(Z0,"--weekend")),g.getMonth()!==r&&b.push("".concat(Z0,"--neighboringMonth")),I.jsx(bb,FA({},p,{classes:b,formatAbbr:f,maxDateTransform:ww,minDateTransform:pg,view:"month",children:u(y,g)}))}var BA=function(){return BA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},BA.apply(this,arguments)},yC=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e};function lL(s){var t=s.activeStartDate,e=s.calendarType,n=s.hover,r=s.showFixedNumberOfWeeks,l=s.showNeighboringMonth,u=s.value,c=s.valueType,f=yC(s,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=Le(t),g=Xl(t),y=r||l,b=Lf(t,e),A=y?0:b,x=(y?-b:0)+1,S=function(){if(r)return x+6*7-1;var k=ZT(t);if(l){var C=new Date;C.setFullYear(p,g,k),C.setHours(0,0,0,0);var O=7-Lf(C,e)-1;return k+O}return k}();return I.jsx(yb,{className:"react-calendar__month-view__days",count:7,dateTransform:function(k){var C=new Date;return C.setFullYear(p,g,k),pg(C)},dateType:"day",hover:n,end:S,renderTile:function(k){var C=k.date,O=yC(k,["date"]);return I.jsx(rL,BA({},f,O,{activeStartDate:t,calendarType:e,currentMonthIndex:g,date:C}),C.getTime())},offset:A,start:x,value:u,valueType:c})}var rD="react-calendar__month-view__weekdays",J0="".concat(rD,"__weekday");function oL(s){for(var t=s.calendarType,e=s.formatShortWeekday,n=e===void 0?_O:e,r=s.formatWeekday,l=r===void 0?CO:r,u=s.locale,c=s.onMouseLeave,f=new Date,p=Nu(f),g=Le(p),y=Xl(p),b=[],A=1;A<=7;A+=1){var x=new Date(g,y,A-Lf(p,t)),S=l(u,x);b.push(I.jsx("div",{className:db(J0,BO(x)&&"".concat(J0,"--current"),sD(x,t)&&"".concat(J0,"--weekend")),children:I.jsx("abbr",{"aria-label":S,title:S,children:n(u,x).replace(".","")})},A))}return I.jsx(Ew,{className:rD,count:7,onFocus:c,onMouseOver:c,children:b})}var Ny=function(){return Ny=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},Ny.apply(this,arguments)},bC=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},vC="react-calendar__tile";function uL(s){var t=s.onClickWeekNumber,e=s.weekNumber,n=I.jsx("span",{children:e});if(t){var r=s.date,l=s.onClickWeekNumber,u=s.weekNumber,c=bC(s,["date","onClickWeekNumber","weekNumber"]);return I.jsx("button",Ny({},c,{className:vC,onClick:function(f){return l(u,r,f)},type:"button",children:n}))}else{s.date,s.onClickWeekNumber,s.weekNumber;var c=bC(s,["date","onClickWeekNumber","weekNumber"]);return I.jsx("div",Ny({},c,{className:vC,children:n}))}}function cL(s){var t=s.activeStartDate,e=s.calendarType,n=s.onClickWeekNumber,r=s.onMouseLeave,l=s.showFixedNumberOfWeeks,u=function(){if(l)return 6;var p=ZT(t),g=Lf(t,e),y=p-(7-g);return 1+Math.ceil(y/7)}(),c=function(){for(var p=Le(t),g=Xl(t),y=fb(t),b=[],A=0;A<u;A+=1)b.push(DA(new Date(p,g,y+A*7),e));return b}(),f=c.map(function(p){return MO(p,e)});return I.jsx(Ew,{className:"react-calendar__month-view__weekNumbers",count:u,direction:"column",onFocus:r,onMouseOver:r,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:f.map(function(p,g){var y=c[g];if(!y)throw new Error("date is not defined");return I.jsx(uL,{date:y,onClickWeekNumber:n,weekNumber:p},p)})})}var jA=function(){return jA=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},jA.apply(this,arguments)},hL=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e};function dL(s){if(s)for(var t=0,e=Object.entries(dO);t<e.length;t++){var n=e[t],r=n[0],l=n[1];if(l.includes(s))return r}return zn.ISO_8601}function fL(s){var t=s.activeStartDate,e=s.locale,n=s.onMouseLeave,r=s.showFixedNumberOfWeeks,l=s.calendarType,u=l===void 0?dL(e):l,c=s.formatShortWeekday,f=s.formatWeekday,p=s.onClickWeekNumber,g=s.showWeekNumbers,y=hL(s,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return I.jsx(oL,{calendarType:u,formatShortWeekday:c,formatWeekday:f,locale:e,onMouseLeave:n})}function A(){return g?I.jsx(cL,{activeStartDate:t,calendarType:u,onClickWeekNumber:p,onMouseLeave:n,showFixedNumberOfWeeks:r}):null}function x(){return I.jsx(lL,jA({calendarType:u},y))}var S="react-calendar__month-view";return I.jsx("div",{className:db(S,g?"".concat(S,"--weekNumbers"):""),children:I.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[A(),I.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[b(),x()]})]})})}var Mc=function(){return Mc=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},Mc.apply(this,arguments)},Bm="react-calendar",Zm=["century","decade","year","month"],pL=["decade","year","month","day"],_w=new Date;_w.setFullYear(1,0,1);_w.setHours(0,0,0,0);var gL=new Date(864e13);function hf(s){return s instanceof Date?s:new Date(s)}function lD(s,t){return Zm.slice(Zm.indexOf(s),Zm.indexOf(t)+1)}function mL(s,t,e){var n=lD(t,e);return n.indexOf(s)!==-1}function Cw(s,t,e){return s&&mL(s,t,e)?s:e}function oD(s){var t=Zm.indexOf(s);return pL[t]}function yL(s,t){var e=Array.isArray(s)?s[t]:s;if(!e)return null;var n=hf(e);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(s));return n}function uD(s,t){var e=s.value,n=s.minDate,r=s.maxDate,l=s.maxDetail,u=yL(e,t);if(!u)return null;var c=oD(l),f=function(){switch(t){case 0:return Cu(c,u);case 1:return eD(c,u);default:throw new Error("Invalid index value: ".concat(t))}}();return UO(f,n,r)}var Tw=function(s){return uD(s,0)},cD=function(s){return uD(s,1)},bL=function(s){return[Tw,cD].map(function(t){return t(s)})};function hD(s){var t=s.maxDate,e=s.maxDetail,n=s.minDate,r=s.minDetail,l=s.value,u=s.view,c=Cw(u,r,e),f=Tw({value:l,minDate:n,maxDate:t,maxDetail:e})||new Date;return Cu(c,f)}function vL(s){var t=s.activeStartDate,e=s.defaultActiveStartDate,n=s.defaultValue,r=s.defaultView,l=s.maxDate,u=s.maxDetail,c=s.minDate,f=s.minDetail,p=s.value,g=s.view,y=Cw(g,f,u),b=t||e;return b?Cu(y,b):hD({maxDate:l,maxDetail:u,minDate:c,minDetail:f,value:p||n,view:g||r})}function tA(s){return s&&(!Array.isArray(s)||s.length===1)}function jm(s,t){return s instanceof Date&&t instanceof Date&&s.getTime()===t.getTime()}var AL=lt.forwardRef(function(t,e){var n=t.activeStartDate,r=t.allowPartialRange,l=t.calendarType,u=t.className,c=t.defaultActiveStartDate,f=t.defaultValue,p=t.defaultView,g=t.formatDay,y=t.formatLongDate,b=t.formatMonth,A=t.formatMonthYear,x=t.formatShortWeekday,S=t.formatWeekday,k=t.formatYear,C=t.goToRangeStartOnSelect,O=C===void 0?!0:C,N=t.inputRef,z=t.locale,P=t.maxDate,L=P===void 0?gL:P,j=t.maxDetail,W=j===void 0?"month":j,Q=t.minDate,it=Q===void 0?_w:Q,X=t.minDetail,Z=X===void 0?"century":X,ct=t.navigationAriaLabel,J=t.navigationAriaLive,ht=t.navigationLabel,B=t.next2AriaLabel,q=t.next2Label,yt=t.nextAriaLabel,xt=t.nextLabel,_=t.onActiveStartDateChange,K=t.onChange,ot=t.onClickDay,R=t.onClickDecade,st=t.onClickMonth,ft=t.onClickWeekNumber,nt=t.onClickYear,ut=t.onDrillDown,mt=t.onDrillUp,Tt=t.onViewChange,jt=t.prev2AriaLabel,fe=t.prev2Label,pe=t.prevAriaLabel,Zt=t.prevLabel,Vt=t.returnValue,Bn=Vt===void 0?"start":Vt,Fe=t.selectRange,Be=t.showDoubleView,Ve=t.showFixedNumberOfWeeks,xs=t.showNavigation,Ea=xs===void 0?!0:xs,ci=t.showNeighboringCentury,Dr=t.showNeighboringDecade,_a=t.showNeighboringMonth,Jh=_a===void 0?!0:_a,td=t.showWeekNumbers,tt=t.tileClassName,dt=t.tileContent,Dt=t.tileDisabled,kt=t.value,ie=t.view,jn=lt.useState(c),Es=jn[0],rn=jn[1],Ti=lt.useState(null),Qn=Ti[0],qe=Ti[1],Zn=lt.useState(Array.isArray(f)?f.map(function(It){return It!==null?hf(It):null}):f!=null?hf(f):null),Jn=Zn[0],Eg=Zn[1],ed=lt.useState(p),nd=ed[0],kr=ed[1],Hn=n||Es||vL({activeStartDate:n,defaultActiveStartDate:c,defaultValue:f,defaultView:p,maxDate:L,maxDetail:W,minDate:it,minDetail:Z,value:kt,view:ie}),_n=function(){var It=function(){return Fe&&tA(Jn)?Jn:kt!==void 0?kt:Jn}();return It?Array.isArray(It)?It.map(function(ue){return ue!==null?hf(ue):null}):It!==null?hf(It):null:null}(),Kl=oD(W),we=Cw(ie||nd,Z,W),hi=lD(Z,W),_g=Fe?Qn:null,id=hi.indexOf(we)<hi.length-1,_s=hi.indexOf(we)>0,ln=lt.useCallback(function(It){var ue=function(){switch(Bn){case"start":return Tw;case"end":return cD;case"range":return bL;default:throw new Error("Invalid returnValue.")}}();return ue({maxDate:L,maxDetail:W,minDate:it,value:It})},[L,W,it,Bn]),gn=lt.useCallback(function(It,ue){rn(It);var qt={action:ue,activeStartDate:It,value:_n,view:we};_&&!jm(Hn,It)&&_(qt)},[Hn,_,_n,we]),Cs=lt.useCallback(function(It,ue){var qt=function(){switch(we){case"century":return R;case"decade":return nt;case"year":return st;case"month":return ot;default:throw new Error("Invalid view: ".concat(we,"."))}}();qt&&qt(It,ue)},[ot,R,st,nt,we]),Ql=lt.useCallback(function(It,ue){if(id){Cs(It,ue);var qt=hi[hi.indexOf(we)+1];if(!qt)throw new Error("Attempted to drill down from the lowest view.");rn(It),kr(qt);var di={action:"drillDown",activeStartDate:It,value:_n,view:qt};_&&!jm(Hn,It)&&_(di),Tt&&we!==qt&&Tt(di),ut&&ut(di)}},[Hn,id,_,Cs,ut,Tt,_n,we,hi]),sd=lt.useCallback(function(){if(_s){var It=hi[hi.indexOf(we)-1];if(!It)throw new Error("Attempted to drill up from the highest view.");var ue=Cu(It,Hn);rn(ue),kr(It);var qt={action:"drillUp",activeStartDate:ue,value:_n,view:It};_&&!jm(Hn,ue)&&_(qt),Tt&&we!==It&&Tt(qt),mt&&mt(qt)}},[Hn,_s,_,mt,Tt,_n,we,hi]),ad=lt.useCallback(function(It,ue){var qt=_n;Cs(It,ue);var di=Fe&&!tA(qt),fi;if(Fe)if(di)fi=Cu(Kl,It);else{if(!qt)throw new Error("previousValue is required");if(Array.isArray(qt))throw new Error("previousValue must not be an array");fi=IO(Kl,qt,It)}else fi=ln(It);var Ts=!Fe||di||O?hD({maxDate:L,maxDetail:W,minDate:it,minDetail:Z,value:fi,view:we}):null;ue.persist(),rn(Ts),Eg(fi);var Nr={action:"onChange",activeStartDate:Ts,value:fi,view:we};if(_&&!jm(Hn,Ts)&&_(Nr),K)if(Fe){var Ob=tA(fi);if(!Ob)K(fi||null,ue);else if(r){if(Array.isArray(fi))throw new Error("value must not be an array");K([fi||null,null],ue)}}else K(fi||null,ue)},[Hn,r,ln,O,L,W,it,Z,_,K,Cs,Fe,_n,Kl,we]);function Cg(It){qe(It)}function Ca(){qe(null)}lt.useImperativeHandle(e,function(){return{activeStartDate:Hn,drillDown:Ql,drillUp:sd,onChange:ad,setActiveStartDate:gn,value:_n,view:we}},[Hn,Ql,sd,ad,gn,_n,we]);function Iu(It){var ue=It?tD(we,Hn):Cu(we,Hn),qt=id?Ql:ad,di={activeStartDate:ue,hover:_g,locale:z,maxDate:L,minDate:it,onClick:qt,onMouseOver:Fe?Cg:void 0,tileClassName:tt,tileContent:dt,tileDisabled:Dt,value:_n,valueType:Kl};switch(we){case"century":return I.jsx(WO,Mc({formatYear:k,showNeighboringCentury:ci},di));case"decade":return I.jsx(JO,Mc({formatYear:k,showNeighboringDecade:Dr},di));case"year":return I.jsx(sL,Mc({formatMonth:b,formatMonthYear:A},di));case"month":return I.jsx(fL,Mc({calendarType:l,formatDay:g,formatLongDate:y,formatShortWeekday:x,formatWeekday:S,onClickWeekNumber:ft,onMouseLeave:Fe?Ca:void 0,showFixedNumberOfWeeks:typeof Ve<"u"?Ve:Be,showNeighboringMonth:Jh,showWeekNumbers:td},di));default:throw new Error("Invalid view: ".concat(we,"."))}}function Rr(){return Ea?I.jsx(jO,{activeStartDate:Hn,drillUp:sd,formatMonthYear:A,formatYear:k,locale:z,maxDate:L,minDate:it,navigationAriaLabel:ct,navigationAriaLive:J,navigationLabel:ht,next2AriaLabel:B,next2Label:q,nextAriaLabel:yt,nextLabel:xt,prev2AriaLabel:jt,prev2Label:fe,prevAriaLabel:pe,prevLabel:Zt,setActiveStartDate:gn,showDoubleView:Be,view:we,views:hi}):null}var Mr=Array.isArray(_n)?_n:[_n];return I.jsxs("div",{className:db(Bm,Fe&&Mr.length===1&&"".concat(Bm,"--selectRange"),Be&&"".concat(Bm,"--doubleView"),u),ref:N,children:[Rr(),I.jsxs("div",{className:"".concat(Bm,"__viewContainer"),onBlur:Fe?Ca:void 0,onMouseLeave:Fe?Ca:void 0,children:[Iu(),Be?Iu(!0):null]})]})});function SL(){const[s,t]=lt.useState(new Date);return I.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[I.jsx("h1",{className:"text-3xl font-bold text-center mt-6",children:"📆 日历"}),I.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:I.jsx(AL,{onChange:t,value:s})})]})}function wL({filePath:s}){const t=$h(),[e,n]=lt.useState(!1),[r]=lt.useState([]),l=()=>{t&&(t.postMessage({command:"runCodeRecognition",filePath:s}),n(!0))};return I.jsxs("div",{className:"bg-white shadow p-4 rounded-xl",children:[I.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🧠 代码识别"}),I.jsx("button",{className:"bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600",onClick:l,children:"🚀 运行代码识别"}),e&&I.jsx("div",{className:"mt-4",children:r.length?r.map((u,c)=>{let f="";try{const p=JSON.parse(u.content);f=Array.isArray(p)?p.join(`
`):u.content}catch{f=u.content}return I.jsxs("div",{className:"bg-gray-100 rounded p-4 mb-2",children:[I.jsx("p",{className:"font-bold mb-2",children:u.path}),I.jsx("pre",{className:"overflow-auto max-h-64 whitespace-pre-wrap",children:I.jsx("code",{children:f})})]},c)}):"正在运行代码识别..."})]})}function xL(s,t){const e={};return(s[s.length-1]===""?[...s,""]:s).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const EL=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_L=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CL={};function AC(s,t){return(CL.jsx?_L:EL).test(s)}const TL=/[ \t\n\f\r]/g;function DL(s){return typeof s=="object"?s.type==="text"?SC(s.value):!1:SC(s)}function SC(s){return s.replace(TL,"")===""}class gg{constructor(t,e,n){this.normal=e,this.property=t,n&&(this.space=n)}}gg.prototype.normal={};gg.prototype.property={};gg.prototype.space=void 0;function dD(s,t){const e={},n={};for(const r of s)Object.assign(e,r.property),Object.assign(n,r.normal);return new gg(e,n,t)}function HA(s){return s.toLowerCase()}class Ci{constructor(t,e){this.attribute=e,this.property=t}}Ci.prototype.attribute="";Ci.prototype.booleanish=!1;Ci.prototype.boolean=!1;Ci.prototype.commaOrSpaceSeparated=!1;Ci.prototype.commaSeparated=!1;Ci.prototype.defined=!1;Ci.prototype.mustUseProperty=!1;Ci.prototype.number=!1;Ci.prototype.overloadedBoolean=!1;Ci.prototype.property="";Ci.prototype.spaceSeparated=!1;Ci.prototype.space=void 0;let kL=0;const Ft=Lu(),en=Lu(),fD=Lu(),pt=Lu(),Ce=Lu(),zc=Lu(),Pi=Lu();function Lu(){return 2**++kL}const UA=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ft,booleanish:en,commaOrSpaceSeparated:Pi,commaSeparated:zc,number:pt,overloadedBoolean:fD,spaceSeparated:Ce},Symbol.toStringTag,{value:"Module"})),eA=Object.keys(UA);class Dw extends Ci{constructor(t,e,n,r){let l=-1;if(super(t,e),wC(this,"space",r),typeof n=="number")for(;++l<eA.length;){const u=eA[l];wC(this,eA[l],(n&UA[u])===UA[u])}}}Dw.prototype.defined=!0;function wC(s,t,e){e&&(s[t]=e)}function Qh(s){const t={},e={};for(const[n,r]of Object.entries(s.properties)){const l=new Dw(n,s.transform(s.attributes||{},n),r,s.space);s.mustUseProperty&&s.mustUseProperty.includes(n)&&(l.mustUseProperty=!0),t[n]=l,e[HA(n)]=n,e[HA(l.attribute)]=n}return new gg(t,e,s.space)}const pD=Qh({properties:{ariaActiveDescendant:null,ariaAtomic:en,ariaAutoComplete:null,ariaBusy:en,ariaChecked:en,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:Ce,ariaCurrent:null,ariaDescribedBy:Ce,ariaDetails:null,ariaDisabled:en,ariaDropEffect:Ce,ariaErrorMessage:null,ariaExpanded:en,ariaFlowTo:Ce,ariaGrabbed:en,ariaHasPopup:null,ariaHidden:en,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ce,ariaLevel:pt,ariaLive:null,ariaModal:en,ariaMultiLine:en,ariaMultiSelectable:en,ariaOrientation:null,ariaOwns:Ce,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:en,ariaReadOnly:en,ariaRelevant:null,ariaRequired:en,ariaRoleDescription:Ce,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:en,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(s,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function gD(s,t){return t in s?s[t]:t}function mD(s,t){return gD(s,t.toLowerCase())}const RL=Qh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zc,acceptCharset:Ce,accessKey:Ce,action:null,allow:null,allowFullScreen:Ft,allowPaymentRequest:Ft,allowUserMedia:Ft,alt:null,as:null,async:Ft,autoCapitalize:null,autoComplete:Ce,autoFocus:Ft,autoPlay:Ft,blocking:Ce,capture:null,charSet:null,checked:Ft,cite:null,className:Ce,cols:pt,colSpan:null,content:null,contentEditable:en,controls:Ft,controlsList:Ce,coords:pt|zc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ft,defer:Ft,dir:null,dirName:null,disabled:Ft,download:fD,draggable:en,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ft,formTarget:null,headers:Ce,height:pt,hidden:Ft,high:pt,href:null,hrefLang:null,htmlFor:Ce,httpEquiv:Ce,id:null,imageSizes:null,imageSrcSet:null,inert:Ft,inputMode:null,integrity:null,is:null,isMap:Ft,itemId:null,itemProp:Ce,itemRef:Ce,itemScope:Ft,itemType:Ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ft,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:Ft,muted:Ft,name:null,nonce:null,noModule:Ft,noValidate:Ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ft,optimum:pt,pattern:null,ping:Ce,placeholder:null,playsInline:Ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ft,referrerPolicy:null,rel:Ce,required:Ft,reversed:Ft,rows:pt,rowSpan:pt,sandbox:Ce,scope:null,scoped:Ft,seamless:Ft,selected:Ft,shadowRootClonable:Ft,shadowRootDelegatesFocus:Ft,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:en,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:Ft,useMap:null,value:en,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ce,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ft,declare:Ft,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:Ft,noHref:Ft,noShade:Ft,noWrap:Ft,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:en,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ft,disableRemotePlayback:Ft,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:mD}),ML=Qh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pi,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:Ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:Ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zc,g2:zc,glyphName:zc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:Pi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pi,rev:Pi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pi,requiredFeatures:Pi,requiredFonts:Pi,requiredFormats:Pi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:Pi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pi,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gD}),yD=Qh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(s,t){return"xlink:"+t.slice(5).toLowerCase()}}),bD=Qh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mD}),vD=Qh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(s,t){return"xml:"+t.slice(3).toLowerCase()}}),NL={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OL=/[A-Z]/g,xC=/-[a-z]/g,LL=/^data[-\w.:]+$/i;function PL(s,t){const e=HA(t);let n=t,r=Ci;if(e in s.normal)return s.property[s.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&LL.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(xC,IL);n="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!xC.test(l)){let u=l.replace(OL,zL);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}r=Dw}return new r(n,t)}function zL(s){return"-"+s.toLowerCase()}function IL(s){return s.charAt(1).toUpperCase()}const FL=dD([pD,RL,yD,bD,vD],"html"),kw=dD([pD,ML,yD,bD,vD],"svg");function BL(s){return s.join(" ").trim()}var bc={},nA,EC;function jL(){if(EC)return nA;EC=1;var s=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,p="/",g="*",y="",b="comment",A="declaration";nA=function(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var C=1,O=1;function N(ct){var J=ct.match(t);J&&(C+=J.length);var ht=ct.lastIndexOf(f);O=~ht?ct.length-ht:O+ct.length}function z(){var ct={line:C,column:O};return function(J){return J.position=new P(ct),W(),J}}function P(ct){this.start=ct,this.end={line:C,column:O},this.source=k.source}P.prototype.content=S;function L(ct){var J=new Error(k.source+":"+C+":"+O+": "+ct);if(J.reason=ct,J.filename=k.source,J.line=C,J.column=O,J.source=S,!k.silent)throw J}function j(ct){var J=ct.exec(S);if(J){var ht=J[0];return N(ht),S=S.slice(ht.length),J}}function W(){j(e)}function Q(ct){var J;for(ct=ct||[];J=it();)J!==!1&&ct.push(J);return ct}function it(){var ct=z();if(!(p!=S.charAt(0)||g!=S.charAt(1))){for(var J=2;y!=S.charAt(J)&&(g!=S.charAt(J)||p!=S.charAt(J+1));)++J;if(J+=2,y===S.charAt(J-1))return L("End of comment missing");var ht=S.slice(2,J-2);return O+=2,N(ht),S=S.slice(J),O+=2,ct({type:b,comment:ht})}}function X(){var ct=z(),J=j(n);if(J){if(it(),!j(r))return L("property missing ':'");var ht=j(l),B=ct({type:A,property:x(J[0].replace(s,y)),value:ht?x(ht[0].replace(s,y)):y});return j(u),B}}function Z(){var ct=[];Q(ct);for(var J;J=X();)J!==!1&&(ct.push(J),Q(ct));return ct}return W(),Z()};function x(S){return S?S.replace(c,y):y}return nA}var _C;function HL(){if(_C)return bc;_C=1;var s=bc&&bc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(bc,"__esModule",{value:!0}),bc.default=e;var t=s(jL());function e(n,r){var l=null;if(!n||typeof n!="string")return l;var u=(0,t.default)(n),c=typeof r=="function";return u.forEach(function(f){if(f.type==="declaration"){var p=f.property,g=f.value;c?r(p,g,f):g&&(l=l||{},l[p]=g)}}),l}return bc}var ef={},CC;function UL(){if(CC)return ef;CC=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.camelCase=void 0;var s=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,l=function(p){return!p||e.test(p)||s.test(p)},u=function(p,g){return g.toUpperCase()},c=function(p,g){return"".concat(g,"-")},f=function(p,g){return g===void 0&&(g={}),l(p)?p:(p=p.toLowerCase(),g.reactCompat?p=p.replace(r,c):p=p.replace(n,c),p.replace(t,u))};return ef.camelCase=f,ef}var nf,TC;function GL(){if(TC)return nf;TC=1;var s=nf&&nf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=s(HL()),e=UL();function n(r,l){var u={};return!r||typeof r!="string"||(0,t.default)(r,function(c,f){c&&f&&(u[(0,e.camelCase)(c,l)]=f)}),u}return n.default=n,nf=n,nf}var VL=GL();const qL=cg(VL),AD=SD("end"),Rw=SD("start");function SD(s){return t;function t(e){const n=e&&e.position&&e.position[s]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function YL(s){const t=Rw(s),e=AD(s);if(t&&e)return{start:t,end:e}}function Mf(s){return!s||typeof s!="object"?"":"position"in s||"type"in s?DC(s.position):"start"in s||"end"in s?DC(s):"line"in s||"column"in s?GA(s):""}function GA(s){return kC(s&&s.line)+":"+kC(s&&s.column)}function DC(s){return GA(s&&s.start)+"-"+GA(s&&s.end)}function kC(s){return s&&typeof s=="number"?s:1}class Kn extends Error{constructor(t,e,n){super(),typeof e=="string"&&(n=e,e=void 0);let r="",l={},u=!1;if(e&&("line"in e&&"column"in e?l={place:e}:"start"in e&&"end"in e?l={place:e}:"type"in e?l={ancestors:[e],place:e.position}:l={...e}),typeof t=="string"?r=t:!l.cause&&t&&(u=!0,r=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof n=="string"){const f=n.indexOf(":");f===-1?l.ruleId=n:(l.source=n.slice(0,f),l.ruleId=n.slice(f+1))}if(!l.place&&l.ancestors&&l.ancestors){const f=l.ancestors[l.ancestors.length-1];f&&(l.place=f.position)}const c=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=c?c.line:void 0,this.name=Mf(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Kn.prototype.file="";Kn.prototype.name="";Kn.prototype.reason="";Kn.prototype.message="";Kn.prototype.stack="";Kn.prototype.column=void 0;Kn.prototype.line=void 0;Kn.prototype.ancestors=void 0;Kn.prototype.cause=void 0;Kn.prototype.fatal=void 0;Kn.prototype.place=void 0;Kn.prototype.ruleId=void 0;Kn.prototype.source=void 0;const Mw={}.hasOwnProperty,XL=new Map,$L=/[A-Z]/g,WL=new Set(["table","tbody","thead","tfoot","tr"]),KL=new Set(["td","th"]),wD="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function QL(s,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=aP(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=sP(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?kw:FL,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=xD(r,s,void 0);return l&&typeof l!="string"?l:r.create(s,r.Fragment,{children:l||void 0},void 0)}function xD(s,t,e){if(t.type==="element")return ZL(s,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return JL(s,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return eP(s,t,e);if(t.type==="mdxjsEsm")return tP(s,t);if(t.type==="root")return nP(s,t,e);if(t.type==="text")return iP(s,t)}function ZL(s,t,e){const n=s.schema;let r=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=kw,s.schema=r),s.ancestors.push(t);const l=_D(s,t.tagName,!1),u=rP(s,t);let c=Ow(s,t);return WL.has(t.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!DL(f):!0})),ED(s,u,l,t),Nw(u,c),s.ancestors.pop(),s.schema=n,s.create(t,l,u,e)}function JL(s,t){if(t.data&&t.data.estree&&s.evaluater){const n=t.data.estree.body[0];return n.type,s.evaluater.evaluateExpression(n.expression)}zf(s,t.position)}function tP(s,t){if(t.data&&t.data.estree&&s.evaluater)return s.evaluater.evaluateProgram(t.data.estree);zf(s,t.position)}function eP(s,t,e){const n=s.schema;let r=n;t.name==="svg"&&n.space==="html"&&(r=kw,s.schema=r),s.ancestors.push(t);const l=t.name===null?s.Fragment:_D(s,t.name,!0),u=lP(s,t),c=Ow(s,t);return ED(s,u,l,t),Nw(u,c),s.ancestors.pop(),s.schema=n,s.create(t,l,u,e)}function nP(s,t,e){const n={};return Nw(n,Ow(s,t)),s.create(t,s.Fragment,n,e)}function iP(s,t){return t.value}function ED(s,t,e,n){typeof e!="string"&&e!==s.Fragment&&s.passNode&&(t.node=n)}function Nw(s,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(s.children=e)}}function sP(s,t,e){return n;function n(r,l,u,c){const p=Array.isArray(u.children)?e:t;return c?p(l,u,c):p(l,u)}}function aP(s,t){return e;function e(n,r,l,u){const c=Array.isArray(l.children),f=Rw(n);return t(r,l,u,c,{columnNumber:f?f.column-1:void 0,fileName:s,lineNumber:f?f.line:void 0},void 0)}}function rP(s,t){const e={};let n,r;for(r in t.properties)if(r!=="children"&&Mw.call(t.properties,r)){const l=oP(s,r,t.properties[r]);if(l){const[u,c]=l;s.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&KL.has(t.tagName)?n=c:e[u]=c}}if(n){const l=e.style||(e.style={});l[s.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return e}function lP(s,t){const e={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&s.evaluater){const l=n.data.estree.body[0];l.type;const u=l.expression;u.type;const c=u.properties[0];c.type,Object.assign(e,s.evaluater.evaluateExpression(c.argument))}else zf(s,t.position);else{const r=n.name;let l;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&s.evaluater){const c=n.value.data.estree.body[0];c.type,l=s.evaluater.evaluateExpression(c.expression)}else zf(s,t.position);else l=n.value===null?!0:n.value;e[r]=l}return e}function Ow(s,t){const e=[];let n=-1;const r=s.passKeys?new Map:XL;for(;++n<t.children.length;){const l=t.children[n];let u;if(s.passKeys){const f=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(f){const p=r.get(f)||0;u=f+"-"+p,r.set(f,p+1)}}const c=xD(s,l,u);c!==void 0&&e.push(c)}return e}function oP(s,t,e){const n=PL(s.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=n.commaSeparated?xL(e):BL(e)),n.property==="style"){let r=typeof e=="object"?e:uP(s,String(e));return s.stylePropertyNameCase==="css"&&(r=cP(r)),["style",r]}return[s.elementAttributeNameCase==="react"&&n.space?NL[n.property]||n.property:n.attribute,e]}}function uP(s,t){try{return qL(t,{reactCompat:!0})}catch(e){if(s.ignoreInvalidStyle)return{};const n=e,r=new Kn("Cannot parse `style` attribute",{ancestors:s.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=s.filePath||void 0,r.url=wD+"#cannot-parse-style-attribute",r}}function _D(s,t,e){let n;if(!e)n={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let l=-1,u;for(;++l<r.length;){const c=AC(r[l])?{type:"Identifier",name:r[l]}:{type:"Literal",value:r[l]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(l&&c.type==="Literal"),optional:!1}:c}n=u}else n=AC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const r=n.value;return Mw.call(s.components,r)?s.components[r]:r}if(s.evaluater)return s.evaluater.evaluateExpression(n);zf(s)}function zf(s,t){const e=new Kn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:s.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=s.filePath||void 0,e.url=wD+"#cannot-handle-mdx-estrees-without-createevaluater",e}function cP(s){const t={};let e;for(e in s)Mw.call(s,e)&&(t[hP(e)]=s[e]);return t}function hP(s){let t=s.replace($L,dP);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function dP(s){return"-"+s.toLowerCase()}const iA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fP={};function pP(s,t){const e=fP,n=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return CD(s,n,r)}function CD(s,t,e){if(gP(s)){if("value"in s)return s.type==="html"&&!e?"":s.value;if(t&&"alt"in s&&s.alt)return s.alt;if("children"in s)return RC(s.children,t,e)}return Array.isArray(s)?RC(s,t,e):""}function RC(s,t,e){const n=[];let r=-1;for(;++r<s.length;)n[r]=CD(s[r],t,e);return n.join("")}function gP(s){return!!(s&&typeof s=="object")}const MC=document.createElement("i");function Lw(s){const t="&"+s+";";MC.innerHTML=t;const e=MC.textContent;return e.charCodeAt(e.length-1)===59&&s!=="semi"||e===t?!1:e}function wa(s,t,e,n){const r=s.length;let l=0,u;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,n.length<1e4)u=Array.from(n),u.unshift(t,e),s.splice(...u);else for(e&&s.splice(t,e);l<n.length;)u=n.slice(l,l+1e4),u.unshift(t,0),s.splice(...u),l+=1e4,t+=1e4}function As(s,t){return s.length>0?(wa(s,s.length,0,t),s):t}const NC={}.hasOwnProperty;function mP(s){const t={};let e=-1;for(;++e<s.length;)yP(t,s[e]);return t}function yP(s,t){let e;for(e in t){const r=(NC.call(s,e)?s[e]:void 0)||(s[e]={}),l=t[e];let u;if(l)for(u in l){NC.call(r,u)||(r[u]=[]);const c=l[u];bP(r[u],Array.isArray(c)?c:c?[c]:[])}}}function bP(s,t){let e=-1;const n=[];for(;++e<t.length;)(t[e].add==="after"?s:n).push(t[e]);wa(s,0,0,n)}function TD(s,t){const e=Number.parseInt(s,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"�":String.fromCodePoint(e)}function Ic(s){return s.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Aa=Wl(/[A-Za-z]/),ts=Wl(/[\dA-Za-z]/),vP=Wl(/[#-'*+\--9=?A-Z^-~]/);function VA(s){return s!==null&&(s<32||s===127)}const qA=Wl(/\d/),AP=Wl(/[\dA-Fa-f]/),SP=Wl(/[!-/:-@[-`{-~]/);function Lt(s){return s!==null&&s<-2}function _i(s){return s!==null&&(s<0||s===32)}function le(s){return s===-2||s===-1||s===32}const wP=Wl(new RegExp("\\p{P}|\\p{S}","u")),xP=Wl(/\s/);function Wl(s){return t;function t(e){return e!==null&&e>-1&&s.test(String.fromCharCode(e))}}function Zh(s){const t=[];let e=-1,n=0,r=0;for(;++e<s.length;){const l=s.charCodeAt(e);let u="";if(l===37&&ts(s.charCodeAt(e+1))&&ts(s.charCodeAt(e+2)))r=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const c=s.charCodeAt(e+1);l<56320&&c>56319&&c<57344?(u=String.fromCharCode(l,c),r=1):u="�"}else u=String.fromCharCode(l);u&&(t.push(s.slice(n,e),encodeURIComponent(u)),n=e+r+1,u=""),r&&(e+=r,r=0)}return t.join("")+s.slice(n)}function Te(s,t,e,n){const r=n?n-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(f){return le(f)?(s.enter(e),c(f)):t(f)}function c(f){return le(f)&&l++<r?(s.consume(f),c):(s.exit(e),t(f))}}const EP={tokenize:_P};function _P(s){const t=s.attempt(this.parser.constructs.contentInitial,n,r);let e;return t;function n(c){if(c===null){s.consume(c);return}return s.enter("lineEnding"),s.consume(c),s.exit("lineEnding"),Te(s,t,"linePrefix")}function r(c){return s.enter("paragraph"),l(c)}function l(c){const f=s.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=f),e=f,u(c)}function u(c){if(c===null){s.exit("chunkText"),s.exit("paragraph"),s.consume(c);return}return Lt(c)?(s.consume(c),s.exit("chunkText"),l):(s.consume(c),u)}}const CP={tokenize:TP},OC={tokenize:DP};function TP(s){const t=this,e=[];let n=0,r,l,u;return c;function c(N){if(n<e.length){const z=e[n];return t.containerState=z[1],s.attempt(z[0].continuation,f,p)(N)}return p(N)}function f(N){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&O();const z=t.events.length;let P=z,L;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){L=t.events[P][1].end;break}C(n);let j=z;for(;j<t.events.length;)t.events[j][1].end={...L},j++;return wa(t.events,P+1,0,t.events.slice(z)),t.events.length=j,p(N)}return c(N)}function p(N){if(n===e.length){if(!r)return b(N);if(r.currentConstruct&&r.currentConstruct.concrete)return x(N);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},s.check(OC,g,y)(N)}function g(N){return r&&O(),C(n),b(N)}function y(N){return t.parser.lazy[t.now().line]=n!==e.length,u=t.now().offset,x(N)}function b(N){return t.containerState={},s.attempt(OC,A,x)(N)}function A(N){return n++,e.push([t.currentConstruct,t.containerState]),b(N)}function x(N){if(N===null){r&&O(),C(0),s.consume(N);return}return r=r||t.parser.flow(t.now()),s.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:l}),S(N)}function S(N){if(N===null){k(s.exit("chunkFlow"),!0),C(0),s.consume(N);return}return Lt(N)?(s.consume(N),k(s.exit("chunkFlow")),n=0,t.interrupt=void 0,c):(s.consume(N),S)}function k(N,z){const P=t.sliceStream(N);if(z&&P.push(null),N.previous=l,l&&(l.next=N),l=N,r.defineSkip(N.start),r.write(P),t.parser.lazy[N.start.line]){let L=r.events.length;for(;L--;)if(r.events[L][1].start.offset<u&&(!r.events[L][1].end||r.events[L][1].end.offset>u))return;const j=t.events.length;let W=j,Q,it;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(Q){it=t.events[W][1].end;break}Q=!0}for(C(n),L=j;L<t.events.length;)t.events[L][1].end={...it},L++;wa(t.events,W+1,0,t.events.slice(j)),t.events.length=L}}function C(N){let z=e.length;for(;z-- >N;){const P=e[z];t.containerState=P[1],P[0].exit.call(t,s)}e.length=N}function O(){r.write([null]),l=void 0,r=void 0,t.containerState._closeFlow=void 0}}function DP(s,t,e){return Te(s,s.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function LC(s){if(s===null||_i(s)||xP(s))return 1;if(wP(s))return 2}function Pw(s,t,e){const n=[];let r=-1;for(;++r<s.length;){const l=s[r].resolveAll;l&&!n.includes(l)&&(t=l(t,e),n.push(l))}return t}const YA={name:"attention",resolveAll:kP,tokenize:RP};function kP(s,t){let e=-1,n,r,l,u,c,f,p,g;for(;++e<s.length;)if(s[e][0]==="enter"&&s[e][1].type==="attentionSequence"&&s[e][1]._close){for(n=e;n--;)if(s[n][0]==="exit"&&s[n][1].type==="attentionSequence"&&s[n][1]._open&&t.sliceSerialize(s[n][1]).charCodeAt(0)===t.sliceSerialize(s[e][1]).charCodeAt(0)){if((s[n][1]._close||s[e][1]._open)&&(s[e][1].end.offset-s[e][1].start.offset)%3&&!((s[n][1].end.offset-s[n][1].start.offset+s[e][1].end.offset-s[e][1].start.offset)%3))continue;f=s[n][1].end.offset-s[n][1].start.offset>1&&s[e][1].end.offset-s[e][1].start.offset>1?2:1;const y={...s[n][1].end},b={...s[e][1].start};PC(y,-f),PC(b,f),u={type:f>1?"strongSequence":"emphasisSequence",start:y,end:{...s[n][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...s[e][1].start},end:b},l={type:f>1?"strongText":"emphasisText",start:{...s[n][1].end},end:{...s[e][1].start}},r={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},s[n][1].end={...u.start},s[e][1].start={...c.end},p=[],s[n][1].end.offset-s[n][1].start.offset&&(p=As(p,[["enter",s[n][1],t],["exit",s[n][1],t]])),p=As(p,[["enter",r,t],["enter",u,t],["exit",u,t],["enter",l,t]]),p=As(p,Pw(t.parser.constructs.insideSpan.null,s.slice(n+1,e),t)),p=As(p,[["exit",l,t],["enter",c,t],["exit",c,t],["exit",r,t]]),s[e][1].end.offset-s[e][1].start.offset?(g=2,p=As(p,[["enter",s[e][1],t],["exit",s[e][1],t]])):g=0,wa(s,n-1,e-n+3,p),e=n+p.length-g-2;break}}for(e=-1;++e<s.length;)s[e][1].type==="attentionSequence"&&(s[e][1].type="data");return s}function RP(s,t){const e=this.parser.constructs.attentionMarkers.null,n=this.previous,r=LC(n);let l;return u;function u(f){return l=f,s.enter("attentionSequence"),c(f)}function c(f){if(f===l)return s.consume(f),c;const p=s.exit("attentionSequence"),g=LC(f),y=!g||g===2&&r||e.includes(f),b=!r||r===2&&g||e.includes(n);return p._open=!!(l===42?y:y&&(r||!b)),p._close=!!(l===42?b:b&&(g||!y)),t(f)}}function PC(s,t){s.column+=t,s.offset+=t,s._bufferIndex+=t}const MP={name:"autolink",tokenize:NP};function NP(s,t,e){let n=0;return r;function r(A){return s.enter("autolink"),s.enter("autolinkMarker"),s.consume(A),s.exit("autolinkMarker"),s.enter("autolinkProtocol"),l}function l(A){return Aa(A)?(s.consume(A),u):A===64?e(A):p(A)}function u(A){return A===43||A===45||A===46||ts(A)?(n=1,c(A)):p(A)}function c(A){return A===58?(s.consume(A),n=0,f):(A===43||A===45||A===46||ts(A))&&n++<32?(s.consume(A),c):(n=0,p(A))}function f(A){return A===62?(s.exit("autolinkProtocol"),s.enter("autolinkMarker"),s.consume(A),s.exit("autolinkMarker"),s.exit("autolink"),t):A===null||A===32||A===60||VA(A)?e(A):(s.consume(A),f)}function p(A){return A===64?(s.consume(A),g):vP(A)?(s.consume(A),p):e(A)}function g(A){return ts(A)?y(A):e(A)}function y(A){return A===46?(s.consume(A),n=0,g):A===62?(s.exit("autolinkProtocol").type="autolinkEmail",s.enter("autolinkMarker"),s.consume(A),s.exit("autolinkMarker"),s.exit("autolink"),t):b(A)}function b(A){if((A===45||ts(A))&&n++<63){const x=A===45?b:y;return s.consume(A),x}return e(A)}}const vb={partial:!0,tokenize:OP};function OP(s,t,e){return n;function n(l){return le(l)?Te(s,r,"linePrefix")(l):r(l)}function r(l){return l===null||Lt(l)?t(l):e(l)}}const DD={continuation:{tokenize:PP},exit:zP,name:"blockQuote",tokenize:LP};function LP(s,t,e){const n=this;return r;function r(u){if(u===62){const c=n.containerState;return c.open||(s.enter("blockQuote",{_container:!0}),c.open=!0),s.enter("blockQuotePrefix"),s.enter("blockQuoteMarker"),s.consume(u),s.exit("blockQuoteMarker"),l}return e(u)}function l(u){return le(u)?(s.enter("blockQuotePrefixWhitespace"),s.consume(u),s.exit("blockQuotePrefixWhitespace"),s.exit("blockQuotePrefix"),t):(s.exit("blockQuotePrefix"),t(u))}}function PP(s,t,e){const n=this;return r;function r(u){return le(u)?Te(s,l,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return s.attempt(DD,t,e)(u)}}function zP(s){s.exit("blockQuote")}const kD={name:"characterEscape",tokenize:IP};function IP(s,t,e){return n;function n(l){return s.enter("characterEscape"),s.enter("escapeMarker"),s.consume(l),s.exit("escapeMarker"),r}function r(l){return SP(l)?(s.enter("characterEscapeValue"),s.consume(l),s.exit("characterEscapeValue"),s.exit("characterEscape"),t):e(l)}}const RD={name:"characterReference",tokenize:FP};function FP(s,t,e){const n=this;let r=0,l,u;return c;function c(y){return s.enter("characterReference"),s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),f}function f(y){return y===35?(s.enter("characterReferenceMarkerNumeric"),s.consume(y),s.exit("characterReferenceMarkerNumeric"),p):(s.enter("characterReferenceValue"),l=31,u=ts,g(y))}function p(y){return y===88||y===120?(s.enter("characterReferenceMarkerHexadecimal"),s.consume(y),s.exit("characterReferenceMarkerHexadecimal"),s.enter("characterReferenceValue"),l=6,u=AP,g):(s.enter("characterReferenceValue"),l=7,u=qA,g(y))}function g(y){if(y===59&&r){const b=s.exit("characterReferenceValue");return u===ts&&!Lw(n.sliceSerialize(b))?e(y):(s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),s.exit("characterReference"),t)}return u(y)&&r++<l?(s.consume(y),g):e(y)}}const zC={partial:!0,tokenize:jP},IC={concrete:!0,name:"codeFenced",tokenize:BP};function BP(s,t,e){const n=this,r={partial:!0,tokenize:P};let l=0,u=0,c;return f;function f(L){return p(L)}function p(L){const j=n.events[n.events.length-1];return l=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,c=L,s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),g(L)}function g(L){return L===c?(u++,s.consume(L),g):u<3?e(L):(s.exit("codeFencedFenceSequence"),le(L)?Te(s,y,"whitespace")(L):y(L))}function y(L){return L===null||Lt(L)?(s.exit("codeFencedFence"),n.interrupt?t(L):s.check(zC,S,z)(L)):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),b(L))}function b(L){return L===null||Lt(L)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),y(L)):le(L)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),Te(s,A,"whitespace")(L)):L===96&&L===c?e(L):(s.consume(L),b)}function A(L){return L===null||Lt(L)?y(L):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),x(L))}function x(L){return L===null||Lt(L)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),y(L)):L===96&&L===c?e(L):(s.consume(L),x)}function S(L){return s.attempt(r,z,k)(L)}function k(L){return s.enter("lineEnding"),s.consume(L),s.exit("lineEnding"),C}function C(L){return l>0&&le(L)?Te(s,O,"linePrefix",l+1)(L):O(L)}function O(L){return L===null||Lt(L)?s.check(zC,S,z)(L):(s.enter("codeFlowValue"),N(L))}function N(L){return L===null||Lt(L)?(s.exit("codeFlowValue"),O(L)):(s.consume(L),N)}function z(L){return s.exit("codeFenced"),t(L)}function P(L,j,W){let Q=0;return it;function it(ht){return L.enter("lineEnding"),L.consume(ht),L.exit("lineEnding"),X}function X(ht){return L.enter("codeFencedFence"),le(ht)?Te(L,Z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ht):Z(ht)}function Z(ht){return ht===c?(L.enter("codeFencedFenceSequence"),ct(ht)):W(ht)}function ct(ht){return ht===c?(Q++,L.consume(ht),ct):Q>=u?(L.exit("codeFencedFenceSequence"),le(ht)?Te(L,J,"whitespace")(ht):J(ht)):W(ht)}function J(ht){return ht===null||Lt(ht)?(L.exit("codeFencedFence"),j(ht)):W(ht)}}}function jP(s,t,e){const n=this;return r;function r(u){return u===null?e(u):(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),l)}function l(u){return n.parser.lazy[n.now().line]?e(u):t(u)}}const sA={name:"codeIndented",tokenize:UP},HP={partial:!0,tokenize:GP};function UP(s,t,e){const n=this;return r;function r(p){return s.enter("codeIndented"),Te(s,l,"linePrefix",5)(p)}function l(p){const g=n.events[n.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(p):e(p)}function u(p){return p===null?f(p):Lt(p)?s.attempt(HP,u,f)(p):(s.enter("codeFlowValue"),c(p))}function c(p){return p===null||Lt(p)?(s.exit("codeFlowValue"),u(p)):(s.consume(p),c)}function f(p){return s.exit("codeIndented"),t(p)}}function GP(s,t,e){const n=this;return r;function r(u){return n.parser.lazy[n.now().line]?e(u):Lt(u)?(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),r):Te(s,l,"linePrefix",5)(u)}function l(u){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(u):Lt(u)?r(u):e(u)}}const VP={name:"codeText",previous:YP,resolve:qP,tokenize:XP};function qP(s){let t=s.length-4,e=3,n,r;if((s[e][1].type==="lineEnding"||s[e][1].type==="space")&&(s[t][1].type==="lineEnding"||s[t][1].type==="space")){for(n=e;++n<t;)if(s[n][1].type==="codeTextData"){s[e][1].type="codeTextPadding",s[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(n=e-1,t++;++n<=t;)r===void 0?n!==t&&s[n][1].type!=="lineEnding"&&(r=n):(n===t||s[n][1].type==="lineEnding")&&(s[r][1].type="codeTextData",n!==r+2&&(s[r][1].end=s[n-1][1].end,s.splice(r+2,n-r-2),t-=n-r-2,n=r+2),r=void 0);return s}function YP(s){return s!==96||this.events[this.events.length-1][1].type==="characterEscape"}function XP(s,t,e){let n=0,r,l;return u;function u(y){return s.enter("codeText"),s.enter("codeTextSequence"),c(y)}function c(y){return y===96?(s.consume(y),n++,c):(s.exit("codeTextSequence"),f(y))}function f(y){return y===null?e(y):y===32?(s.enter("space"),s.consume(y),s.exit("space"),f):y===96?(l=s.enter("codeTextSequence"),r=0,g(y)):Lt(y)?(s.enter("lineEnding"),s.consume(y),s.exit("lineEnding"),f):(s.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||Lt(y)?(s.exit("codeTextData"),f(y)):(s.consume(y),p)}function g(y){return y===96?(s.consume(y),r++,g):r===n?(s.exit("codeTextSequence"),s.exit("codeText"),t(y)):(l.type="codeTextData",p(y))}}class $P{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const n=e??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,e,n){const r=e||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&sf(this.left,n),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);sf(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sf(this.left,e.reverse())}}}function sf(s,t){let e=0;if(t.length<1e4)s.push(...t);else for(;e<t.length;)s.push(...t.slice(e,e+1e4)),e+=1e4}function MD(s){const t={};let e=-1,n,r,l,u,c,f,p;const g=new $P(s);for(;++e<g.length;){for(;e in t;)e=t[e];if(n=g.get(e),e&&n[1].type==="chunkFlow"&&g.get(e-1)[1].type==="listItemPrefix"&&(f=n[1]._tokenizer.events,l=0,l<f.length&&f[l][1].type==="lineEndingBlank"&&(l+=2),l<f.length&&f[l][1].type==="content"))for(;++l<f.length&&f[l][1].type!=="content";)f[l][1].type==="chunkText"&&(f[l][1]._isInFirstContentOfListItem=!0,l++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,WP(g,e)),e=t[e],p=!0);else if(n[1]._container){for(l=e,r=void 0;l--;)if(u=g.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),u[1].type="lineEnding",r=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;r&&(n[1].end={...g.get(r)[1].start},c=g.slice(r,e),c.unshift(n),g.splice(r,e-r+1,c))}}return wa(s,0,Number.POSITIVE_INFINITY,g.slice(0)),!p}function WP(s,t){const e=s.get(t)[1],n=s.get(t)[2];let r=t-1;const l=[];let u=e._tokenizer;u||(u=n.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],p={};let g,y,b=-1,A=e,x=0,S=0;const k=[S];for(;A;){for(;s.get(++r)[1]!==A;);l.push(r),A._tokenizer||(g=n.sliceStream(A),A.next||g.push(null),y&&u.defineSkip(A.start),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=A,A=A.next}for(A=e;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(S=b+1,k.push(S),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(u.events=[],A?(A._tokenizer=void 0,A.previous=void 0):k.pop(),b=k.length;b--;){const C=c.slice(k[b],k[b+1]),O=l.pop();f.push([O,O+C.length-1]),s.splice(O,2,C)}for(f.reverse(),b=-1;++b<f.length;)p[x+f[b][0]]=x+f[b][1],x+=f[b][1]-f[b][0]-1;return p}const KP={resolve:ZP,tokenize:JP},QP={partial:!0,tokenize:tz};function ZP(s){return MD(s),s}function JP(s,t){let e;return n;function n(c){return s.enter("content"),e=s.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?l(c):Lt(c)?s.check(QP,u,l)(c):(s.consume(c),r)}function l(c){return s.exit("chunkContent"),s.exit("content"),t(c)}function u(c){return s.consume(c),s.exit("chunkContent"),e.next=s.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function tz(s,t,e){const n=this;return r;function r(u){return s.exit("chunkContent"),s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),Te(s,l,"linePrefix")}function l(u){if(u===null||Lt(u))return e(u);const c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(u):s.interrupt(n.parser.constructs.flow,e,t)(u)}}function ND(s,t,e,n,r,l,u,c,f){const p=f||Number.POSITIVE_INFINITY;let g=0;return y;function y(C){return C===60?(s.enter(n),s.enter(r),s.enter(l),s.consume(C),s.exit(l),b):C===null||C===32||C===41||VA(C)?e(C):(s.enter(n),s.enter(u),s.enter(c),s.enter("chunkString",{contentType:"string"}),S(C))}function b(C){return C===62?(s.enter(l),s.consume(C),s.exit(l),s.exit(r),s.exit(n),t):(s.enter(c),s.enter("chunkString",{contentType:"string"}),A(C))}function A(C){return C===62?(s.exit("chunkString"),s.exit(c),b(C)):C===null||C===60||Lt(C)?e(C):(s.consume(C),C===92?x:A)}function x(C){return C===60||C===62||C===92?(s.consume(C),A):A(C)}function S(C){return!g&&(C===null||C===41||_i(C))?(s.exit("chunkString"),s.exit(c),s.exit(u),s.exit(n),t(C)):g<p&&C===40?(s.consume(C),g++,S):C===41?(s.consume(C),g--,S):C===null||C===32||C===40||VA(C)?e(C):(s.consume(C),C===92?k:S)}function k(C){return C===40||C===41||C===92?(s.consume(C),S):S(C)}}function OD(s,t,e,n,r,l){const u=this;let c=0,f;return p;function p(A){return s.enter(n),s.enter(r),s.consume(A),s.exit(r),s.enter(l),g}function g(A){return c>999||A===null||A===91||A===93&&!f||A===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?e(A):A===93?(s.exit(l),s.enter(r),s.consume(A),s.exit(r),s.exit(n),t):Lt(A)?(s.enter("lineEnding"),s.consume(A),s.exit("lineEnding"),g):(s.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||A===91||A===93||Lt(A)||c++>999?(s.exit("chunkString"),g(A)):(s.consume(A),f||(f=!le(A)),A===92?b:y)}function b(A){return A===91||A===92||A===93?(s.consume(A),c++,y):y(A)}}function LD(s,t,e,n,r,l){let u;return c;function c(b){return b===34||b===39||b===40?(s.enter(n),s.enter(r),s.consume(b),s.exit(r),u=b===40?41:b,f):e(b)}function f(b){return b===u?(s.enter(r),s.consume(b),s.exit(r),s.exit(n),t):(s.enter(l),p(b))}function p(b){return b===u?(s.exit(l),f(u)):b===null?e(b):Lt(b)?(s.enter("lineEnding"),s.consume(b),s.exit("lineEnding"),Te(s,p,"linePrefix")):(s.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===u||b===null||Lt(b)?(s.exit("chunkString"),p(b)):(s.consume(b),b===92?y:g)}function y(b){return b===u||b===92?(s.consume(b),g):g(b)}}function Nf(s,t){let e;return n;function n(r){return Lt(r)?(s.enter("lineEnding"),s.consume(r),s.exit("lineEnding"),e=!0,n):le(r)?Te(s,n,e?"linePrefix":"lineSuffix")(r):t(r)}}const ez={name:"definition",tokenize:iz},nz={partial:!0,tokenize:sz};function iz(s,t,e){const n=this;let r;return l;function l(A){return s.enter("definition"),u(A)}function u(A){return OD.call(n,s,c,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function c(A){return r=Ic(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),A===58?(s.enter("definitionMarker"),s.consume(A),s.exit("definitionMarker"),f):e(A)}function f(A){return _i(A)?Nf(s,p)(A):p(A)}function p(A){return ND(s,g,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function g(A){return s.attempt(nz,y,y)(A)}function y(A){return le(A)?Te(s,b,"whitespace")(A):b(A)}function b(A){return A===null||Lt(A)?(s.exit("definition"),n.parser.defined.push(r),t(A)):e(A)}}function sz(s,t,e){return n;function n(c){return _i(c)?Nf(s,r)(c):e(c)}function r(c){return LD(s,l,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function l(c){return le(c)?Te(s,u,"whitespace")(c):u(c)}function u(c){return c===null||Lt(c)?t(c):e(c)}}const az={name:"hardBreakEscape",tokenize:rz};function rz(s,t,e){return n;function n(l){return s.enter("hardBreakEscape"),s.consume(l),r}function r(l){return Lt(l)?(s.exit("hardBreakEscape"),t(l)):e(l)}}const lz={name:"headingAtx",resolve:oz,tokenize:uz};function oz(s,t){let e=s.length-2,n=3,r,l;return s[n][1].type==="whitespace"&&(n+=2),e-2>n&&s[e][1].type==="whitespace"&&(e-=2),s[e][1].type==="atxHeadingSequence"&&(n===e-1||e-4>n&&s[e-2][1].type==="whitespace")&&(e-=n+1===e?2:4),e>n&&(r={type:"atxHeadingText",start:s[n][1].start,end:s[e][1].end},l={type:"chunkText",start:s[n][1].start,end:s[e][1].end,contentType:"text"},wa(s,n,e-n+1,[["enter",r,t],["enter",l,t],["exit",l,t],["exit",r,t]])),s}function uz(s,t,e){let n=0;return r;function r(g){return s.enter("atxHeading"),l(g)}function l(g){return s.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&n++<6?(s.consume(g),u):g===null||_i(g)?(s.exit("atxHeadingSequence"),c(g)):e(g)}function c(g){return g===35?(s.enter("atxHeadingSequence"),f(g)):g===null||Lt(g)?(s.exit("atxHeading"),t(g)):le(g)?Te(s,c,"whitespace")(g):(s.enter("atxHeadingText"),p(g))}function f(g){return g===35?(s.consume(g),f):(s.exit("atxHeadingSequence"),c(g))}function p(g){return g===null||g===35||_i(g)?(s.exit("atxHeadingText"),c(g)):(s.consume(g),p)}}const cz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],FC=["pre","script","style","textarea"],hz={concrete:!0,name:"htmlFlow",resolveTo:pz,tokenize:gz},dz={partial:!0,tokenize:yz},fz={partial:!0,tokenize:mz};function pz(s){let t=s.length;for(;t--&&!(s[t][0]==="enter"&&s[t][1].type==="htmlFlow"););return t>1&&s[t-2][1].type==="linePrefix"&&(s[t][1].start=s[t-2][1].start,s[t+1][1].start=s[t-2][1].start,s.splice(t-2,2)),s}function gz(s,t,e){const n=this;let r,l,u,c,f;return p;function p(R){return g(R)}function g(R){return s.enter("htmlFlow"),s.enter("htmlFlowData"),s.consume(R),y}function y(R){return R===33?(s.consume(R),b):R===47?(s.consume(R),l=!0,S):R===63?(s.consume(R),r=3,n.interrupt?t:_):Aa(R)?(s.consume(R),u=String.fromCharCode(R),k):e(R)}function b(R){return R===45?(s.consume(R),r=2,A):R===91?(s.consume(R),r=5,c=0,x):Aa(R)?(s.consume(R),r=4,n.interrupt?t:_):e(R)}function A(R){return R===45?(s.consume(R),n.interrupt?t:_):e(R)}function x(R){const st="CDATA[";return R===st.charCodeAt(c++)?(s.consume(R),c===st.length?n.interrupt?t:Z:x):e(R)}function S(R){return Aa(R)?(s.consume(R),u=String.fromCharCode(R),k):e(R)}function k(R){if(R===null||R===47||R===62||_i(R)){const st=R===47,ft=u.toLowerCase();return!st&&!l&&FC.includes(ft)?(r=1,n.interrupt?t(R):Z(R)):cz.includes(u.toLowerCase())?(r=6,st?(s.consume(R),C):n.interrupt?t(R):Z(R)):(r=7,n.interrupt&&!n.parser.lazy[n.now().line]?e(R):l?O(R):N(R))}return R===45||ts(R)?(s.consume(R),u+=String.fromCharCode(R),k):e(R)}function C(R){return R===62?(s.consume(R),n.interrupt?t:Z):e(R)}function O(R){return le(R)?(s.consume(R),O):it(R)}function N(R){return R===47?(s.consume(R),it):R===58||R===95||Aa(R)?(s.consume(R),z):le(R)?(s.consume(R),N):it(R)}function z(R){return R===45||R===46||R===58||R===95||ts(R)?(s.consume(R),z):P(R)}function P(R){return R===61?(s.consume(R),L):le(R)?(s.consume(R),P):N(R)}function L(R){return R===null||R===60||R===61||R===62||R===96?e(R):R===34||R===39?(s.consume(R),f=R,j):le(R)?(s.consume(R),L):W(R)}function j(R){return R===f?(s.consume(R),f=null,Q):R===null||Lt(R)?e(R):(s.consume(R),j)}function W(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||_i(R)?P(R):(s.consume(R),W)}function Q(R){return R===47||R===62||le(R)?N(R):e(R)}function it(R){return R===62?(s.consume(R),X):e(R)}function X(R){return R===null||Lt(R)?Z(R):le(R)?(s.consume(R),X):e(R)}function Z(R){return R===45&&r===2?(s.consume(R),B):R===60&&r===1?(s.consume(R),q):R===62&&r===4?(s.consume(R),K):R===63&&r===3?(s.consume(R),_):R===93&&r===5?(s.consume(R),xt):Lt(R)&&(r===6||r===7)?(s.exit("htmlFlowData"),s.check(dz,ot,ct)(R)):R===null||Lt(R)?(s.exit("htmlFlowData"),ct(R)):(s.consume(R),Z)}function ct(R){return s.check(fz,J,ot)(R)}function J(R){return s.enter("lineEnding"),s.consume(R),s.exit("lineEnding"),ht}function ht(R){return R===null||Lt(R)?ct(R):(s.enter("htmlFlowData"),Z(R))}function B(R){return R===45?(s.consume(R),_):Z(R)}function q(R){return R===47?(s.consume(R),u="",yt):Z(R)}function yt(R){if(R===62){const st=u.toLowerCase();return FC.includes(st)?(s.consume(R),K):Z(R)}return Aa(R)&&u.length<8?(s.consume(R),u+=String.fromCharCode(R),yt):Z(R)}function xt(R){return R===93?(s.consume(R),_):Z(R)}function _(R){return R===62?(s.consume(R),K):R===45&&r===2?(s.consume(R),_):Z(R)}function K(R){return R===null||Lt(R)?(s.exit("htmlFlowData"),ot(R)):(s.consume(R),K)}function ot(R){return s.exit("htmlFlow"),t(R)}}function mz(s,t,e){const n=this;return r;function r(u){return Lt(u)?(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),l):e(u)}function l(u){return n.parser.lazy[n.now().line]?e(u):t(u)}}function yz(s,t,e){return n;function n(r){return s.enter("lineEnding"),s.consume(r),s.exit("lineEnding"),s.attempt(vb,t,e)}}const bz={name:"htmlText",tokenize:vz};function vz(s,t,e){const n=this;let r,l,u;return c;function c(_){return s.enter("htmlText"),s.enter("htmlTextData"),s.consume(_),f}function f(_){return _===33?(s.consume(_),p):_===47?(s.consume(_),P):_===63?(s.consume(_),N):Aa(_)?(s.consume(_),W):e(_)}function p(_){return _===45?(s.consume(_),g):_===91?(s.consume(_),l=0,x):Aa(_)?(s.consume(_),O):e(_)}function g(_){return _===45?(s.consume(_),A):e(_)}function y(_){return _===null?e(_):_===45?(s.consume(_),b):Lt(_)?(u=y,q(_)):(s.consume(_),y)}function b(_){return _===45?(s.consume(_),A):y(_)}function A(_){return _===62?B(_):_===45?b(_):y(_)}function x(_){const K="CDATA[";return _===K.charCodeAt(l++)?(s.consume(_),l===K.length?S:x):e(_)}function S(_){return _===null?e(_):_===93?(s.consume(_),k):Lt(_)?(u=S,q(_)):(s.consume(_),S)}function k(_){return _===93?(s.consume(_),C):S(_)}function C(_){return _===62?B(_):_===93?(s.consume(_),C):S(_)}function O(_){return _===null||_===62?B(_):Lt(_)?(u=O,q(_)):(s.consume(_),O)}function N(_){return _===null?e(_):_===63?(s.consume(_),z):Lt(_)?(u=N,q(_)):(s.consume(_),N)}function z(_){return _===62?B(_):N(_)}function P(_){return Aa(_)?(s.consume(_),L):e(_)}function L(_){return _===45||ts(_)?(s.consume(_),L):j(_)}function j(_){return Lt(_)?(u=j,q(_)):le(_)?(s.consume(_),j):B(_)}function W(_){return _===45||ts(_)?(s.consume(_),W):_===47||_===62||_i(_)?Q(_):e(_)}function Q(_){return _===47?(s.consume(_),B):_===58||_===95||Aa(_)?(s.consume(_),it):Lt(_)?(u=Q,q(_)):le(_)?(s.consume(_),Q):B(_)}function it(_){return _===45||_===46||_===58||_===95||ts(_)?(s.consume(_),it):X(_)}function X(_){return _===61?(s.consume(_),Z):Lt(_)?(u=X,q(_)):le(_)?(s.consume(_),X):Q(_)}function Z(_){return _===null||_===60||_===61||_===62||_===96?e(_):_===34||_===39?(s.consume(_),r=_,ct):Lt(_)?(u=Z,q(_)):le(_)?(s.consume(_),Z):(s.consume(_),J)}function ct(_){return _===r?(s.consume(_),r=void 0,ht):_===null?e(_):Lt(_)?(u=ct,q(_)):(s.consume(_),ct)}function J(_){return _===null||_===34||_===39||_===60||_===61||_===96?e(_):_===47||_===62||_i(_)?Q(_):(s.consume(_),J)}function ht(_){return _===47||_===62||_i(_)?Q(_):e(_)}function B(_){return _===62?(s.consume(_),s.exit("htmlTextData"),s.exit("htmlText"),t):e(_)}function q(_){return s.exit("htmlTextData"),s.enter("lineEnding"),s.consume(_),s.exit("lineEnding"),yt}function yt(_){return le(_)?Te(s,xt,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):xt(_)}function xt(_){return s.enter("htmlTextData"),u(_)}}const zw={name:"labelEnd",resolveAll:xz,resolveTo:Ez,tokenize:_z},Az={tokenize:Cz},Sz={tokenize:Tz},wz={tokenize:Dz};function xz(s){let t=-1;const e=[];for(;++t<s.length;){const n=s[t][1];if(e.push(s[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const r=n.type==="labelImage"?4:2;n.type="data",t+=r}}return s.length!==e.length&&wa(s,0,s.length,e),s}function Ez(s,t){let e=s.length,n=0,r,l,u,c;for(;e--;)if(r=s[e][1],l){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;s[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(u){if(s[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(l=e,r.type!=="labelLink")){n=2;break}}else r.type==="labelEnd"&&(u=e);const f={type:s[l][1].type==="labelLink"?"link":"image",start:{...s[l][1].start},end:{...s[s.length-1][1].end}},p={type:"label",start:{...s[l][1].start},end:{...s[u][1].end}},g={type:"labelText",start:{...s[l+n+2][1].end},end:{...s[u-2][1].start}};return c=[["enter",f,t],["enter",p,t]],c=As(c,s.slice(l+1,l+n+3)),c=As(c,[["enter",g,t]]),c=As(c,Pw(t.parser.constructs.insideSpan.null,s.slice(l+n+4,u-3),t)),c=As(c,[["exit",g,t],s[u-2],s[u-1],["exit",p,t]]),c=As(c,s.slice(u+1)),c=As(c,[["exit",f,t]]),wa(s,l,s.length,c),s}function _z(s,t,e){const n=this;let r=n.events.length,l,u;for(;r--;)if((n.events[r][1].type==="labelImage"||n.events[r][1].type==="labelLink")&&!n.events[r][1]._balanced){l=n.events[r][1];break}return c;function c(b){return l?l._inactive?y(b):(u=n.parser.defined.includes(Ic(n.sliceSerialize({start:l.end,end:n.now()}))),s.enter("labelEnd"),s.enter("labelMarker"),s.consume(b),s.exit("labelMarker"),s.exit("labelEnd"),f):e(b)}function f(b){return b===40?s.attempt(Az,g,u?g:y)(b):b===91?s.attempt(Sz,g,u?p:y)(b):u?g(b):y(b)}function p(b){return s.attempt(wz,g,y)(b)}function g(b){return t(b)}function y(b){return l._balanced=!0,e(b)}}function Cz(s,t,e){return n;function n(y){return s.enter("resource"),s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),r}function r(y){return _i(y)?Nf(s,l)(y):l(y)}function l(y){return y===41?g(y):ND(s,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return _i(y)?Nf(s,f)(y):g(y)}function c(y){return e(y)}function f(y){return y===34||y===39||y===40?LD(s,p,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function p(y){return _i(y)?Nf(s,g)(y):g(y)}function g(y){return y===41?(s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),s.exit("resource"),t):e(y)}}function Tz(s,t,e){const n=this;return r;function r(c){return OD.call(n,s,l,u,"reference","referenceMarker","referenceString")(c)}function l(c){return n.parser.defined.includes(Ic(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(c):e(c)}function u(c){return e(c)}}function Dz(s,t,e){return n;function n(l){return s.enter("reference"),s.enter("referenceMarker"),s.consume(l),s.exit("referenceMarker"),r}function r(l){return l===93?(s.enter("referenceMarker"),s.consume(l),s.exit("referenceMarker"),s.exit("reference"),t):e(l)}}const kz={name:"labelStartImage",resolveAll:zw.resolveAll,tokenize:Rz};function Rz(s,t,e){const n=this;return r;function r(c){return s.enter("labelImage"),s.enter("labelImageMarker"),s.consume(c),s.exit("labelImageMarker"),l}function l(c){return c===91?(s.enter("labelMarker"),s.consume(c),s.exit("labelMarker"),s.exit("labelImage"),u):e(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?e(c):t(c)}}const Mz={name:"labelStartLink",resolveAll:zw.resolveAll,tokenize:Nz};function Nz(s,t,e){const n=this;return r;function r(u){return s.enter("labelLink"),s.enter("labelMarker"),s.consume(u),s.exit("labelMarker"),s.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?e(u):t(u)}}const aA={name:"lineEnding",tokenize:Oz};function Oz(s,t){return e;function e(n){return s.enter("lineEnding"),s.consume(n),s.exit("lineEnding"),Te(s,t,"linePrefix")}}const Jm={name:"thematicBreak",tokenize:Lz};function Lz(s,t,e){let n=0,r;return l;function l(p){return s.enter("thematicBreak"),u(p)}function u(p){return r=p,c(p)}function c(p){return p===r?(s.enter("thematicBreakSequence"),f(p)):n>=3&&(p===null||Lt(p))?(s.exit("thematicBreak"),t(p)):e(p)}function f(p){return p===r?(s.consume(p),n++,f):(s.exit("thematicBreakSequence"),le(p)?Te(s,c,"whitespace")(p):c(p))}}const bi={continuation:{tokenize:Fz},exit:jz,name:"list",tokenize:Iz},Pz={partial:!0,tokenize:Hz},zz={partial:!0,tokenize:Bz};function Iz(s,t,e){const n=this,r=n.events[n.events.length-1];let l=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,u=0;return c;function c(A){const x=n.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!n.containerState.marker||A===n.containerState.marker:qA(A)){if(n.containerState.type||(n.containerState.type=x,s.enter(x,{_container:!0})),x==="listUnordered")return s.enter("listItemPrefix"),A===42||A===45?s.check(Jm,e,p)(A):p(A);if(!n.interrupt||A===49)return s.enter("listItemPrefix"),s.enter("listItemValue"),f(A)}return e(A)}function f(A){return qA(A)&&++u<10?(s.consume(A),f):(!n.interrupt||u<2)&&(n.containerState.marker?A===n.containerState.marker:A===41||A===46)?(s.exit("listItemValue"),p(A)):e(A)}function p(A){return s.enter("listItemMarker"),s.consume(A),s.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||A,s.check(vb,n.interrupt?e:g,s.attempt(Pz,b,y))}function g(A){return n.containerState.initialBlankLine=!0,l++,b(A)}function y(A){return le(A)?(s.enter("listItemPrefixWhitespace"),s.consume(A),s.exit("listItemPrefixWhitespace"),b):e(A)}function b(A){return n.containerState.size=l+n.sliceSerialize(s.exit("listItemPrefix"),!0).length,t(A)}}function Fz(s,t,e){const n=this;return n.containerState._closeFlow=void 0,s.check(vb,r,l);function r(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Te(s,t,"listItemIndent",n.containerState.size+1)(c)}function l(c){return n.containerState.furtherBlankLines||!le(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,u(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s.attempt(zz,t,u)(c))}function u(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,Te(s,s.attempt(bi,t,e),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Bz(s,t,e){const n=this;return Te(s,r,"listItemIndent",n.containerState.size+1);function r(l){const u=n.events[n.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===n.containerState.size?t(l):e(l)}}function jz(s){s.exit(this.containerState.type)}function Hz(s,t,e){const n=this;return Te(s,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(l){const u=n.events[n.events.length-1];return!le(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):e(l)}}const BC={name:"setextUnderline",resolveTo:Uz,tokenize:Gz};function Uz(s,t){let e=s.length,n,r,l;for(;e--;)if(s[e][0]==="enter"){if(s[e][1].type==="content"){n=e;break}s[e][1].type==="paragraph"&&(r=e)}else s[e][1].type==="content"&&s.splice(e,1),!l&&s[e][1].type==="definition"&&(l=e);const u={type:"setextHeading",start:{...s[n][1].start},end:{...s[s.length-1][1].end}};return s[r][1].type="setextHeadingText",l?(s.splice(r,0,["enter",u,t]),s.splice(l+1,0,["exit",s[n][1],t]),s[n][1].end={...s[l][1].end}):s[n][1]=u,s.push(["exit",u,t]),s}function Gz(s,t,e){const n=this;let r;return l;function l(p){let g=n.events.length,y;for(;g--;)if(n.events[g][1].type!=="lineEnding"&&n.events[g][1].type!=="linePrefix"&&n.events[g][1].type!=="content"){y=n.events[g][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||y)?(s.enter("setextHeadingLine"),r=p,u(p)):e(p)}function u(p){return s.enter("setextHeadingLineSequence"),c(p)}function c(p){return p===r?(s.consume(p),c):(s.exit("setextHeadingLineSequence"),le(p)?Te(s,f,"lineSuffix")(p):f(p))}function f(p){return p===null||Lt(p)?(s.exit("setextHeadingLine"),t(p)):e(p)}}const Vz={tokenize:qz};function qz(s){const t=this,e=s.attempt(vb,n,s.attempt(this.parser.constructs.flowInitial,r,Te(s,s.attempt(this.parser.constructs.flow,r,s.attempt(KP,r)),"linePrefix")));return e;function n(l){if(l===null){s.consume(l);return}return s.enter("lineEndingBlank"),s.consume(l),s.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(l){if(l===null){s.consume(l);return}return s.enter("lineEnding"),s.consume(l),s.exit("lineEnding"),t.currentConstruct=void 0,e}}const Yz={resolveAll:zD()},Xz=PD("string"),$z=PD("text");function PD(s){return{resolveAll:zD(s==="text"?Wz:void 0),tokenize:t};function t(e){const n=this,r=this.parser.constructs[s],l=e.attempt(r,u,c);return u;function u(g){return p(g)?l(g):c(g)}function c(g){if(g===null){e.consume(g);return}return e.enter("data"),e.consume(g),f}function f(g){return p(g)?(e.exit("data"),l(g)):(e.consume(g),f)}function p(g){if(g===null)return!0;const y=r[g];let b=-1;if(y)for(;++b<y.length;){const A=y[b];if(!A.previous||A.previous.call(n,n.previous))return!0}return!1}}}function zD(s){return t;function t(e,n){let r=-1,l;for(;++r<=e.length;)l===void 0?e[r]&&e[r][1].type==="data"&&(l=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==l+2&&(e[l][1].end=e[r-1][1].end,e.splice(l+2,r-l-2),r=l+2),l=void 0);return s?s(e,n):e}}function Wz(s,t){let e=0;for(;++e<=s.length;)if((e===s.length||s[e][1].type==="lineEnding")&&s[e-1][1].type==="data"){const n=s[e-1][1],r=t.sliceStream(n);let l=r.length,u=-1,c=0,f;for(;l--;){const p=r[l];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(p===-2)f=!0,c++;else if(p!==-1){l++;break}}if(t._contentTypeTextTrailing&&e===s.length&&(c=0),c){const p={type:e===s.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:n.start._bufferIndex+u,_index:n.start._index+l,line:n.end.line,column:n.end.column-c,offset:n.end.offset-c},end:{...n.end}};n.end={...p.start},n.start.offset===n.end.offset?Object.assign(n,p):(s.splice(e,0,["enter",p,t],["exit",p,t]),e+=2)}e++}return s}const Kz={42:bi,43:bi,45:bi,48:bi,49:bi,50:bi,51:bi,52:bi,53:bi,54:bi,55:bi,56:bi,57:bi,62:DD},Qz={91:ez},Zz={[-2]:sA,[-1]:sA,32:sA},Jz={35:lz,42:Jm,45:[BC,Jm],60:hz,61:BC,95:Jm,96:IC,126:IC},tI={38:RD,92:kD},eI={[-5]:aA,[-4]:aA,[-3]:aA,33:kz,38:RD,42:YA,60:[MP,bz],91:Mz,92:[az,kD],93:zw,95:YA,96:VP},nI={null:[YA,Yz]},iI={null:[42,95]},sI={null:[]},aI=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:iI,contentInitial:Qz,disable:sI,document:Kz,flow:Jz,flowInitial:Zz,insideSpan:nI,string:tI,text:eI},Symbol.toStringTag,{value:"Module"}));function rI(s,t,e){let n={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},l=[];let u=[],c=[];const f={attempt:j(P),check:j(L),consume:O,enter:N,exit:z,interrupt:j(L,{interrupt:!0})},p={code:null,containerState:{},defineSkip:S,events:[],now:x,parser:s,previous:null,sliceSerialize:b,sliceStream:A,write:y};let g=t.tokenize.call(p,f);return t.resolveAll&&l.push(t),p;function y(X){return u=As(u,X),k(),u[u.length-1]!==null?[]:(W(t,0),p.events=Pw(l,p.events,p),p.events)}function b(X,Z){return oI(A(X),Z)}function A(X){return lI(u,X)}function x(){const{_bufferIndex:X,_index:Z,line:ct,column:J,offset:ht}=n;return{_bufferIndex:X,_index:Z,line:ct,column:J,offset:ht}}function S(X){r[X.line]=X.column,it()}function k(){let X;for(;n._index<u.length;){const Z=u[n._index];if(typeof Z=="string")for(X=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===X&&n._bufferIndex<Z.length;)C(Z.charCodeAt(n._bufferIndex));else C(Z)}}function C(X){g=g(X)}function O(X){Lt(X)?(n.line++,n.column=1,n.offset+=X===-3?2:1,it()):X!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===u[n._index].length&&(n._bufferIndex=-1,n._index++)),p.previous=X}function N(X,Z){const ct=Z||{};return ct.type=X,ct.start=x(),p.events.push(["enter",ct,p]),c.push(ct),ct}function z(X){const Z=c.pop();return Z.end=x(),p.events.push(["exit",Z,p]),Z}function P(X,Z){W(X,Z.from)}function L(X,Z){Z.restore()}function j(X,Z){return ct;function ct(J,ht,B){let q,yt,xt,_;return Array.isArray(J)?ot(J):"tokenize"in J?ot([J]):K(J);function K(nt){return ut;function ut(mt){const Tt=mt!==null&&nt[mt],jt=mt!==null&&nt.null,fe=[...Array.isArray(Tt)?Tt:Tt?[Tt]:[],...Array.isArray(jt)?jt:jt?[jt]:[]];return ot(fe)(mt)}}function ot(nt){return q=nt,yt=0,nt.length===0?B:R(nt[yt])}function R(nt){return ut;function ut(mt){return _=Q(),xt=nt,nt.partial||(p.currentConstruct=nt),nt.name&&p.parser.constructs.disable.null.includes(nt.name)?ft():nt.tokenize.call(Z?Object.assign(Object.create(p),Z):p,f,st,ft)(mt)}}function st(nt){return X(xt,_),ht}function ft(nt){return _.restore(),++yt<q.length?R(q[yt]):B}}}function W(X,Z){X.resolveAll&&!l.includes(X)&&l.push(X),X.resolve&&wa(p.events,Z,p.events.length-Z,X.resolve(p.events.slice(Z),p)),X.resolveTo&&(p.events=X.resolveTo(p.events,p))}function Q(){const X=x(),Z=p.previous,ct=p.currentConstruct,J=p.events.length,ht=Array.from(c);return{from:J,restore:B};function B(){n=X,p.previous=Z,p.currentConstruct=ct,p.events.length=J,c=ht,it()}}function it(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function lI(s,t){const e=t.start._index,n=t.start._bufferIndex,r=t.end._index,l=t.end._bufferIndex;let u;if(e===r)u=[s[e].slice(n,l)];else{if(u=s.slice(e,r),n>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(n):u.shift()}l>0&&u.push(s[r].slice(0,l))}return u}function oI(s,t){let e=-1;const n=[];let r;for(;++e<s.length;){const l=s[e];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&r)continue;u=" ";break}default:u=String.fromCharCode(l)}r=l===-2,n.push(u)}return n.join("")}function uI(s){const n={constructs:mP([aI,...(s||{}).extensions||[]]),content:r(EP),defined:[],document:r(CP),flow:r(Vz),lazy:{},string:r(Xz),text:r($z)};return n;function r(l){return u;function u(c){return rI(n,l,c)}}}function cI(s){for(;!MD(s););return s}const jC=/[\0\t\n\r]/g;function hI(){let s=1,t="",e=!0,n;return r;function r(l,u,c){const f=[];let p,g,y,b,A;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,t="",e&&(l.charCodeAt(0)===65279&&y++,e=void 0);y<l.length;){if(jC.lastIndex=y,p=jC.exec(l),b=p&&p.index!==void 0?p.index:l.length,A=l.charCodeAt(b),!p){t=l.slice(y);break}if(A===10&&y===b&&n)f.push(-3),n=void 0;else switch(n&&(f.push(-5),n=void 0),y<b&&(f.push(l.slice(y,b)),s+=b-y),A){case 0:{f.push(65533),s++;break}case 9:{for(g=Math.ceil(s/4)*4,f.push(-2);s++<g;)f.push(-1);break}case 10:{f.push(-4),s=1;break}default:n=!0,s=1}y=b+1}return c&&(n&&f.push(-5),t&&f.push(t),f.push(null)),f}}const dI=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fI(s){return s.replace(dI,pI)}function pI(s,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),l=r===120||r===88;return TD(e.slice(l?2:1),l?16:10)}return Lw(e)||s}const ID={}.hasOwnProperty;function gI(s,t,e){return typeof t!="string"&&(e=t,t=void 0),mI(e)(cI(uI(e).document().write(hI()(s,t,!0))))}function mI(s){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(xs),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:l(Bn),blockQuote:l(jt),characterEscape:Q,characterReference:Q,codeFenced:l(fe),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(fe,u),codeText:l(pe,u),codeTextData:Q,data:Q,codeFlowValue:Q,definition:l(Zt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Vt),hardBreakEscape:l(Fe),hardBreakTrailing:l(Fe),htmlFlow:l(Be,u),htmlFlowData:Q,htmlText:l(Be,u),htmlTextData:Q,image:l(Ve),label:u,link:l(xs),listItem:l(ci),listItemValue:b,listOrdered:l(Ea,y),listUnordered:l(Ea),paragraph:l(Dr),reference:R,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Bn),strong:l(_a),thematicBreak:l(td)},exit:{atxHeading:f(),atxHeadingSequence:P,autolink:f(),autolinkEmail:Tt,autolinkProtocol:mt,blockQuote:f(),characterEscapeValue:it,characterReferenceMarkerHexadecimal:ft,characterReferenceMarkerNumeric:ft,characterReferenceValue:nt,characterReference:ut,codeFenced:f(k),codeFencedFence:S,codeFencedFenceInfo:A,codeFencedFenceMeta:x,codeFlowValue:it,codeIndented:f(C),codeText:f(ht),codeTextData:it,data:it,definition:f(),definitionDestinationString:z,definitionLabelString:O,definitionTitleString:N,emphasis:f(),hardBreakEscape:f(Z),hardBreakTrailing:f(Z),htmlFlow:f(ct),htmlFlowData:it,htmlText:f(J),htmlTextData:it,image:f(q),label:xt,labelText:yt,lineEnding:X,link:f(B),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:st,resourceDestinationString:_,resourceTitleString:K,resource:ot,setextHeading:f(W),setextHeadingLineSequence:j,setextHeadingText:L,strong:f(),thematicBreak:f()}};FD(t,(s||{}).mdastExtensions||[]);const e={};return n;function n(tt){let dt={type:"root",children:[]};const Dt={stack:[dt],tokenStack:[],config:t,enter:c,exit:p,buffer:u,resume:g,data:e},kt=[];let ie=-1;for(;++ie<tt.length;)if(tt[ie][1].type==="listOrdered"||tt[ie][1].type==="listUnordered")if(tt[ie][0]==="enter")kt.push(ie);else{const jn=kt.pop();ie=r(tt,jn,ie)}for(ie=-1;++ie<tt.length;){const jn=t[tt[ie][0]];ID.call(jn,tt[ie][1].type)&&jn[tt[ie][1].type].call(Object.assign({sliceSerialize:tt[ie][2].sliceSerialize},Dt),tt[ie][1])}if(Dt.tokenStack.length>0){const jn=Dt.tokenStack[Dt.tokenStack.length-1];(jn[1]||HC).call(Dt,void 0,jn[0])}for(dt.position={start:el(tt.length>0?tt[0][1].start:{line:1,column:1,offset:0}),end:el(tt.length>0?tt[tt.length-2][1].end:{line:1,column:1,offset:0})},ie=-1;++ie<t.transforms.length;)dt=t.transforms[ie](dt)||dt;return dt}function r(tt,dt,Dt){let kt=dt-1,ie=-1,jn=!1,Es,rn,Ti,Qn;for(;++kt<=Dt;){const qe=tt[kt];switch(qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qe[0]==="enter"?ie++:ie--,Qn=void 0;break}case"lineEndingBlank":{qe[0]==="enter"&&(Es&&!Qn&&!ie&&!Ti&&(Ti=kt),Qn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qn=void 0}if(!ie&&qe[0]==="enter"&&qe[1].type==="listItemPrefix"||ie===-1&&qe[0]==="exit"&&(qe[1].type==="listUnordered"||qe[1].type==="listOrdered")){if(Es){let Zn=kt;for(rn=void 0;Zn--;){const Jn=tt[Zn];if(Jn[1].type==="lineEnding"||Jn[1].type==="lineEndingBlank"){if(Jn[0]==="exit")continue;rn&&(tt[rn][1].type="lineEndingBlank",jn=!0),Jn[1].type="lineEnding",rn=Zn}else if(!(Jn[1].type==="linePrefix"||Jn[1].type==="blockQuotePrefix"||Jn[1].type==="blockQuotePrefixWhitespace"||Jn[1].type==="blockQuoteMarker"||Jn[1].type==="listItemIndent"))break}Ti&&(!rn||Ti<rn)&&(Es._spread=!0),Es.end=Object.assign({},rn?tt[rn][1].start:qe[1].end),tt.splice(rn||kt,0,["exit",Es,qe[2]]),kt++,Dt++}if(qe[1].type==="listItemPrefix"){const Zn={type:"listItem",_spread:!1,start:Object.assign({},qe[1].start),end:void 0};Es=Zn,tt.splice(kt,0,["enter",Zn,qe[2]]),kt++,Dt++,Ti=void 0,Qn=!0}}}return tt[dt][1]._spread=jn,Dt}function l(tt,dt){return Dt;function Dt(kt){c.call(this,tt(kt),kt),dt&&dt.call(this,kt)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(tt,dt,Dt){this.stack[this.stack.length-1].children.push(tt),this.stack.push(tt),this.tokenStack.push([dt,Dt||void 0]),tt.position={start:el(dt.start),end:void 0}}function f(tt){return dt;function dt(Dt){tt&&tt.call(this,Dt),p.call(this,Dt)}}function p(tt,dt){const Dt=this.stack.pop(),kt=this.tokenStack.pop();if(kt)kt[0].type!==tt.type&&(dt?dt.call(this,tt,kt[0]):(kt[1]||HC).call(this,tt,kt[0]));else throw new Error("Cannot close `"+tt.type+"` ("+Mf({start:tt.start,end:tt.end})+"): it’s not open");Dt.position.end=el(tt.end)}function g(){return pP(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(tt){if(this.data.expectingFirstListItemValue){const dt=this.stack[this.stack.length-2];dt.start=Number.parseInt(this.sliceSerialize(tt),10),this.data.expectingFirstListItemValue=void 0}}function A(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.lang=tt}function x(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.meta=tt}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.value=tt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.value=tt.replace(/(\r?\n|\r)$/g,"")}function O(tt){const dt=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=dt,Dt.identifier=Ic(this.sliceSerialize(tt)).toLowerCase()}function N(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.title=tt}function z(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.url=tt}function P(tt){const dt=this.stack[this.stack.length-1];if(!dt.depth){const Dt=this.sliceSerialize(tt).length;dt.depth=Dt}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function j(tt){const dt=this.stack[this.stack.length-1];dt.depth=this.sliceSerialize(tt).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(tt){const Dt=this.stack[this.stack.length-1].children;let kt=Dt[Dt.length-1];(!kt||kt.type!=="text")&&(kt=Jh(),kt.position={start:el(tt.start),end:void 0},Dt.push(kt)),this.stack.push(kt)}function it(tt){const dt=this.stack.pop();dt.value+=this.sliceSerialize(tt),dt.position.end=el(tt.end)}function X(tt){const dt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Dt=dt.children[dt.children.length-1];Dt.position.end=el(tt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(dt.type)&&(Q.call(this,tt),it.call(this,tt))}function Z(){this.data.atHardBreak=!0}function ct(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.value=tt}function J(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.value=tt}function ht(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.value=tt}function B(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const dt=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=dt,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function q(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const dt=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=dt,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function yt(tt){const dt=this.sliceSerialize(tt),Dt=this.stack[this.stack.length-2];Dt.label=fI(dt),Dt.identifier=Ic(dt).toLowerCase()}function xt(){const tt=this.stack[this.stack.length-1],dt=this.resume(),Dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Dt.type==="link"){const kt=tt.children;Dt.children=kt}else Dt.alt=dt}function _(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.url=tt}function K(){const tt=this.resume(),dt=this.stack[this.stack.length-1];dt.title=tt}function ot(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function st(tt){const dt=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=dt,Dt.identifier=Ic(this.sliceSerialize(tt)).toLowerCase(),this.data.referenceType="full"}function ft(tt){this.data.characterReferenceType=tt.type}function nt(tt){const dt=this.sliceSerialize(tt),Dt=this.data.characterReferenceType;let kt;Dt?(kt=TD(dt,Dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):kt=Lw(dt);const ie=this.stack[this.stack.length-1];ie.value+=kt}function ut(tt){const dt=this.stack.pop();dt.position.end=el(tt.end)}function mt(tt){it.call(this,tt);const dt=this.stack[this.stack.length-1];dt.url=this.sliceSerialize(tt)}function Tt(tt){it.call(this,tt);const dt=this.stack[this.stack.length-1];dt.url="mailto:"+this.sliceSerialize(tt)}function jt(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function Zt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Vt(){return{type:"emphasis",children:[]}}function Bn(){return{type:"heading",depth:0,children:[]}}function Fe(){return{type:"break"}}function Be(){return{type:"html",value:""}}function Ve(){return{type:"image",title:null,url:"",alt:null}}function xs(){return{type:"link",title:null,url:"",children:[]}}function Ea(tt){return{type:"list",ordered:tt.type==="listOrdered",start:null,spread:tt._spread,children:[]}}function ci(tt){return{type:"listItem",spread:tt._spread,checked:null,children:[]}}function Dr(){return{type:"paragraph",children:[]}}function _a(){return{type:"strong",children:[]}}function Jh(){return{type:"text",value:""}}function td(){return{type:"thematicBreak"}}}function el(s){return{line:s.line,column:s.column,offset:s.offset}}function FD(s,t){let e=-1;for(;++e<t.length;){const n=t[e];Array.isArray(n)?FD(s,n):yI(s,n)}}function yI(s,t){let e;for(e in t)if(ID.call(t,e))switch(e){case"canContainEols":{const n=t[e];n&&s[e].push(...n);break}case"transforms":{const n=t[e];n&&s[e].push(...n);break}case"enter":case"exit":{const n=t[e];n&&Object.assign(s[e],n);break}}}function HC(s,t){throw s?new Error("Cannot close `"+s.type+"` ("+Mf({start:s.start,end:s.end})+"): a different token (`"+t.type+"`, "+Mf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Mf({start:t.start,end:t.end})+") is still open")}function bI(s){const t=this;t.parser=e;function e(n){return gI(n,{...t.data("settings"),...s,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function vI(s,t){const e={type:"element",tagName:"blockquote",properties:{},children:s.wrap(s.all(t),!0)};return s.patch(t,e),s.applyData(t,e)}function AI(s,t){const e={type:"element",tagName:"br",properties:{},children:[]};return s.patch(t,e),[s.applyData(t,e),{type:"text",value:`
`}]}function SI(s,t){const e=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:n,children:[{type:"text",value:e}]};return t.meta&&(r.data={meta:t.meta}),s.patch(t,r),r=s.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},s.patch(t,r),r}function wI(s,t){const e={type:"element",tagName:"del",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function xI(s,t){const e={type:"element",tagName:"em",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function EI(s,t){const e=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),r=Zh(n.toLowerCase()),l=s.footnoteOrder.indexOf(n);let u,c=s.footnoteCounts.get(n);c===void 0?(c=0,s.footnoteOrder.push(n),u=s.footnoteOrder.length):u=l+1,c+=1,s.footnoteCounts.set(n,c);const f={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};s.patch(t,f);const p={type:"element",tagName:"sup",properties:{},children:[f]};return s.patch(t,p),s.applyData(t,p)}function _I(s,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function CI(s,t){if(s.options.allowDangerousHtml){const e={type:"raw",value:t.value};return s.patch(t,e),s.applyData(t,e)}}function BD(s,t){const e=t.referenceType;let n="]";if(e==="collapsed"?n+="[]":e==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const r=s.all(t),l=r[0];l&&l.type==="text"?l.value="["+l.value:r.unshift({type:"text",value:"["});const u=r[r.length-1];return u&&u.type==="text"?u.value+=n:r.push({type:"text",value:n}),r}function TI(s,t){const e=String(t.identifier).toUpperCase(),n=s.definitionById.get(e);if(!n)return BD(s,t);const r={src:Zh(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const l={type:"element",tagName:"img",properties:r,children:[]};return s.patch(t,l),s.applyData(t,l)}function DI(s,t){const e={src:Zh(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const n={type:"element",tagName:"img",properties:e,children:[]};return s.patch(t,n),s.applyData(t,n)}function kI(s,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};s.patch(t,e);const n={type:"element",tagName:"code",properties:{},children:[e]};return s.patch(t,n),s.applyData(t,n)}function RI(s,t){const e=String(t.identifier).toUpperCase(),n=s.definitionById.get(e);if(!n)return BD(s,t);const r={href:Zh(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const l={type:"element",tagName:"a",properties:r,children:s.all(t)};return s.patch(t,l),s.applyData(t,l)}function MI(s,t){const e={href:Zh(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const n={type:"element",tagName:"a",properties:e,children:s.all(t)};return s.patch(t,n),s.applyData(t,n)}function NI(s,t,e){const n=s.all(t),r=e?OI(e):jD(t),l={},u=[];if(typeof t.checked=="boolean"){const g=n[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},n.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let c=-1;for(;++c<n.length;){const g=n[c];(r||c!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?u.push(...g.children):u.push(g)}const f=n[n.length-1];f&&(r||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:l,children:u};return s.patch(t,p),s.applyData(t,p)}function OI(s){let t=!1;if(s.type==="list"){t=s.spread||!1;const e=s.children;let n=-1;for(;!t&&++n<e.length;)t=jD(e[n])}return t}function jD(s){const t=s.spread;return t??s.children.length>1}function LI(s,t){const e={},n=s.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<n.length;){const u=n[r];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:s.wrap(n,!0)};return s.patch(t,l),s.applyData(t,l)}function PI(s,t){const e={type:"element",tagName:"p",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function zI(s,t){const e={type:"root",children:s.wrap(s.all(t))};return s.patch(t,e),s.applyData(t,e)}function II(s,t){const e={type:"element",tagName:"strong",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}function FI(s,t){const e=s.all(t),n=e.shift(),r=[];if(n){const u={type:"element",tagName:"thead",properties:{},children:s.wrap([n],!0)};s.patch(t.children[0],u),r.push(u)}if(e.length>0){const u={type:"element",tagName:"tbody",properties:{},children:s.wrap(e,!0)},c=Rw(t.children[1]),f=AD(t.children[t.children.length-1]);c&&f&&(u.position={start:c,end:f}),r.push(u)}const l={type:"element",tagName:"table",properties:{},children:s.wrap(r,!0)};return s.patch(t,l),s.applyData(t,l)}function BI(s,t,e){const n=e?e.children:void 0,l=(n?n.indexOf(t):1)===0?"th":"td",u=e&&e.type==="table"?e.align:void 0,c=u?u.length:t.children.length;let f=-1;const p=[];for(;++f<c;){const y=t.children[f],b={},A=u?u[f]:void 0;A&&(b.align=A);let x={type:"element",tagName:l,properties:b,children:[]};y&&(x.children=s.all(y),s.patch(y,x),x=s.applyData(y,x)),p.push(x)}const g={type:"element",tagName:"tr",properties:{},children:s.wrap(p,!0)};return s.patch(t,g),s.applyData(t,g)}function jI(s,t){const e={type:"element",tagName:"td",properties:{},children:s.all(t)};return s.patch(t,e),s.applyData(t,e)}const UC=9,GC=32;function HI(s){const t=String(s),e=/\r?\n|\r/g;let n=e.exec(t),r=0;const l=[];for(;n;)l.push(VC(t.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=e.exec(t);return l.push(VC(t.slice(r),r>0,!1)),l.join("")}function VC(s,t,e){let n=0,r=s.length;if(t){let l=s.codePointAt(n);for(;l===UC||l===GC;)n++,l=s.codePointAt(n)}if(e){let l=s.codePointAt(r-1);for(;l===UC||l===GC;)r--,l=s.codePointAt(r-1)}return r>n?s.slice(n,r):""}function UI(s,t){const e={type:"text",value:HI(String(t.value))};return s.patch(t,e),s.applyData(t,e)}function GI(s,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return s.patch(t,e),s.applyData(t,e)}const VI={blockquote:vI,break:AI,code:SI,delete:wI,emphasis:xI,footnoteReference:EI,heading:_I,html:CI,imageReference:TI,image:DI,inlineCode:kI,linkReference:RI,link:MI,listItem:NI,list:LI,paragraph:PI,root:zI,strong:II,table:FI,tableCell:jI,tableRow:BI,text:UI,thematicBreak:GI,toml:Hm,yaml:Hm,definition:Hm,footnoteDefinition:Hm};function Hm(){}const HD=-1,Ab=0,Of=1,Oy=2,Iw=3,Fw=4,Bw=5,jw=6,UD=7,GD=8,qC=typeof self=="object"?self:globalThis,qI=(s,t)=>{const e=(r,l)=>(s.set(l,r),r),n=r=>{if(s.has(r))return s.get(r);const[l,u]=t[r];switch(l){case Ab:case HD:return e(u,r);case Of:{const c=e([],r);for(const f of u)c.push(n(f));return c}case Oy:{const c=e({},r);for(const[f,p]of u)c[n(f)]=n(p);return c}case Iw:return e(new Date(u),r);case Fw:{const{source:c,flags:f}=u;return e(new RegExp(c,f),r)}case Bw:{const c=e(new Map,r);for(const[f,p]of u)c.set(n(f),n(p));return c}case jw:{const c=e(new Set,r);for(const f of u)c.add(n(f));return c}case UD:{const{name:c,message:f}=u;return e(new qC[c](f),r)}case GD:return e(BigInt(u),r);case"BigInt":return e(Object(BigInt(u)),r);case"ArrayBuffer":return e(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return e(new DataView(c),u)}}return e(new qC[l](u),r)};return n},YC=s=>qI(new Map,s)(0),vc="",{toString:YI}={},{keys:XI}=Object,af=s=>{const t=typeof s;if(t!=="object"||!s)return[Ab,t];const e=YI.call(s).slice(8,-1);switch(e){case"Array":return[Of,vc];case"Object":return[Oy,vc];case"Date":return[Iw,vc];case"RegExp":return[Fw,vc];case"Map":return[Bw,vc];case"Set":return[jw,vc];case"DataView":return[Of,e]}return e.includes("Array")?[Of,e]:e.includes("Error")?[UD,e]:[Oy,e]},Um=([s,t])=>s===Ab&&(t==="function"||t==="symbol"),$I=(s,t,e,n)=>{const r=(u,c)=>{const f=n.push(u)-1;return e.set(c,f),f},l=u=>{if(e.has(u))return e.get(u);let[c,f]=af(u);switch(c){case Ab:{let g=u;switch(f){case"bigint":c=GD,g=u.toString();break;case"function":case"symbol":if(s)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return r([HD],u)}return r([c,g],u)}case Of:{if(f){let b=u;return f==="DataView"?b=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(b=new Uint8Array(u)),r([f,[...b]],u)}const g=[],y=r([c,g],u);for(const b of u)g.push(l(b));return y}case Oy:{if(f)switch(f){case"BigInt":return r([f,u.toString()],u);case"Boolean":case"Number":case"String":return r([f,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const g=[],y=r([c,g],u);for(const b of XI(u))(s||!Um(af(u[b])))&&g.push([l(b),l(u[b])]);return y}case Iw:return r([c,u.toISOString()],u);case Fw:{const{source:g,flags:y}=u;return r([c,{source:g,flags:y}],u)}case Bw:{const g=[],y=r([c,g],u);for(const[b,A]of u)(s||!(Um(af(b))||Um(af(A))))&&g.push([l(b),l(A)]);return y}case jw:{const g=[],y=r([c,g],u);for(const b of u)(s||!Um(af(b)))&&g.push(l(b));return y}}const{message:p}=u;return r([c,{name:f,message:p}],u)};return l},XC=(s,{json:t,lossy:e}={})=>{const n=[];return $I(!(t||e),!!t,new Map,n)(s),n},Ly=typeof structuredClone=="function"?(s,t)=>t&&("json"in t||"lossy"in t)?YC(XC(s,t)):structuredClone(s):(s,t)=>YC(XC(s,t));function WI(s,t){const e=[{type:"text",value:"↩"}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function KI(s,t){return"Back to reference "+(s+1)+(t>1?"-"+t:"")}function QI(s){const t=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",e=s.options.footnoteBackContent||WI,n=s.options.footnoteBackLabel||KI,r=s.options.footnoteLabel||"Footnotes",l=s.options.footnoteLabelTagName||"h2",u=s.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<s.footnoteOrder.length;){const p=s.footnoteById.get(s.footnoteOrder[f]);if(!p)continue;const g=s.all(p),y=String(p.identifier).toUpperCase(),b=Zh(y.toLowerCase());let A=0;const x=[],S=s.footnoteCounts.get(y);for(;S!==void 0&&++A<=S;){x.length>0&&x.push({type:"text",value:" "});let O=typeof e=="string"?e:e(f,A);typeof O=="string"&&(O={type:"text",value:O}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(f,A),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const k=g[g.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const O=k.children[k.children.length-1];O&&O.type==="text"?O.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...x)}else g.push(...x);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:s.wrap(g,!0)};s.patch(p,C),c.push(C)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Ly(u),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:s.wrap(c,!0)},{type:"text",value:`
`}]}}const VD=function(s){if(s==null)return e3;if(typeof s=="function")return Sb(s);if(typeof s=="object")return Array.isArray(s)?ZI(s):JI(s);if(typeof s=="string")return t3(s);throw new Error("Expected function, string, or object as test")};function ZI(s){const t=[];let e=-1;for(;++e<s.length;)t[e]=VD(s[e]);return Sb(n);function n(...r){let l=-1;for(;++l<t.length;)if(t[l].apply(this,r))return!0;return!1}}function JI(s){const t=s;return Sb(e);function e(n){const r=n;let l;for(l in s)if(r[l]!==t[l])return!1;return!0}}function t3(s){return Sb(t);function t(e){return e&&e.type===s}}function Sb(s){return t;function t(e,n,r){return!!(n3(e)&&s.call(this,e,typeof n=="number"?n:void 0,r||void 0))}}function e3(){return!0}function n3(s){return s!==null&&typeof s=="object"&&"type"in s}const qD=[],i3=!0,$C=!1,s3="skip";function a3(s,t,e,n){let r;typeof t=="function"&&typeof e!="function"?(n=e,e=t):r=t;const l=VD(r),u=n?-1:1;c(s,void 0,[])();function c(f,p,g){const y=f&&typeof f=="object"?f:{};if(typeof y.type=="string"){const A=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(A?"<"+A+">":""))+")"})}return b;function b(){let A=qD,x,S,k;if((!t||l(f,p,g[g.length-1]||void 0))&&(A=r3(e(f,g)),A[0]===$C))return A;if("children"in f&&f.children){const C=f;if(C.children&&A[0]!==s3)for(S=(n?C.children.length:-1)+u,k=g.concat(C);S>-1&&S<C.children.length;){const O=C.children[S];if(x=c(O,S,k)(),x[0]===$C)return x;S=typeof x[1]=="number"?x[1]:S+u}}return A}}}function r3(s){return Array.isArray(s)?s:typeof s=="number"?[i3,s]:s==null?qD:[s]}function YD(s,t,e,n){let r,l,u;typeof t=="function"?(l=void 0,u=t,r=e):(l=t,u=e,r=n),a3(s,l,c,r);function c(f,p){const g=p[p.length-1],y=g?g.children.indexOf(f):void 0;return u(f,y,g)}}const XA={}.hasOwnProperty,l3={};function o3(s,t){const e=t||l3,n=new Map,r=new Map,l=new Map,u={...VI,...e.handlers},c={all:p,applyData:c3,definitionById:n,footnoteById:r,footnoteCounts:l,footnoteOrder:[],handlers:u,one:f,options:e,patch:u3,wrap:d3};return YD(s,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?n:r,b=String(g.identifier).toUpperCase();y.has(b)||y.set(b,g)}}),c;function f(g,y){const b=g.type,A=c.handlers[b];if(XA.call(c.handlers,b)&&A)return A(c,g,y);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in g){const{children:S,...k}=g,C=Ly(k);return C.children=c.all(g),C}return Ly(g)}return(c.options.unknownHandler||h3)(c,g,y)}function p(g){const y=[];if("children"in g){const b=g.children;let A=-1;for(;++A<b.length;){const x=c.one(b[A],g);if(x){if(A&&b[A-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=WC(x.value)),!Array.isArray(x)&&x.type==="element")){const S=x.children[0];S&&S.type==="text"&&(S.value=WC(S.value))}Array.isArray(x)?y.push(...x):y.push(x)}}}return y}}function u3(s,t){s.position&&(t.position=YL(s))}function c3(s,t){let e=t;if(s&&s.data){const n=s.data.hName,r=s.data.hChildren,l=s.data.hProperties;if(typeof n=="string")if(e.type==="element")e.tagName=n;else{const u="children"in e?e.children:[e];e={type:"element",tagName:n,properties:{},children:u}}e.type==="element"&&l&&Object.assign(e.properties,Ly(l)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function h3(s,t){const e=t.data||{},n="value"in t&&!(XA.call(e,"hProperties")||XA.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:s.all(t)};return s.patch(t,n),s.applyData(t,n)}function d3(s,t){const e=[];let n=-1;for(t&&e.push({type:"text",value:`
`});++n<s.length;)n&&e.push({type:"text",value:`
`}),e.push(s[n]);return t&&s.length>0&&e.push({type:"text",value:`
`}),e}function WC(s){let t=0,e=s.charCodeAt(t);for(;e===9||e===32;)t++,e=s.charCodeAt(t);return s.slice(t)}function KC(s,t){const e=o3(s,t),n=e.one(s,void 0),r=QI(e),l=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return r&&l.children.push({type:"text",value:`
`},r),l}function f3(s,t){return s&&"run"in s?async function(e,n){const r=KC(e,{file:n,...t});await s.run(r,n)}:function(e,n){return KC(e,{file:n,...s||t})}}function QC(s){if(s)throw s}var rA,ZC;function p3(){if(ZC)return rA;ZC=1;var s=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=function(p){return typeof Array.isArray=="function"?Array.isArray(p):t.call(p)==="[object Array]"},l=function(p){if(!p||t.call(p)!=="[object Object]")return!1;var g=s.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&s.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!y)return!1;var b;for(b in p);return typeof b>"u"||s.call(p,b)},u=function(p,g){e&&g.name==="__proto__"?e(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},c=function(p,g){if(g==="__proto__")if(s.call(p,g)){if(n)return n(p,g).value}else return;return p[g]};return rA=function f(){var p,g,y,b,A,x,S=arguments[0],k=1,C=arguments.length,O=!1;for(typeof S=="boolean"&&(O=S,S=arguments[1]||{},k=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});k<C;++k)if(p=arguments[k],p!=null)for(g in p)y=c(S,g),b=c(p,g),S!==b&&(O&&b&&(l(b)||(A=r(b)))?(A?(A=!1,x=y&&r(y)?y:[]):x=y&&l(y)?y:{},u(S,{name:g,newValue:f(O,x,b)})):typeof b<"u"&&u(S,{name:g,newValue:b}));return S},rA}var g3=p3();const lA=cg(g3);function $A(s){if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function m3(){const s=[],t={run:e,use:n};return t;function e(...r){let l=-1;const u=r.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...r);function c(f,...p){const g=s[++l];let y=-1;if(f){u(f);return}for(;++y<r.length;)(p[y]===null||p[y]===void 0)&&(p[y]=r[y]);r=p,g?y3(g,c)(...p):u(null,...p)}}function n(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return s.push(r),t}}function y3(s,t){let e;return n;function n(...u){const c=s.length>u.length;let f;c&&u.push(r);try{f=s.apply(this,u)}catch(p){const g=p;if(c&&e)throw g;return r(g)}c||(f&&f.then&&typeof f.then=="function"?f.then(l,r):f instanceof Error?r(f):l(f))}function r(u,...c){e||(e=!0,t(u,...c))}function l(u){r(null,u)}}const ia={basename:b3,dirname:v3,extname:A3,join:S3,sep:"/"};function b3(s,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');mg(s);let e=0,n=-1,r=s.length,l;if(t===void 0||t.length===0||t.length>s.length){for(;r--;)if(s.codePointAt(r)===47){if(l){e=r+1;break}}else n<0&&(l=!0,n=r+1);return n<0?"":s.slice(e,n)}if(t===s)return"";let u=-1,c=t.length-1;for(;r--;)if(s.codePointAt(r)===47){if(l){e=r+1;break}}else u<0&&(l=!0,u=r+1),c>-1&&(s.codePointAt(r)===t.codePointAt(c--)?c<0&&(n=r):(c=-1,n=u));return e===n?n=u:n<0&&(n=s.length),s.slice(e,n)}function v3(s){if(mg(s),s.length===0)return".";let t=-1,e=s.length,n;for(;--e;)if(s.codePointAt(e)===47){if(n){t=e;break}}else n||(n=!0);return t<0?s.codePointAt(0)===47?"/":".":t===1&&s.codePointAt(0)===47?"//":s.slice(0,t)}function A3(s){mg(s);let t=s.length,e=-1,n=0,r=-1,l=0,u;for(;t--;){const c=s.codePointAt(t);if(c===47){if(u){n=t+1;break}continue}e<0&&(u=!0,e=t+1),c===46?r<0?r=t:l!==1&&(l=1):r>-1&&(l=-1)}return r<0||e<0||l===0||l===1&&r===e-1&&r===n+1?"":s.slice(r,e)}function S3(...s){let t=-1,e;for(;++t<s.length;)mg(s[t]),s[t]&&(e=e===void 0?s[t]:e+"/"+s[t]);return e===void 0?".":w3(e)}function w3(s){mg(s);const t=s.codePointAt(0)===47;let e=x3(s,!t);return e.length===0&&!t&&(e="."),e.length>0&&s.codePointAt(s.length-1)===47&&(e+="/"),t?"/"+e:e}function x3(s,t){let e="",n=0,r=-1,l=0,u=-1,c,f;for(;++u<=s.length;){if(u<s.length)c=s.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(r===u-1||l===1))if(r!==u-1&&l===2){if(e.length<2||n!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(f=e.lastIndexOf("/"),f!==e.length-1){f<0?(e="",n=0):(e=e.slice(0,f),n=e.length-1-e.lastIndexOf("/")),r=u,l=0;continue}}else if(e.length>0){e="",n=0,r=u,l=0;continue}}t&&(e=e.length>0?e+"/..":"..",n=2)}else e.length>0?e+="/"+s.slice(r+1,u):e=s.slice(r+1,u),n=u-r-1;r=u,l=0}else c===46&&l>-1?l++:l=-1}return e}function mg(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}const E3={cwd:_3};function _3(){return"/"}function WA(s){return!!(s!==null&&typeof s=="object"&&"href"in s&&s.href&&"protocol"in s&&s.protocol&&s.auth===void 0)}function C3(s){if(typeof s=="string")s=new URL(s);else if(!WA(s)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+s+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(s.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return T3(s)}function T3(s){if(s.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=s.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const n=t.codePointAt(e+2);if(n===70||n===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const oA=["history","path","basename","stem","extname","dirname"];class XD{constructor(t){let e;t?WA(t)?e={path:t}:typeof t=="string"||D3(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":E3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<oA.length;){const l=oA[n];l in e&&e[l]!==void 0&&e[l]!==null&&(this[l]=l==="history"?[...e[l]]:e[l])}let r;for(r in e)oA.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?ia.basename(this.path):void 0}set basename(t){cA(t,"basename"),uA(t,"basename"),this.path=ia.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ia.dirname(this.path):void 0}set dirname(t){JC(this.basename,"dirname"),this.path=ia.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ia.extname(this.path):void 0}set extname(t){if(uA(t,"extname"),JC(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ia.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){WA(t)&&(t=C3(t)),cA(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ia.basename(this.path,this.extname):void 0}set stem(t){cA(t,"stem"),uA(t,"stem"),this.path=ia.join(this.dirname||"",t+(this.extname||""))}fail(t,e,n){const r=this.message(t,e,n);throw r.fatal=!0,r}info(t,e,n){const r=this.message(t,e,n);return r.fatal=void 0,r}message(t,e,n){const r=new Kn(t,e,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function uA(s,t){if(s&&s.includes(ia.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ia.sep+"`")}function cA(s,t){if(!s)throw new Error("`"+t+"` cannot be empty")}function JC(s,t){if(!s)throw new Error("Setting `"+t+"` requires `path` to be set too")}function D3(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const k3=function(s){const n=this.constructor.prototype,r=n[s],l=function(){return r.apply(l,arguments)};return Object.setPrototypeOf(l,n),l},R3={}.hasOwnProperty;class Hw extends k3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=m3()}copy(){const t=new Hw;let e=-1;for(;++e<this.attachers.length;){const n=this.attachers[e];t.use(...n)}return t.data(lA(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(fA("data",this.frozen),this.namespace[t]=e,this):R3.call(this.namespace,t)&&this.namespace[t]||void 0:t?(fA("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const r=e.call(t,...n);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=Gm(t),n=this.parser||this.Parser;return hA("parse",n),n(String(e),e)}process(t,e){const n=this;return this.freeze(),hA("process",this.parser||this.Parser),dA("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(l,u){const c=Gm(t),f=n.parse(c);n.run(f,c,function(g,y,b){if(g||!y||!b)return p(g);const A=y,x=n.stringify(A,b);O3(x)?b.value=x:b.result=x,p(g,b)});function p(g,y){g||!y?u(g):l?l(y):e(void 0,y)}}}processSync(t){let e=!1,n;return this.freeze(),hA("processSync",this.parser||this.Parser),dA("processSync",this.compiler||this.Compiler),this.process(t,r),eT("processSync","process",e),n;function r(l,u){e=!0,QC(l),n=u}}run(t,e,n){tT(t),this.freeze();const r=this.transformers;return!n&&typeof e=="function"&&(n=e,e=void 0),n?l(void 0,n):new Promise(l);function l(u,c){const f=Gm(e);r.run(t,f,p);function p(g,y,b){const A=y||t;g?c(g):u?u(A):n(void 0,A,b)}}}runSync(t,e){let n=!1,r;return this.run(t,e,l),eT("runSync","run",n),r;function l(u,c){QC(u),r=c,n=!0}}stringify(t,e){this.freeze();const n=Gm(e),r=this.compiler||this.Compiler;return dA("stringify",r),tT(t),r(t,n)}use(t,...e){const n=this.attachers,r=this.namespace;if(fA("use",this.frozen),t!=null)if(typeof t=="function")f(t,e);else if(typeof t=="object")Array.isArray(t)?c(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(p){if(typeof p=="function")f(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[g,...y]=p;f(g,y)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(p.plugins),p.settings&&(r.settings=lA(!0,r.settings,p.settings))}function c(p){let g=-1;if(p!=null)if(Array.isArray(p))for(;++g<p.length;){const y=p[g];l(y)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function f(p,g){let y=-1,b=-1;for(;++y<n.length;)if(n[y][0]===p){b=y;break}if(b===-1)n.push([p,...g]);else if(g.length>0){let[A,...x]=g;const S=n[b][1];$A(S)&&$A(A)&&(A=lA(!0,S,A)),n[b]=[p,A,...x]}}}}const M3=new Hw().freeze();function hA(s,t){if(typeof t!="function")throw new TypeError("Cannot `"+s+"` without `parser`")}function dA(s,t){if(typeof t!="function")throw new TypeError("Cannot `"+s+"` without `compiler`")}function fA(s,t){if(t)throw new Error("Cannot call `"+s+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function tT(s){if(!$A(s)||typeof s.type!="string")throw new TypeError("Expected node, got `"+s+"`")}function eT(s,t,e){if(!e)throw new Error("`"+s+"` finished async. Use `"+t+"` instead")}function Gm(s){return N3(s)?s:new XD(s)}function N3(s){return!!(s&&typeof s=="object"&&"message"in s&&"messages"in s)}function O3(s){return typeof s=="string"||L3(s)}function L3(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const P3="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",nT=[],iT={allowDangerousHtml:!0},z3=/^(https?|ircs?|mailto|xmpp)$/i,I3=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function F3(s){const t=B3(s),e=j3(s);return H3(t.runSync(t.parse(e),e),s)}function B3(s){const t=s.rehypePlugins||nT,e=s.remarkPlugins||nT,n=s.remarkRehypeOptions?{...s.remarkRehypeOptions,...iT}:iT;return M3().use(bI).use(e).use(f3,n).use(t)}function j3(s){const t=s.children||"",e=new XD;return typeof t=="string"&&(e.value=t),e}function H3(s,t){const e=t.allowedElements,n=t.allowElement,r=t.components,l=t.disallowedElements,u=t.skipHtml,c=t.unwrapDisallowed,f=t.urlTransform||U3;for(const g of I3)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+P3+g.id,void 0);return YD(s,p),QL(s,{Fragment:I.Fragment,components:r,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function p(g,y,b){if(g.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let A;for(A in iA)if(Object.hasOwn(iA,A)&&Object.hasOwn(g.properties,A)){const x=g.properties[A],S=iA[A];(S===null||S.includes(g.tagName))&&(g.properties[A]=f(String(x||""),A,g))}}if(g.type==="element"){let A=e?!e.includes(g.tagName):l?l.includes(g.tagName):!1;if(!A&&n&&typeof y=="number"&&(A=!n(g,y,b)),A&&b&&typeof y=="number")return c&&g.children?b.children.splice(y,1,...g.children):b.children.splice(y,1),y}}}function U3(s){const t=s.indexOf(":"),e=s.indexOf("?"),n=s.indexOf("#"),r=s.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||n!==-1&&t>n||z3.test(s.slice(0,t))?s:""}function G3({quizList:s}){const[t,e]=lt.useState(Array(s.length).fill(void 0)),[n,r]=lt.useState(Array(s.length).fill(null)),l=(c,f)=>{const p=[...t];p[c]=f,e(p)},u=()=>{const c=s.map((f,p)=>{var g;return t[p]?((g=t[p])==null?void 0:g.trim().toLowerCase())===f.answer.trim().toLowerCase():null});r(c)};return I.jsxs("div",{children:[s.map((c,f)=>I.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded",children:[I.jsxs("div",{className:"font-bold mb-2",children:[f+1,". ",c.question]}),c.options?I.jsx("div",{children:c.options.map((p,g)=>I.jsxs("label",{className:"block",children:[I.jsx("input",{type:"radio",name:`quiz_${f}`,value:p,checked:t[f]===p,onChange:()=>l(f,p)})," ",p]},g))}):I.jsx("input",{type:"text",className:"border rounded p-1 mt-2",value:t[f]||"",onChange:p=>l(f,p.target.value),placeholder:"请输入答案"}),n[f]!==null&&I.jsx("div",{className:`mt-2 ${n[f]?"text-green-600":"text-red-600"}`,children:n[f]?`✅ 正确！解析：${c.explanation}`:`❌ 错误，正确答案是：${c.answer}。解析：${c.explanation}`})]},f)),I.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:u,children:"提交答案"})]})}function V3({filePath:s}){const t=$h(),[e]=lt.useState(null),[n,r]=lt.useState(!1),[l]=lt.useState(null),u=()=>{t&&(r(!0),t.postMessage({command:"generateSummary",filePath:s}))},c=()=>{t&&(r(!0),t.postMessage({command:"generateQuiz",filePath:s}))},f=e&&typeof e=="string"?e.replace(/\\n/g,`
`):"";return I.jsxs("div",{className:"bg-white shadow p-4 rounded-xl",children:[I.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🤖 AI 生成助手"}),I.jsxs("div",{className:"flex gap-4",children:[I.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",onClick:u,children:"📘 生成课程总结"}),I.jsx("button",{className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",onClick:c,children:"📝 生成测试题"})]}),I.jsx("div",{className:"mt-4 bg-gray-100 rounded p-4",children:n?"⏳ 正在生成...":e?l==="summary"&&typeof e=="string"?I.jsx("div",{className:"prose max-w-none",children:I.jsx(F3,{children:f})}):l==="quiz"&&Array.isArray(e)?I.jsx(G3,{quizList:e}):null:null})]})}function q3({selectedFile:s}){const[t,e]=lt.useState({}),[n,r]=lt.useState({}),[l,u]=lt.useState({}),c=[{user:"Alice",time:"2025-04-11 14:22",content:"这个文件讲得很清楚👍",page:"Lecture1.pdf",location:"第3页"},{user:"Bob",time:"2025-04-11 16:05",content:"有个地方我没看懂，第三页第二段。",page:"Lecture1.pdf",location:"第3页"},{user:"Cathy",time:"2025-04-10 10:30",content:"建议补充一个例题会更好。",page:"Lecture2.pdf",location:"第5页"}],f=g=>{e(y=>({...y,[g]:(y[g]||0)+1}))},p=g=>{const y=l[g];y&&y.trim()&&(r(b=>({...b,[g]:[...b[g]||[],y.trim()]})),u(b=>({...b,[g]:""})))};return I.jsxs("div",{className:"bg-white shadow p-6 rounded-xl",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"💬 交流评论"}),I.jsxs("div",{className:"space-y-6",children:[c.filter(g=>g.page===s).map((g,y)=>I.jsxs("div",{className:"border-b pb-4",children:[I.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[I.jsxs("span",{children:[g.user," · ",g.location]}),I.jsx("span",{children:g.time})]}),I.jsx("p",{className:"mt-1 text-gray-800",children:g.content}),I.jsx("div",{className:"flex items-center gap-4 mt-2",children:I.jsxs("button",{onClick:()=>f(y),className:"text-sm text-blue-500 hover:underline",children:["👍 点赞 (",t[y]||0,")"]})}),I.jsxs("div",{className:"mt-2",children:[I.jsx("input",{type:"text",value:l[y]||"",onChange:b=>u(A=>({...A,[y]:b.target.value})),placeholder:"写下你的回复...",className:"w-full border rounded p-2 text-sm"}),I.jsx("button",{onClick:()=>p(y),className:"mt-1 text-sm text-green-600 hover:underline",children:"↩️ 回复"})]}),n[y]&&n[y].length>0&&I.jsx("ul",{className:"mt-2 pl-4 list-disc text-sm text-gray-700 space-y-1",children:n[y].map((b,A)=>I.jsx("li",{children:b},A))})]},y)),c.filter(g=>g.page===s).length===0&&I.jsx("p",{className:"text-gray-500",children:"暂无评论"})]})]})}function Y3(){const s=[{title:"算法笔记分享",link:"https://example.com/note"},{title:"课后习题答案",link:"https://example.com/answer"},{title:"推荐阅读资料",link:"https://example.com/resource"}];return I.jsxs("div",{className:"bg-white shadow p-6 rounded-xl",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"🔗 相关资源"}),I.jsx("ul",{className:"list-disc list-inside space-y-2 text-blue-600",children:s.map((t,e)=>I.jsx("li",{children:I.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:t.title})},e))})]})}function X3({filePath:s}){console.log("Now loading FilePath:",s);const t=$h(),e=["Lecture1.pdf","Lecture2.pdf","Lecture3.pdf"],[n,r]=lt.useState(e[0]),[l,u]=lt.useState(null);return lt.useEffect(()=>{const c=f=>{const p=f.data;p.command==="fileDetails"?u(p.details):p.command==="error"&&console.error("出错：",p.error)};return window.addEventListener("message",c),t&&t.postMessage({command:"getFileDetails",filePath:s}),()=>window.removeEventListener("message",c)},[s,t]),t?I.jsxs("div",{className:"max-w-3xl mx-auto space-y-10",children:[I.jsx("h1",{className:"text-3xl font-bold text-center mt-6",children:"📄 文件详情"}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx("label",{className:"mb-2 font-medium",children:"当前文件："}),I.jsx("select",{value:n,onChange:c=>r(c.target.value),className:"border p-2 rounded-md w-full max-w-sm",children:e.map(c=>I.jsx("option",{value:c,children:c},c))}),l&&I.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["文件大小：",l.size,"，类型：",l.type,"，上传时间：",l.uploadedAt]})]}),I.jsx("div",{className:"flex justify-center",children:I.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-xl text-lg hover:bg-blue-700",onClick:()=>t.postMessage({command:"openFile",filePath:s}),children:"🔍 查看文件"})}),I.jsx(wL,{filePath:s}),I.jsx(V3,{filePath:s}),I.jsx(q3,{selectedFile:n}),I.jsx(Y3,{})]}):I.jsx("div",{className:"p-10 text-center text-red-500",children:"无法加载 VSCode API，请确认环境。"})}const $D=lt.createContext(void 0),$3=({children:s})=>{const[t,e]=lt.useState([]),l={openPanels:t,openPanel:u=>{e(c=>c.find(f=>f.id===u.id)?c:[...c,u])},closePanel:u=>{e(c=>c.filter(f=>f.id!==u))}};return I.jsx($D.Provider,{value:l,children:s})},wb=()=>{const s=lt.useContext($D);if(!s)throw new Error("useSidePanel must be used within a SidePanelProvider");return s},li=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),KA=[.001,0,0,.001,0,0],pA=1.35,Ki={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},il={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},W3="pdfjs_internal_editor_",Pt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Jt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},K3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Vn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ty={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xb={ERRORS:0,WARNINGS:1,INFOS:5},Py={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Vm={moveTo:0,lineTo:1,curveTo:2,closePath:3},Q3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Eb=xb.WARNINGS;function Z3(s){Number.isInteger(s)&&(Eb=s)}function J3(){return Eb}function _b(s){Eb>=xb.INFOS&&console.log(`Info: ${s}`)}function zt(s){Eb>=xb.WARNINGS&&console.log(`Warning: ${s}`)}function Ae(s){throw new Error(s)}function sn(s,t){s||Ae(t)}function tF(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function WD(s,t=null,e=null){if(!s)return null;if(e&&typeof s=="string"){if(e.addDefaultProtocol&&s.startsWith("www.")){const r=s.match(/\./g);(r==null?void 0:r.length)>=2&&(s=`http://${s}`)}if(e.tryConvertEncoding)try{s=aF(s)}catch{}}const n=t?URL.parse(s,t):URL.parse(s);return tF(n)?n:null}function KD(s,t,e=!1){const n=URL.parse(s);return n?(n.hash=t,n.href):e&&WD(s,"http://example.com")?s.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Qt(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Pu=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class sT extends Pu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class gA extends Pu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class QA extends Pu{constructor(t){super(t,"InvalidPDFException")}}class zy extends Pu{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class eF extends Pu{constructor(t){super(t,"FormatError")}}class Ul extends Pu{constructor(t){super(t,"AbortException")}}function QD(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&Ae("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),u=s.subarray(r,l);n.push(String.fromCharCode.apply(null,u))}return n.join("")}function yg(s){typeof s!="string"&&Ae("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function nF(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function iF(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function sF(){try{return new Function(""),!0}catch{return!1}}class Fn{static get isLittleEndian(){return Qt(this,"isLittleEndian",iF())}static get isEvalSupported(){return Qt(this,"isEvalSupported",sF())}static get isOffscreenCanvasSupported(){return Qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Qt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:t,userAgent:e}=navigator;return Qt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}return Qt(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const mA=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var xr,ey,ZA;class Et{static makeHexColor(t,e,n){return`#${mA[t]}${mA[e]}${mA[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const r=t[n],l=t[n+1];t[n]=r*e[0]+l*e[2]+e[4],t[n+1]=r*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],l=e[1],u=e[2],c=e[3],f=e[4],p=e[5];for(let g=0;g<6;g+=2){const y=t[n+g],b=t[n+g+1];t[n+g]=y*r+b*u+f,t[n+g+1]=y*l+b*c+p}}static applyInverseTransform(t,e){const n=t[0],r=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,n){const r=e[0],l=e[1],u=e[2],c=e[3],f=e[4],p=e[5],g=t[0],y=t[1],b=t[2],A=t[3];let x=r*g+f,S=x,k=r*b+f,C=k,O=c*y+p,N=O,z=c*A+p,P=z;if(l!==0||u!==0){const L=l*g,j=l*b,W=u*y,Q=u*A;x+=W,C+=W,k+=Q,S+=Q,O+=L,P+=L,z+=j,N+=j}n[0]=Math.min(n[0],x,k,S,C),n[1]=Math.min(n[1],O,z,N,P),n[2]=Math.max(n[2],x,k,S,C),n[3]=Math.max(n[3],O,z,N,P)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],l=t[2],u=t[3],c=n**2+r**2,f=n*l+r*u,p=l**2+u**2,g=(c+p)/2,y=Math.sqrt(g**2-(c*p-f**2));e[0]=Math.sqrt(g+y||1),e[1]=Math.sqrt(g-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>u?null:[n,l,r,u]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,l){l[0]=Math.min(l[0],t,n),l[1]=Math.min(l[1],e,r),l[2]=Math.max(l[2],t,n),l[3]=Math.max(l[3],e,r)}static bezierBoundingBox(t,e,n,r,l,u,c,f,p){p[0]=Math.min(p[0],t,c),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,c),p[3]=Math.max(p[3],e,f),D(this,xr,ZA).call(this,t,n,l,c,e,r,u,f,3*(-t+3*(n-l)+c),6*(t-2*n+l),3*(n-t),p),D(this,xr,ZA).call(this,t,n,l,c,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),p)}}xr=new WeakSet,ey=function(t,e,n,r,l,u,c,f,p,g){if(p<=0||p>=1)return;const y=1-p,b=p*p,A=b*p,x=y*(y*(y*t+3*p*e)+3*b*n)+A*r,S=y*(y*(y*l+3*p*u)+3*b*c)+A*f;g[0]=Math.min(g[0],x),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],x),g[3]=Math.max(g[3],S)},ZA=function(t,e,n,r,l,u,c,f,p,g,y,b){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&D(this,xr,ey).call(this,t,e,n,r,l,u,c,f,-y/g,b);return}const A=g**2-4*y*p;if(A<0)return;const x=Math.sqrt(A),S=2*p;D(this,xr,ey).call(this,t,e,n,r,l,u,c,f,(-g+x)/S,b),D(this,xr,ey).call(this,t,e,n,r,l,u,c,f,(-g-x)/S,b)},T(Et,xr);function aF(s){return decodeURIComponent(escape(s))}let yA=null,aT=null;function rF(s){return yA||(yA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,aT=new Map([["ﬅ","ſt"]])),s.replaceAll(yA,(t,e,n)=>e?e.normalize("NFKC"):aT.get(n))}function ZD(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),QD(s)}const Uw="pdfjs_internal_id_";function lF(s,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...l]=e;if(!s(n)&&!Number.isInteger(n)||!t(r))return!1;const u=l.length;let c=!0;switch(r.name){case"XYZ":if(u<2||u>3)return!1;break;case"Fit":case"FitB":return u===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(u>1)return!1;break;case"FitR":if(u!==4)return!1;c=!1;break;default:return!1}for(const f of l)if(!(typeof f=="number"||c&&f===null))return!1;return!0}function oi(s,t,e){return Math.min(Math.max(s,t),e)}function JD(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(QD(s))}function oF(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):yg(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((t,e)=>t+e,0)});const Ua="http://www.w3.org/2000/svg",Ao=class Ao{};gt(Ao,"CSS",96),gt(Ao,"PDF",72),gt(Ao,"PDF_TO_CSS_UNITS",Ao.CSS/Ao.PDF);let Gl=Ao;async function bg(s,t="text"){if(wc(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class vg{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:l=0,offsetY:u=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=l,this.offsetY=u,n*=e;const f=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,y,b,A;switch(r%=360,r<0&&(r+=360),r){case 180:g=-1,y=0,b=0,A=1;break;case 90:g=0,y=1,b=1,A=0;break;case 270:g=0,y=-1,b=-1,A=0;break;case 0:g=1,y=0,b=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,A=-A);let x,S,k,C;g===0?(x=Math.abs(p-t[1])*n+l,S=Math.abs(f-t[0])*n+u,k=(t[3]-t[1])*n,C=(t[2]-t[0])*n):(x=Math.abs(f-t[0])*n+l,S=Math.abs(p-t[1])*n+u,k=(t[2]-t[0])*n,C=(t[3]-t[1])*n),this.transform=[g*n,y*n,b*n,A*n,x-g*n*f-b*n*p,S-y*n*f-A*n*p],this.width=k,this.height=C}get rawDims(){const t=this.viewBox;return Qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new vg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){const n=[t,e];return Et.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Et.applyTransform(e,this.transform);const n=[t[2],t[3]];return Et.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Et.applyInverseTransform(n,this.transform),n}}class Gw extends Pu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Cb(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function Vw(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function uF(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function cF(s,t="document.pdf"){if(typeof s!="string")return t;if(Cb(s))return zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(s);let l=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class rT{constructor(){gt(this,"started",Object.create(null));gt(this,"times",[])}time(t){t in this.started&&zt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||zt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-r}ms
`);return t.join("")}}function wc(s,t){const e=t?URL.parse(s,t):URL.parse(s);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Ys(s){s.preventDefault()}function nn(s){s.preventDefault(),s.stopPropagation()}var Hf;class qw{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,Hf)||w(this,Hf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,Hf).exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(u+=g,c+=y):p==="+"&&(u-=g,c-=y),new Date(Date.UTC(n,r,l,u,c,f))}}Hf=new WeakMap,T(qw,Hf);function hF(s,{scale:t=1,rotation:e=0}){const{width:n,height:r}=s.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new vg({viewBox:l,userUnit:1,scale:t,rotation:e})}function Yw(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(zt(`Not a valid color format: "${s}"`),[0,0,0])}function dF(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,Yw(n))}t.remove()}function Ie(s){const{a:t,b:e,c:n,d:r,e:l,f:u}=s.getTransform();return[t,e,n,r,l,u]}function ta(s){const{a:t,b:e,c:n,d:r,e:l,f:u}=s.getTransform().invertSelf();return[t,e,n,r,l,u]}function Du(s,t,e=!1,n=!0){if(t instanceof vg){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:u}=s,c=Fn.isCSSRoundSupported,f=`var(--total-scale-factor) * ${r}px`,p=`var(--total-scale-factor) * ${l}px`,g=c?`round(down, ${f}, var(--scale-round-x))`:`calc(${f})`,y=c?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=g,u.height=y):(u.width=y,u.height=g)}n&&s.setAttribute("data-main-rotation",t.rotation)}class _r{constructor(){const{pixelRatio:t}=_r;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r){let l=1/0,u=1/0,c=1/0;n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(u=r/t,c=r/e);const f=Math.min(l,u,c);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const JA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var rl,wo,ds,ll,Uf,Hc,Gf,Yy,tk,In,ek,nk,df,ik,ny;const qa=class qa{constructor(t){T(this,In);T(this,rl,null);T(this,wo,null);T(this,ds);T(this,ll,null);T(this,Uf,null);T(this,Hc,null);w(this,ds,t),d(qa,Gf)||w(qa,Gf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=w(this,rl,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,ds)._uiManager._signal;t.addEventListener("contextmenu",Ys,{signal:e}),t.addEventListener("pointerdown",D(qa,Yy,tk),{signal:e});const n=w(this,ll,document.createElement("div"));n.className="buttons",t.append(n);const r=d(this,ds).toolbarPosition;if(r){const{style:l}=t,u=d(this,ds)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return D(this,In,ik).call(this),t}get div(){return d(this,rl)}hide(){var t;d(this,rl).classList.add("hidden"),(t=d(this,wo))==null||t.hideDropdown()}show(){var t;d(this,rl).classList.remove("hidden"),(t=d(this,Uf))==null||t.shown()}async addAltText(t){const e=await t.render();D(this,In,df).call(this,e),d(this,ll).prepend(e,d(this,In,ny)),w(this,Uf,t)}addColorPicker(t){w(this,wo,t);const e=t.renderButton();D(this,In,df).call(this,e),d(this,ll).prepend(e,d(this,In,ny))}async addEditSignatureButton(t){const e=w(this,Hc,await t.renderEditButton(d(this,ds)));D(this,In,df).call(this,e),d(this,ll).prepend(e,d(this,In,ny))}updateEditSignatureButton(t){d(this,Hc)&&(d(this,Hc).title=t)}remove(){var t;d(this,rl).remove(),(t=d(this,wo))==null||t.destroy(),w(this,wo,null)}};rl=new WeakMap,wo=new WeakMap,ds=new WeakMap,ll=new WeakMap,Uf=new WeakMap,Hc=new WeakMap,Gf=new WeakMap,Yy=new WeakSet,tk=function(t){t.stopPropagation()},In=new WeakSet,ek=function(t){d(this,ds)._focusEventsAllowed=!1,nn(t)},nk=function(t){d(this,ds)._focusEventsAllowed=!0,nn(t)},df=function(t){const e=d(this,ds)._uiManager._signal;t.addEventListener("focusin",D(this,In,ek).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",D(this,In,nk).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ys,{signal:e})},ik=function(){const{editorType:t,_uiManager:e}=d(this,ds),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",d(qa,Gf)[t]),D(this,In,df).call(this,n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),d(this,ll).append(n)},ny=function(){const t=document.createElement("div");return t.className="divider",t},T(qa,Yy),T(qa,Gf,null);let tS=qa;var Vf,xo,Eo,Vl,sk,ak,rk;class fF{constructor(t){T(this,Vl);T(this,Vf,null);T(this,xo,null);T(this,Eo);w(this,Eo,t)}show(t,e,n){const[r,l]=D(this,Vl,ak).call(this,e,n),{style:u}=d(this,xo)||w(this,xo,D(this,Vl,sk).call(this));t.append(d(this,xo)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,xo).remove()}}Vf=new WeakMap,xo=new WeakMap,Eo=new WeakMap,Vl=new WeakSet,sk=function(){const t=w(this,xo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ys,{signal:d(this,Eo)._signal});const e=w(this,Vf,document.createElement("div"));return e.className="buttons",t.append(e),D(this,Vl,rk).call(this),t},ak=function(t,e){let n=0,r=0;for(const l of t){const u=l.y+l.height;if(u<n)continue;const c=l.x+(e?l.width:0);if(u>n){r=c,n=u;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,n]},rk=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=d(this,Eo)._signal;t.addEventListener("contextmenu",Ys,{signal:n}),t.addEventListener("click",()=>{d(this,Eo).highlightSelection("floating_button")},{signal:n}),d(this,Vf).append(t)};function Xw(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}var Xy;class pF{constructor(){T(this,Xy,0)}get id(){return`${W3}${ei(this,Xy)._++}`}}Xy=new WeakMap;var Uc,qf,Yn,Gc,iy;const sx=class sx{constructor(){T(this,Gc);T(this,Uc,ZD());T(this,qf,0);T(this,Yn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Qt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:n,size:r,type:l}=t;return D(this,Gc,iy).call(this,`${e}_${n}_${r}_${l}`,t)}async getFromUrl(t){return D(this,Gc,iy).call(this,t,t)}async getFromBlob(t,e){const n=await e;return D(this,Gc,iy).call(this,t,n)}async getFromId(t){d(this,Yn)||w(this,Yn,new Map);const e=d(this,Yn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,Yn)||w(this,Yn,new Map);let n=d(this,Yn).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${d(this,Uc)}_${ei(this,qf)._++}`,refCounter:1,isSvg:!1},d(this,Yn).set(t,n),d(this,Yn).set(n.id,n),n}getSvgUrl(t){const e=d(this,Yn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;d(this,Yn)||w(this,Yn,new Map);const e=d(this,Yn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(n.width,n.height);l.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=l.convertToBlob()}(r=n.close)==null||r.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,Uc)}_`)}};Uc=new WeakMap,qf=new WeakMap,Yn=new WeakMap,Gc=new WeakSet,iy=async function(t,e){d(this,Yn)||w(this,Yn,new Map);let n=d(this,Yn).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,Uc)}_${ei(this,qf)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(n.url=e,r=await bg(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=sx._isSVGFittingCanvas,u=new FileReader,c=new Image,f=new Promise((p,g)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,p()},u.onload=async()=>{const y=n.svgUrl=u.result;c.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},c.onerror=u.onerror=g});u.readAsDataURL(r),await f}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){zt(r),n=null}return d(this,Yn).set(t,n),n&&d(this,Yn).set(n.id,n),n};let eS=sx;var $e,ol,Yf,ze;class gF{constructor(t=128){T(this,$e,[]);T(this,ol,!1);T(this,Yf);T(this,ze,-1);w(this,Yf,t)}add({cmd:t,undo:e,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:c=!1}){if(r&&t(),d(this,ol))return;const f={cmd:t,undo:e,post:n,type:l};if(d(this,ze)===-1){d(this,$e).length>0&&(d(this,$e).length=0),w(this,ze,0),d(this,$e).push(f);return}if(u&&d(this,$e)[d(this,ze)].type===l){c&&(f.undo=d(this,$e)[d(this,ze)].undo),d(this,$e)[d(this,ze)]=f;return}const p=d(this,ze)+1;p===d(this,Yf)?d(this,$e).splice(0,1):(w(this,ze,p),p<d(this,$e).length&&d(this,$e).splice(p)),d(this,$e).push(f)}undo(){if(d(this,ze)===-1)return;w(this,ol,!0);const{undo:t,post:e}=d(this,$e)[d(this,ze)];t(),e==null||e(),w(this,ol,!1),w(this,ze,d(this,ze)-1)}redo(){if(d(this,ze)<d(this,$e).length-1){w(this,ze,d(this,ze)+1),w(this,ol,!0);const{cmd:t,post:e}=d(this,$e)[d(this,ze)];t(),e==null||e(),w(this,ol,!1)}}hasSomethingToUndo(){return d(this,ze)!==-1}hasSomethingToRedo(){return d(this,ze)<d(this,$e).length-1}cleanType(t){if(d(this,ze)!==-1){for(let e=d(this,ze);e>=0;e--)if(d(this,$e)[e].type!==t){d(this,$e).splice(e+1,d(this,ze)-e),w(this,ze,e);return}d(this,$e).length=0,w(this,ze,-1)}}destroy(){w(this,$e,null)}}$e=new WeakMap,ol=new WeakMap,Yf=new WeakMap,ze=new WeakMap;var $y,lk;class Ag{constructor(t){T(this,$y);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Fn.platform;for(const[n,r,l={}]of t)for(const u of n){const c=u.startsWith("mac+");e&&c?(this.callbacks.set(u.slice(4),{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1))):!e&&!c&&(this.callbacks.set(u,{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(D(this,$y,lk).call(this,e));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:u=[],checker:c=null}}=n;c&&!c(t,e)||(r.bind(t,...u,e)(),l||nn(e))}}$y=new WeakSet,lk=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Wy=class Wy{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return dF(t),Qt(this,"_colors",t)}convert(t){const e=Yw(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((l,u)=>l===e[u]))return Wy._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Et.makeHexColor(...e):t}};gt(Wy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let nS=Wy;var Vc,Ii,dn,kn,qc,Xa,Yc,fs,ul,cl,Xc,_o,sa,Ns,Co,Xf,$f,$c,Wf,aa,hl,Wc,dl,ra,Ky,fl,Kf,pl,To,Do,gl,Qf,vn,de,$a,ml,ko,Zf,Jf,yl,la,Wa,tp,ps,bt,sy,iS,ok,uk,ay,ck,hk,dk,sS,fk,aS,rS,pk,ni,Ga,gk,mk,lS,yk,ff,oS;const Lc=class Lc{constructor(t,e,n,r,l,u,c,f,p,g,y,b,A,x){T(this,bt);T(this,Vc,new AbortController);T(this,Ii,null);T(this,dn,new Map);T(this,kn,new Map);T(this,qc,null);T(this,Xa,null);T(this,Yc,null);T(this,fs,new gF);T(this,ul,null);T(this,cl,null);T(this,Xc,0);T(this,_o,new Set);T(this,sa,null);T(this,Ns,null);T(this,Co,new Set);gt(this,"_editorUndoBar",null);T(this,Xf,!1);T(this,$f,!1);T(this,$c,!1);T(this,Wf,null);T(this,aa,null);T(this,hl,null);T(this,Wc,null);T(this,dl,!1);T(this,ra,null);T(this,Ky,new pF);T(this,fl,!1);T(this,Kf,!1);T(this,pl,null);T(this,To,null);T(this,Do,null);T(this,gl,null);T(this,Qf,null);T(this,vn,Pt.NONE);T(this,de,new Set);T(this,$a,null);T(this,ml,null);T(this,ko,null);T(this,Zf,null);T(this,Jf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,yl,[0,0]);T(this,la,null);T(this,Wa,null);T(this,tp,null);T(this,ps,null);const S=this._signal=d(this,Vc).signal;w(this,Wa,t),w(this,tp,e),w(this,qc,n),w(this,ml,r),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",k=>this.updateParams(k.type,k.value),{signal:S}),D(this,bt,ck).call(this),D(this,bt,pk).call(this),D(this,bt,sS).call(this),w(this,Xa,u.annotationStorage),w(this,Wf,u.filterFactory),w(this,ko,c),w(this,Wc,f||null),w(this,Xf,p),w(this,$f,g),w(this,$c,y),w(this,Qf,b||null),this.viewParameters={realScale:Gl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=x!==!1}static get _keyboardManager(){const t=Lc.prototype,e=u=>d(u,Wa).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),n=(u,{target:c})=>{if(c instanceof HTMLInputElement){const{type:f}=c;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Qt(this,"_keyboardManager",new Ag([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&d(u,Wa).contains(c)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:c})=>!(c instanceof HTMLButtonElement)&&d(u,Wa).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,n,r,l,u,c,f;(t=d(this,ps))==null||t.resolve(),w(this,ps,null),(e=d(this,Vc))==null||e.abort(),w(this,Vc,null),this._signal=null;for(const p of d(this,kn).values())p.destroy();d(this,kn).clear(),d(this,dn).clear(),d(this,Co).clear(),(n=d(this,gl))==null||n.clear(),w(this,Ii,null),d(this,de).clear(),d(this,fs).destroy(),(r=d(this,qc))==null||r.destroy(),(l=d(this,ml))==null||l.destroy(),(u=d(this,ra))==null||u.hide(),w(this,ra,null),(c=d(this,Do))==null||c.destroy(),w(this,Do,null),d(this,aa)&&(clearTimeout(d(this,aa)),w(this,aa,null)),d(this,la)&&(clearTimeout(d(this,la)),w(this,la,null)),(f=this._editorUndoBar)==null||f.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,Qf)}get useNewAltTextFlow(){return d(this,$f)}get useNewAltTextWhenAddingImage(){return d(this,$c)}get hcmFilter(){return Qt(this,"hcmFilter",d(this,ko)?d(this,Wf).addHCMFilter(d(this,ko).foreground,d(this,ko).background):"none")}get direction(){return Qt(this,"direction",getComputedStyle(d(this,Wa)).direction)}get highlightColors(){return Qt(this,"highlightColors",d(this,Wc)?new Map(d(this,Wc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),w(this,cl,t)}setMainHighlightColorPicker(t){w(this,Do,t)}editAltText(t,e=!1){var n;(n=d(this,qc))==null||n.editAltText(this,t,e)}getSignature(t){var e;(e=d(this,ml))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return d(this,ml)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":w(this,$c,e);break}}onPageChanging({pageNumber:t}){w(this,Xc,t-1)}focusMainContainer(){d(this,Wa).focus()}findParent(t,e){for(const n of d(this,kn).values()){const{x:r,y:l,width:u,height:c}=n.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=l&&e<=l+c)return n}return null}disableUserSelect(t=!1){d(this,tp).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,Co).add(t)}removeShouldRescale(t){d(this,Co).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Gl.PDF_TO_CSS_UNITS;for(const n of d(this,Co))n.onScaleChanging();(e=d(this,cl))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:u}=e,c=e.toString(),p=D(this,bt,sy).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const y=D(this,bt,iS).call(this,p),b=d(this,vn)===Pt.NONE,A=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:u,text:c}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(Pt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,Xa)&&!d(this,Xa).has(t.id)&&d(this,Xa).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,dl)&&(w(this,dl,!1),D(this,bt,ay).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,de))if(e.div.contains(t)){w(this,To,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,To))return;const[t,e]=d(this,To);w(this,To,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){D(this,bt,sS).call(this),D(this,bt,aS).call(this)}removeEditListeners(){D(this,bt,fk).call(this),D(this,bt,rS).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of d(this,Ns))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of d(this,Ns))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=d(this,Ii))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of d(this,de)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const u of d(this,Ns))if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){zt(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of n){const p=await r.deserialize(f);if(!p)return;l.push(p)}const u=()=>{for(const f of l)D(this,bt,lS).call(this,f);D(this,bt,oS).call(this,l)},c=()=>{for(const f of l)f.remove()};this.addCommands({cmd:u,undo:c,mustExec:!0})}catch(l){zt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,vn)!==Pt.NONE&&!this.isEditorHandlingKeyboard&&Lc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,dl)&&(w(this,dl,!1),D(this,bt,ay).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(D(this,bt,hk).call(this),D(this,bt,aS).call(this),D(this,bt,ni).call(this,{isEditing:d(this,vn)!==Pt.NONE,isEmpty:D(this,bt,ff).call(this),hasSomethingToUndo:d(this,fs).hasSomethingToUndo(),hasSomethingToRedo:d(this,fs).hasSomethingToRedo(),hasSelectedEditor:!1})):(D(this,bt,dk).call(this),D(this,bt,rS).call(this),D(this,bt,ni).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,Ns)){w(this,Ns,t);for(const e of d(this,Ns))D(this,bt,Ga).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,Ky).id}get currentLayer(){return d(this,kn).get(d(this,Xc))}getLayer(t){return d(this,kn).get(t)}get currentPageIndex(){return d(this,Xc)}addLayer(t){d(this,kn).set(t.pageIndex,t),d(this,fl)?t.enable():t.disable()}removeLayer(t){d(this,kn).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){var r,l,u;if(d(this,vn)!==t&&!(d(this,ps)&&(await d(this,ps).promise,!d(this,ps)))){if(w(this,ps,Promise.withResolvers()),(r=d(this,cl))==null||r.commitOrRemove(),w(this,vn,t),t===Pt.NONE){this.setEditingState(!1),D(this,bt,mk).call(this),(l=this._editorUndoBar)==null||l.hide(),d(this,ps).resolve();return}t===Pt.SIGNATURE&&await((u=d(this,ml))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await D(this,bt,gk).call(this),this.unselectAll();for(const c of d(this,kn).values())c.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),d(this,ps).resolve();return}for(const c of d(this,dn).values())c.annotationElementId===e?(this.setSelected(c),c.enterInEditMode()):c.unselect();d(this,ps).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,vn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(d(this,Ns)){switch(t){case Jt.CREATE:this.currentLayer.addNewEditor(e);return;case Jt.HIGHLIGHT_DEFAULT_COLOR:(n=d(this,Do))==null||n.updateColor(e);break;case Jt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Zf)||w(this,Zf,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of d(this,de))r.updateParams(t,e);for(const r of d(this,Ns))r.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var l;for(const u of d(this,dn).values())u.editorType===t&&u.show(e);(((l=d(this,Zf))==null?void 0:l.get(Jt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&D(this,bt,Ga).call(this,[[Jt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,Kf)!==t){w(this,Kf,t);for(const e of d(this,kn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of d(this,dn).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return d(this,dn).get(t)}addEditor(t){d(this,dn).set(t.id,t)}removeEditor(t){var e,n;t.div.contains(document.activeElement)&&(d(this,aa)&&clearTimeout(d(this,aa)),w(this,aa,setTimeout(()=>{this.focusMainContainer(),w(this,aa,null)},0))),d(this,dn).delete(t.id),t.annotationElementId&&((e=d(this,gl))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!d(this,_o).has(t.annotationElementId))&&((n=d(this,Xa))==null||n.remove(t.id))}addDeletedAnnotationElement(t){d(this,_o).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,_o).has(t)}removeDeletedAnnotationElement(t){d(this,_o).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,Ii)!==t&&(w(this,Ii,t),t&&D(this,bt,Ga).call(this,t.propertiesToUpdate))}updateUI(t){d(this,bt,yk)===t&&D(this,bt,Ga).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){D(this,bt,Ga).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(d(this,de).has(t)){d(this,de).delete(t),t.unselect(),D(this,bt,ni).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,de).add(t),t.select(),D(this,bt,Ga).call(this,t.propertiesToUpdate),D(this,bt,ni).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=d(this,cl))==null||e.commitOrRemove();for(const n of d(this,de))n!==t&&n.unselect();d(this,de).clear(),d(this,de).add(t),t.select(),D(this,bt,Ga).call(this,t.propertiesToUpdate),D(this,bt,ni).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,de).has(t)}get firstSelectedEditor(){return d(this,de).values().next().value}unselect(t){t.unselect(),d(this,de).delete(t),D(this,bt,ni).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,de).size!==0}get isEnterHandled(){return d(this,de).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;d(this,fs).undo(),D(this,bt,ni).call(this,{hasSomethingToUndo:d(this,fs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:D(this,bt,ff).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){d(this,fs).redo(),D(this,bt,ni).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,fs).hasSomethingToRedo(),isEmpty:D(this,bt,ff).call(this)})}addCommands(t){d(this,fs).add(t),D(this,bt,ni).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:D(this,bt,ff).call(this)})}cleanUndoStack(t){d(this,fs).cleanType(t)}delete(){var l;this.commitOrRemove();const t=(l=this.currentLayer)==null?void 0:l.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...d(this,de)],n=()=>{var u;(u=this._editorUndoBar)==null||u.show(r,e.length===1?e[0].editorType:e.length);for(const c of e)c.remove()},r=()=>{for(const u of e)D(this,bt,lS).call(this,u)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var t;(t=d(this,Ii))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,Ii)||this.hasSelection}selectAll(){for(const t of d(this,de))t.commit();D(this,bt,oS).call(this,d(this,dn).values())}unselectAll(){var t;if(!(d(this,Ii)&&(d(this,Ii).commitOrRemove(),d(this,vn)!==Pt.NONE))&&!((t=d(this,cl))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of d(this,de))e.unselect();d(this,de).clear(),D(this,bt,ni).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,yl)[0]+=t,d(this,yl)[1]+=e;const[r,l]=d(this,yl),u=[...d(this,de)],c=1e3;d(this,la)&&clearTimeout(d(this,la)),w(this,la,setTimeout(()=>{w(this,la,null),d(this,yl)[0]=d(this,yl)[1]=0,this.addCommands({cmd:()=>{for(const f of u)d(this,dn).has(f.id)&&(f.translateInPage(r,l),f.translationDone())},undo:()=>{for(const f of u)d(this,dn).has(f.id)&&(f.translateInPage(-r,-l),f.translationDone())},mustExec:!1})},c));for(const f of u)f.translateInPage(t,e),f.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,sa,new Map);for(const t of d(this,de))d(this,sa).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,sa))return!1;this.disableUserSelect(!1);const t=d(this,sa);w(this,sa,null);let e=!1;for(const[{x:r,y:l,pageIndex:u},c]of t)c.newX=r,c.newY=l,c.newPageIndex=u,e||(e=r!==c.savedX||l!==c.savedY||u!==c.savedPageIndex);if(!e)return!1;const n=(r,l,u,c)=>{if(d(this,dn).has(r.id)){const f=d(this,kn).get(c);f?r._setParentAndPosition(f,l,u):(r.pageIndex=c,r.x=l,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:u,newPageIndex:c}]of t)n(r,l,u,c)},undo:()=>{for(const[r,{savedX:l,savedY:u,savedPageIndex:c}]of t)n(r,l,u,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,sa))for(const n of d(this,sa).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,de).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,Ii)===t}getActive(){return d(this,Ii)}getMode(){return d(this,vn)}get imageManager(){return Qt(this,"imageManager",new eS)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:u}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(p,g,y,b)=>({x:(g-r)/u,y:1-(p+y-n)/l,width:b/u,height:y/l});break;case"180":c=(p,g,y,b)=>({x:1-(p+y-n)/l,y:1-(g+b-r)/u,width:y/l,height:b/u});break;case"270":c=(p,g,y,b)=>({x:1-(g+b-r)/u,y:(p-n)/l,width:b/u,height:y/l});break;default:c=(p,g,y,b)=>({x:(p-n)/l,y:(g-r)/u,width:y/l,height:b/u});break}const f=[];for(let p=0,g=e.rangeCount;p<g;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:b,y:A,width:x,height:S}of y.getClientRects())x===0||S===0||f.push(c(b,A,x,S))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Yc)||w(this,Yc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Yc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=d(this,Yc))==null?void 0:r.get(t.data.id);if(!e)return;const n=d(this,Xa).getRawValue(e);n&&(d(this,vn)===Pt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){var l;const r=(l=d(this,gl))==null?void 0:l.get(t);r&&(r.setCanvas(e,n),d(this,gl).delete(t))}addMissingCanvas(t,e){(d(this,gl)||w(this,gl,new Map)).set(t,e)}};Vc=new WeakMap,Ii=new WeakMap,dn=new WeakMap,kn=new WeakMap,qc=new WeakMap,Xa=new WeakMap,Yc=new WeakMap,fs=new WeakMap,ul=new WeakMap,cl=new WeakMap,Xc=new WeakMap,_o=new WeakMap,sa=new WeakMap,Ns=new WeakMap,Co=new WeakMap,Xf=new WeakMap,$f=new WeakMap,$c=new WeakMap,Wf=new WeakMap,aa=new WeakMap,hl=new WeakMap,Wc=new WeakMap,dl=new WeakMap,ra=new WeakMap,Ky=new WeakMap,fl=new WeakMap,Kf=new WeakMap,pl=new WeakMap,To=new WeakMap,Do=new WeakMap,gl=new WeakMap,Qf=new WeakMap,vn=new WeakMap,de=new WeakMap,$a=new WeakMap,ml=new WeakMap,ko=new WeakMap,Zf=new WeakMap,Jf=new WeakMap,yl=new WeakMap,la=new WeakMap,Wa=new WeakMap,tp=new WeakMap,ps=new WeakMap,bt=new WeakSet,sy=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},iS=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of d(this,kn).values())if(n.hasTextLayer(t))return n;return null},ok=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=D(this,bt,sy).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(d(this,ra)||w(this,ra,new fF(this)),d(this,ra).show(n,r,this.direction==="ltr"))},uk=function(){var l,u,c;const t=document.getSelection();if(!t||t.isCollapsed){d(this,$a)&&((l=d(this,ra))==null||l.hide(),w(this,$a,null),D(this,bt,ni).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,$a))return;const r=D(this,bt,sy).call(this,t).closest(".textLayer");if(!r){d(this,$a)&&((u=d(this,ra))==null||u.hide(),w(this,$a,null),D(this,bt,ni).call(this,{hasSelectedText:!1}));return}if((c=d(this,ra))==null||c.hide(),w(this,$a,e),D(this,bt,ni).call(this,{hasSelectedText:!0}),!(d(this,vn)!==Pt.HIGHLIGHT&&d(this,vn)!==Pt.NONE)&&(d(this,vn)===Pt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,dl,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,vn)===Pt.HIGHLIGHT?D(this,bt,iS).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),y=b=>{b.type==="pointerup"&&b.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),b.type==="pointerup"&&D(this,bt,ay).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},ay=function(t=""){d(this,vn)===Pt.HIGHLIGHT?this.highlightSelection(t):d(this,Xf)&&D(this,bt,ok).call(this)},ck=function(){document.addEventListener("selectionchange",D(this,bt,uk).bind(this),{signal:this._signal})},hk=function(){if(d(this,hl))return;w(this,hl,new AbortController);const t=this.combinedSignal(d(this,hl));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},dk=function(){var t;(t=d(this,hl))==null||t.abort(),w(this,hl,null)},sS=function(){if(d(this,pl))return;w(this,pl,new AbortController);const t=this.combinedSignal(d(this,pl));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},fk=function(){var t;(t=d(this,pl))==null||t.abort(),w(this,pl,null)},aS=function(){if(d(this,ul))return;w(this,ul,new AbortController);const t=this.combinedSignal(d(this,ul));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},rS=function(){var t;(t=d(this,ul))==null||t.abort(),w(this,ul,null)},pk=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},ni=function(t){Object.entries(t).some(([n,r])=>d(this,Jf)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Jf),t)}),d(this,vn)===Pt.HIGHLIGHT&&t.hasSelectedEditor===!1&&D(this,bt,Ga).call(this,[[Jt.HIGHLIGHT_FREE,!0]]))},Ga=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},gk=async function(){if(!d(this,fl)){w(this,fl,!0);const t=[];for(const e of d(this,kn).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,dn).values())e.enable()}},mk=function(){if(this.unselectAll(),d(this,fl)){w(this,fl,!1);for(const t of d(this,kn).values())t.disable();for(const t of d(this,dn).values())t.disable()}},lS=function(t){const e=d(this,kn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},yk=function(){let t=null;for(t of d(this,de));return t},ff=function(){if(d(this,dn).size===0)return!0;if(d(this,dn).size===1)for(const t of d(this,dn).values())return t.isEmpty();return!1},oS=function(t){for(const e of d(this,de))e.unselect();d(this,de).clear();for(const e of t)e.isEmpty()||(d(this,de).add(e),e.select());D(this,bt,ni).call(this,{hasSelectedEditor:this.hasSelection})},gt(Lc,"TRANSLATE_SMALL",1),gt(Lc,"TRANSLATE_BIG",10);let ku=Lc;var An,oa,Os,Kc,ua,Fi,Qc,ca,Si,Ka,Ro,ha,bl,Vs,pf,ry;const ii=class ii{constructor(t){T(this,Vs);T(this,An,null);T(this,oa,!1);T(this,Os,null);T(this,Kc,null);T(this,ua,null);T(this,Fi,null);T(this,Qc,!1);T(this,ca,null);T(this,Si,null);T(this,Ka,null);T(this,Ro,null);T(this,ha,!1);w(this,Si,t),w(this,ha,t._uiManager.useNewAltTextFlow),d(ii,bl)||w(ii,bl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ii._l10n??(ii._l10n=t)}async render(){const t=w(this,Os,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=w(this,Kc,document.createElement("span"));t.append(e),d(this,ha)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(ii,bl).missing),e.setAttribute("data-l10n-id",d(ii,bl)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,Si)._uiManager._signal;t.addEventListener("contextmenu",Ys,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),d(this,Si)._uiManager.editAltText(d(this,Si)),d(this,ha)&&d(this,Si)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Vs,pf)}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(w(this,Qc,!0),r(l))},{signal:n}),await D(this,Vs,ry).call(this),t}finish(){d(this,Os)&&(d(this,Os).focus({focusVisible:d(this,Qc)}),w(this,Qc,!1))}isEmpty(){return d(this,ha)?d(this,An)===null:!d(this,An)&&!d(this,oa)}hasData(){return d(this,ha)?d(this,An)!==null||!!d(this,Ka):this.isEmpty()}get guessedText(){return d(this,Ka)}async setGuessedText(t){d(this,An)===null&&(w(this,Ka,t),w(this,Ro,await ii._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),D(this,Vs,ry).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,ha)||d(this,An)){(e=d(this,ca))==null||e.remove(),w(this,ca,null);return}if(!d(this,ca)){const n=w(this,ca,document.createElement("div"));n.className="noAltTextBadge",d(this,Si).div.append(n)}d(this,ca).classList.toggle("hidden",!t)}serialize(t){let e=d(this,An);return!t&&d(this,Ka)===e&&(e=d(this,Ro)),{altText:e,decorative:d(this,oa),guessedText:d(this,Ka),textWithDisclaimer:d(this,Ro)}}get data(){return{altText:d(this,An),decorative:d(this,oa)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(w(this,Ka,n),w(this,Ro,r)),!(d(this,An)===t&&d(this,oa)===e)&&(l||(w(this,An,t),w(this,oa,e)),D(this,Vs,ry).call(this))}toggle(t=!1){d(this,Os)&&(!t&&d(this,Fi)&&(clearTimeout(d(this,Fi)),w(this,Fi,null)),d(this,Os).disabled=!t)}shown(){d(this,Si)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Vs,pf)}})}destroy(){var t,e;(t=d(this,Os))==null||t.remove(),w(this,Os,null),w(this,Kc,null),w(this,ua,null),(e=d(this,ca))==null||e.remove(),w(this,ca,null)}};An=new WeakMap,oa=new WeakMap,Os=new WeakMap,Kc=new WeakMap,ua=new WeakMap,Fi=new WeakMap,Qc=new WeakMap,ca=new WeakMap,Si=new WeakMap,Ka=new WeakMap,Ro=new WeakMap,ha=new WeakMap,bl=new WeakMap,Vs=new WeakSet,pf=function(){return d(this,An)&&"added"||d(this,An)===null&&this.guessedText&&"review"||"missing"},ry=async function(){var r,l,u;const t=d(this,Os);if(!t)return;if(d(this,ha)){if(t.classList.toggle("done",!!d(this,An)),t.setAttribute("data-l10n-id",d(ii,bl)[d(this,Vs,pf)]),(r=d(this,Kc))==null||r.setAttribute("data-l10n-id",d(ii,bl)[`${d(this,Vs,pf)}-label`]),!d(this,An)){(l=d(this,ua))==null||l.remove();return}}else{if(!d(this,An)&&!d(this,oa)){t.classList.remove("done"),(u=d(this,ua))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,ua);if(!e){w(this,ua,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Si).id}`;const c=100,f=d(this,Si)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,Fi)),w(this,Fi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{w(this,Fi,setTimeout(()=>{w(this,Fi,null),d(this,ua).classList.add("show"),d(this,Si)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;d(this,Fi)&&(clearTimeout(d(this,Fi)),w(this,Fi,null)),(p=d(this,ua))==null||p.classList.remove("show")},{signal:f})}d(this,oa)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,An)),e.parentNode||t.append(e);const n=d(this,Si).getElementForAltText();n==null||n.setAttribute("aria-describedby",e.id)},T(ii,bl,null),gt(ii,"_l10n",null);let Iy=ii;var Zc,Mo,ep,np,ip,sp,ap,Qa,No,Za,Oo,Ja,ql,bk,vk,Ak;const ax=class ax{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:l=null,onPinchEnd:u=null,signal:c}){T(this,ql);T(this,Zc);T(this,Mo,!1);T(this,ep,null);T(this,np);T(this,ip);T(this,sp);T(this,ap);T(this,Qa,null);T(this,No);T(this,Za,null);T(this,Oo);T(this,Ja,null);w(this,Zc,t),w(this,ep,n),w(this,np,e),w(this,ip,r),w(this,sp,l),w(this,ap,u),w(this,Oo,new AbortController),w(this,No,AbortSignal.any([c,d(this,Oo).signal])),t.addEventListener("touchstart",D(this,ql,bk).bind(this),{passive:!1,signal:d(this,No)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/_r.pixelRatio}destroy(){var t,e;(t=d(this,Oo))==null||t.abort(),w(this,Oo,null),(e=d(this,Qa))==null||e.abort(),w(this,Qa,null)}};Zc=new WeakMap,Mo=new WeakMap,ep=new WeakMap,np=new WeakMap,ip=new WeakMap,sp=new WeakMap,ap=new WeakMap,Qa=new WeakMap,No=new WeakMap,Za=new WeakMap,Oo=new WeakMap,Ja=new WeakMap,ql=new WeakSet,bk=function(t){var r,l,u;if((r=d(this,np))!=null&&r.call(this))return;if(t.touches.length===1){if(d(this,Qa))return;const c=w(this,Qa,new AbortController),f=AbortSignal.any([d(this,No),c.signal]),p=d(this,Zc),g={capture:!0,signal:f,passive:!1},y=b=>{var A;b.pointerType==="touch"&&((A=d(this,Qa))==null||A.abort(),w(this,Qa,null))};p.addEventListener("pointerdown",b=>{b.pointerType==="touch"&&(nn(b),y(b))},g),p.addEventListener("pointerup",y,g),p.addEventListener("pointercancel",y,g);return}if(!d(this,Ja)){w(this,Ja,new AbortController);const c=AbortSignal.any([d(this,No),d(this,Ja).signal]),f=d(this,Zc),p={signal:c,capture:!1,passive:!1};f.addEventListener("touchmove",D(this,ql,vk).bind(this),p);const g=D(this,ql,Ak).bind(this);f.addEventListener("touchend",g,p),f.addEventListener("touchcancel",g,p),p.capture=!0,f.addEventListener("pointerdown",nn,p),f.addEventListener("pointermove",nn,p),f.addEventListener("pointercancel",nn,p),f.addEventListener("pointerup",nn,p),(l=d(this,ip))==null||l.call(this)}if(nn(t),t.touches.length!==2||(u=d(this,ep))!=null&&u.call(this)){w(this,Za,null);return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),w(this,Za,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY})},vk=function(t){var z;if(!d(this,Za)||t.touches.length!==2)return;nn(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:l}=e,{screenX:u,screenY:c}=n,f=d(this,Za),{touch0X:p,touch0Y:g,touch1X:y,touch1Y:b}=f,A=y-p,x=b-g,S=u-r,k=c-l,C=Math.hypot(S,k)||1,O=Math.hypot(A,x)||1;if(!d(this,Mo)&&Math.abs(O-C)<=ax.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(f.touch0X=r,f.touch0Y=l,f.touch1X=u,f.touch1Y=c,!d(this,Mo)){w(this,Mo,!0);return}const N=[(r+u)/2,(l+c)/2];(z=d(this,sp))==null||z.call(this,N,O,C)},Ak=function(t){var e;t.touches.length>=2||(d(this,Ja)&&(d(this,Ja).abort(),w(this,Ja,null),(e=d(this,ap))==null||e.call(this)),d(this,Za)&&(nn(t),w(this,Za,null),w(this,Mo,!1)))};let Fy=ax;var Lo,Ls,ke,Jc,vl,rp,Po,Rn,zo,tr,Al,lp,Io,Bi,op,Fo,er,da,th,eh,gs,Bo,up,Qy,Mt,uS,cp,cS,ly,Sk,wk,hS,oy,dS,xk,Ek,_k,fS,Ck,pS,Tk,Dk,kk,gS,gf;const Ut=class Ut{constructor(t){T(this,Mt);T(this,Lo,null);T(this,Ls,null);T(this,ke,null);T(this,Jc,!1);T(this,vl,null);T(this,rp,"");T(this,Po,!1);T(this,Rn,null);T(this,zo,null);T(this,tr,null);T(this,Al,null);T(this,lp,"");T(this,Io,!1);T(this,Bi,null);T(this,op,!1);T(this,Fo,!1);T(this,er,!1);T(this,da,null);T(this,th,0);T(this,eh,0);T(this,gs,null);T(this,Bo,null);gt(this,"_isCopy",!1);gt(this,"_editToolbar",null);gt(this,"_initialOptions",Object.create(null));gt(this,"_initialData",null);gt(this,"_isVisible",!0);gt(this,"_uiManager",null);gt(this,"_focusEventsAllowed",!0);T(this,up,!1);T(this,Qy,Ut._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,u];const[c,f]=this.parentDimensions;this.x=t.x/c,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ut.prototype._resizeWithKeyboard,e=ku.TRANSLATE_SMALL,n=ku.TRANSLATE_BIG;return Qt(this,"_resizerKeyboardManager",new Ag([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Ut.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new mF({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ut._l10n??(Ut._l10n=t),Ut._l10nResizer||(Ut._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ut._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ut._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,up)}set _isDraggable(t){var e;w(this,up,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Qy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):D(this,Mt,gf).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Io)?w(this,Io,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[l,u]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(e+r)/u,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}translate(t,e){D(this,Mt,uS).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,Bi)||w(this,Bi,[this.x,this.y,this.width,this.height]),D(this,Mt,uS).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){d(this,Bi)||w(this,Bi,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[r,l]}=this;if(this.x+=t/r,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:u,y:c}=this;const[f,p]=this.getBaseTranslation();u+=f,c+=p;const{style:g}=n;g.left=`${(100*u).toFixed(2)}%`,g.top=`${(100*c).toFixed(2)}%`,this._onTranslating(u,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!d(this,Bi)&&(d(this,Bi)[0]!==this.x||d(this,Bi)[1]!==this.y)}get _hasBeenResized(){return!!d(this,Bi)&&(d(this,Bi)[2]!==this.width||d(this,Bi)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Ut,r=n/t,l=n/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:l,y:u,width:c,height:f}=this;if(c*=n,f*=r,l*=n,u*=r,this._mustFixPosition)switch(t){case 0:l=oi(l,0,n-c),u=oi(u,0,r-f);break;case 90:l=oi(l,0,n-f),u=oi(u,c,r);break;case 180:l=oi(l,c,n),u=oi(u,f,r);break;case 270:l=oi(l,f,n),u=oi(u,0,r-c);break}this.x=l/=n,this.y=u/=r;const[p,g]=this.getBaseTranslation();l+=p,u+=g,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*u).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return D(n=Ut,cp,cS).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return D(n=Ut,cp,cS).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/n).toFixed(2)}%`,d(this,Po)||(l.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),l=!d(this,Po)&&e.endsWith("%");if(r&&l)return;const[u,c]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/u).toFixed(2)}%`),!d(this,Po)&&!l&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=d(this,ke))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,Fo)?this._editToolbar:(this._editToolbar=new tS(this),this.div.append(this._editToolbar.render()),d(this,ke)&&await this._editToolbar.addAltText(d(this,ke)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,ke))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,ke)||(Iy.initialize(Ut._l10n),w(this,ke,new Iy(this)),d(this,Lo)&&(d(this,ke).data=d(this,Lo),w(this,Lo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,ke))==null?void 0:t.data}set altTextData(t){d(this,ke)&&(d(this,ke).data=t)}get guessedAltText(){var t;return(t=d(this,ke))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,ke))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,ke))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,ke)&&!d(this,ke).isEmpty()}hasAltTextData(){var t;return((t=d(this,ke))==null?void 0:t.hasData())??!1}render(){var u;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=d(this,Jc)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),D(this,Mt,pS).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,l]=this.getInitialTranslation();return this.translate(r,l),Xw(this,t,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,Bo)||w(this,Bo,new Fy({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:D(this,Mt,xk).bind(this),onPinching:D(this,Mt,Ek).bind(this),onPinchEnd:D(this,Mt,_k).bind(this),signal:this._uiManager._signal}))),(u=this._uiManager._editorUndoBar)==null||u.hide(),t}pointerdown(t){const{isMac:e}=Fn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(w(this,Io,!0),this._isDraggable){D(this,Mt,Ck).call(this,t);return}D(this,Mt,fS).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,da)&&clearTimeout(d(this,da)),w(this,da,setTimeout(()=>{var t;w(this,da,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[l,u]=this.pageDimensions,[c,f]=this.pageTranslation,p=t/r,g=e/r,y=this.x*l,b=this.y*u,A=this.width*l,x=this.height*u;switch(n){case 0:return[y+p+c,u-b-g-x+f,y+p+A+c,u-b-g+f];case 90:return[y+g+c,u-b+p+f,y+g+x+c,u-b+p+A+f];case 180:return[y-p-A+c,u-b+g+f,y-p+c,u-b+g+x+f];case 270:return[y-g-x+c,u-b-p-A+f,y-g+c,u-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,l,u]=t,c=l-n,f=u-r;switch(this.rotation){case 0:return[n,e-u,c,f];case 90:return[n,e-r,f,c];case 180:return[l,e-r,c,f];case 270:return[l,e-u,f,c];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){w(this,Fo,!0)}disableEditMode(){w(this,Fo,!1)}isInEditMode(){return d(this,Fo)}shouldGetKeyboardEvents(){return d(this,er)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:l,innerWidth:u}=window;return e<u&&r>0&&t<l&&n>0}rebuild(){D(this,Mt,pS).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Ae("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,w(r,Lo,t.accessibilityData),r._isCopy=t.isCopy||!1;const[l,u]=r.pageDimensions,[c,f,p,g]=r.getRectInCurrentCoords(t.rect,u);return r.x=c/l,r.y=f/u,r.width=p/l,r.height=g/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=d(this,Al))==null||t.abort(),w(this,Al,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,da)&&(clearTimeout(d(this,da)),w(this,da,null)),D(this,Mt,gf).call(this),this.removeEditToolbar(),d(this,gs)){for(const n of d(this,gs).values())clearTimeout(n);w(this,gs,null)}this.parent=null,(e=d(this,Bo))==null||e.destroy(),w(this,Bo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(D(this,Mt,Sk).call(this),d(this,Rn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),w(this,tr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,Rn).children;if(!d(this,Ls)){w(this,Ls,Array.from(e));const u=D(this,Mt,Tk).bind(this),c=D(this,Mt,Dk).bind(this),f=this._uiManager._signal;for(const p of d(this,Ls)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",c,{signal:f}),p.addEventListener("focus",D(this,Mt,kk).bind(this,g),{signal:f}),p.setAttribute("data-l10n-id",Ut._l10nResizer[g])}}const n=d(this,Ls)[0];let r=0;for(const u of e){if(u===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,Ls).length/4);if(l!==r){if(l<r)for(let c=0;c<r-l;c++)d(this,Rn).append(d(this,Rn).firstChild);else if(l>r)for(let c=0;c<l-r;c++)d(this,Rn).firstChild.before(d(this,Rn).lastChild);let u=0;for(const c of e){const p=d(this,Ls)[u++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ut._l10nResizer[p])}}D(this,Mt,gS).call(this,0),w(this,er,!0),d(this,Rn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,er)&&D(this,Mt,dS).call(this,d(this,lp),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){D(this,Mt,gf).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(n=d(this,ke))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,r,l;(t=d(this,Rn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=d(this,ke))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,op)}set isEditing(t){w(this,op,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){w(this,Po,!0);const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,gs)||w(this,gs,new Map);const{action:n}=t;let r=d(this,gs).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),d(this,gs).delete(n),d(this,gs).size===0&&w(this,gs,null)},Ut._telemetryTimeout),d(this,gs).set(n,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),w(this,Jc,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,Jc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Lo=new WeakMap,Ls=new WeakMap,ke=new WeakMap,Jc=new WeakMap,vl=new WeakMap,rp=new WeakMap,Po=new WeakMap,Rn=new WeakMap,zo=new WeakMap,tr=new WeakMap,Al=new WeakMap,lp=new WeakMap,Io=new WeakMap,Bi=new WeakMap,op=new WeakMap,Fo=new WeakMap,er=new WeakMap,da=new WeakMap,th=new WeakMap,eh=new WeakMap,gs=new WeakMap,Bo=new WeakMap,up=new WeakMap,Qy=new WeakMap,Mt=new WeakSet,uS=function([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},cp=new WeakSet,cS=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},ly=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},Sk=function(){if(d(this,Rn))return;w(this,Rn,document.createElement("div")),d(this,Rn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");d(this,Rn).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",D(this,Mt,wk).bind(this,n),{signal:e}),r.addEventListener("contextmenu",Ys,{signal:e}),r.tabIndex=-1}this.div.prepend(d(this,Rn))},wk=function(t,e){var g;e.preventDefault();const{isMac:n}=Fn.platform;if(e.button!==0||e.ctrlKey&&n)return;(g=d(this,ke))==null||g.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,w(this,zo,[e.screenX,e.screenY]);const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",D(this,Mt,dS).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("touchmove",nn,{passive:!1,signal:u}),window.addEventListener("contextmenu",Ys,{signal:u}),w(this,tr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const c=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var y;l.abort(),this.parent.togglePointerEvents(!0),(y=d(this,ke))==null||y.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=f,D(this,Mt,oy).call(this)};window.addEventListener("pointerup",p,{signal:u}),window.addEventListener("blur",p,{signal:u})},hS=function(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[l,u]=this.parentDimensions;this.setDims(l*n,u*r),this.fixAndSetPosition(),this._onResized()},oy=function(){if(!d(this,tr))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=d(this,tr);w(this,tr,null);const l=this.x,u=this.y,c=this.width,f=this.height;l===t&&u===e&&c===n&&f===r||this.addCommands({cmd:D(this,Mt,hS).bind(this,l,u,c,f),undo:D(this,Mt,hS).bind(this,t,e,n,r),mustExec:!0})},dS=function(t,e){const[n,r]=this.parentDimensions,l=this.x,u=this.y,c=this.width,f=this.height,p=Ut.MIN_SIZE/n,g=Ut.MIN_SIZE/r,y=D(this,Mt,ly).call(this,this.rotation),b=(B,q)=>[y[0]*B+y[2]*q,y[1]*B+y[3]*q],A=D(this,Mt,ly).call(this,360-this.rotation),x=(B,q)=>[A[0]*B+A[2]*q,A[1]*B+A[3]*q];let S,k,C=!1,O=!1;switch(t){case"topLeft":C=!0,S=(B,q)=>[0,0],k=(B,q)=>[B,q];break;case"topMiddle":S=(B,q)=>[B/2,0],k=(B,q)=>[B/2,q];break;case"topRight":C=!0,S=(B,q)=>[B,0],k=(B,q)=>[0,q];break;case"middleRight":O=!0,S=(B,q)=>[B,q/2],k=(B,q)=>[0,q/2];break;case"bottomRight":C=!0,S=(B,q)=>[B,q],k=(B,q)=>[0,0];break;case"bottomMiddle":S=(B,q)=>[B/2,q],k=(B,q)=>[B/2,0];break;case"bottomLeft":C=!0,S=(B,q)=>[0,q],k=(B,q)=>[B,0];break;case"middleLeft":O=!0,S=(B,q)=>[0,q/2],k=(B,q)=>[B,q/2];break}const N=S(c,f),z=k(c,f);let P=b(...z);const L=Ut._round(l+P[0]),j=Ut._round(u+P[1]);let W=1,Q=1,it,X;if(e.fromKeyboard)({deltaX:it,deltaY:X}=e);else{const{screenX:B,screenY:q}=e,[yt,xt]=d(this,zo);[it,X]=this.screenToPageTranslation(B-yt,q-xt),d(this,zo)[0]=B,d(this,zo)[1]=q}if([it,X]=x(it/n,X/r),C){const B=Math.hypot(c,f);W=Q=Math.max(Math.min(Math.hypot(z[0]-N[0]-it,z[1]-N[1]-X)/B,1/c,1/f),p/c,g/f)}else O?W=oi(Math.abs(z[0]-N[0]-it),p,1)/c:Q=oi(Math.abs(z[1]-N[1]-X),g,1)/f;const Z=Ut._round(c*W),ct=Ut._round(f*Q);P=b(...k(Z,ct));const J=L-P[0],ht=j-P[1];d(this,Bi)||w(this,Bi,[this.x,this.y,this.width,this.height]),this.width=Z,this.height=ct,this.x=J,this.y=ht,this.setDims(n*Z,r*ct),this.fixAndSetPosition(),this._onResizing()},xk=function(){var t;w(this,tr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=d(this,ke))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},Ek=function(t,e,n){let l=.7*(n/e)+1-.7;if(l===1)return;const u=D(this,Mt,ly).call(this,this.rotation),c=(L,j)=>[u[0]*L+u[2]*j,u[1]*L+u[3]*j],[f,p]=this.parentDimensions,g=this.x,y=this.y,b=this.width,A=this.height,x=Ut.MIN_SIZE/f,S=Ut.MIN_SIZE/p;l=Math.max(Math.min(l,1/b,1/A),x/b,S/A);const k=Ut._round(b*l),C=Ut._round(A*l);if(k===b&&C===A)return;d(this,Bi)||w(this,Bi,[g,y,b,A]);const O=c(b/2,A/2),N=Ut._round(g+O[0]),z=Ut._round(y+O[1]),P=c(k/2,C/2);this.x=N-P[0],this.y=z-P[1],this.width=k,this.height=C,this.setDims(f*k,p*C),this.fixAndSetPosition(),this._onResizing()},_k=function(){var t;(t=d(this,ke))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),D(this,Mt,oy).call(this)},fS=function(t){const{isMac:e}=Fn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Ck=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,l=this._uiManager.combinedSignal(r),u={capture:!0,passive:!1,signal:l},c=p=>{r.abort(),w(this,vl,null),w(this,Io,!1),this._uiManager.endDragSession()||D(this,Mt,fS).call(this,p),n&&this._onStopDragging()};e&&(w(this,th,t.clientX),w(this,eh,t.clientY),w(this,vl,t.pointerId),w(this,rp,t.pointerType),window.addEventListener("pointermove",p=>{n||(n=!0,this._onStartDragging());const{clientX:g,clientY:y,pointerId:b}=p;if(b!==d(this,vl)){nn(p);return}const[A,x]=this.screenToPageTranslation(g-d(this,th),y-d(this,eh));w(this,th,g),w(this,eh,y),this._uiManager.dragSelectedEditors(A,x)},u),window.addEventListener("touchmove",nn,u),window.addEventListener("pointerdown",p=>{p.pointerType===d(this,rp)&&(d(this,Bo)||p.isPrimary)&&c(p),nn(p)},u));const f=p=>{if(!d(this,vl)||d(this,vl)===p.pointerId){c(p);return}nn(p)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},pS=function(){if(d(this,Al)||!this.div)return;w(this,Al,new AbortController);const t=this._uiManager.combinedSignal(d(this,Al));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Tk=function(t){Ut._resizerKeyboardManager.exec(this,t)},Dk=function(t){var e;d(this,er)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,Rn)&&D(this,Mt,gf).call(this)},kk=function(t){w(this,lp,d(this,er)?t:"")},gS=function(t){if(d(this,Ls))for(const e of d(this,Ls))e.tabIndex=t},gf=function(){w(this,er,!1),D(this,Mt,gS).call(this,-1),D(this,Mt,oy).call(this)},T(Ut,cp),gt(Ut,"_l10n",null),gt(Ut,"_l10nResizer",null),gt(Ut,"_borderLineWidth",-1),gt(Ut,"_colorManager",new nS),gt(Ut,"_zIndex",1),gt(Ut,"_telemetryTimeout",1e3);let De=Ut;class mF extends De{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const lT=3285377520,hs=4294901760,ea=65535;class Rk{constructor(t){this.h1=t?t&4294967295:lT,this.h2=t?t&4294967295:lT}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let S=0,k=t.length;S<k;S++){const C=t.charCodeAt(S);C<=255?e[n++]=C:(e[n++]=C>>>8,e[n++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,u=new Uint32Array(e.buffer,0,r);let c=0,f=0,p=this.h1,g=this.h2;const y=3432918353,b=461845907,A=y&ea,x=b&ea;for(let S=0;S<r;S++)S&1?(c=u[S],c=c*y&hs|c*A&ea,c=c<<15|c>>>17,c=c*b&hs|c*x&ea,p^=c,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[S],f=f*y&hs|f*A&ea,f=f<<15|f>>>17,f=f*b&hs|f*x&ea,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(c=0,l){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*y&hs|c*A&ea,c=c<<15|c>>>17,c=c*b&hs|c*x&ea,r&1?p^=c:g^=c}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&hs|t*36045&ea,e=e*4283543511&hs|((e<<16|t>>>16)*2950163797&hs)>>>16,t^=e>>>1,t=t*444984403&hs|t*60499&ea,e=e*3301882366&hs|((e<<16|t>>>16)*3120437893&hs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const mS=Object.freeze({map:null,hash:"",transfer:void 0});var jo,Ho,Mn,Zy,Mk;class $w{constructor(){T(this,Zy);T(this,jo,!1);T(this,Ho,null);T(this,Mn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=d(this,Mn).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return d(this,Mn).get(t)}remove(t){if(d(this,Mn).delete(t),d(this,Mn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Mn).values())if(e instanceof De)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=d(this,Mn).get(t);let r=!1;if(n!==void 0)for(const[l,u]of Object.entries(e))n[l]!==u&&(r=!0,n[l]=u);else r=!0,d(this,Mn).set(t,e);r&&D(this,Zy,Mk).call(this),e instanceof De&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Mn).has(t)}get size(){return d(this,Mn).size}resetModified(){d(this,jo)&&(w(this,jo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Nk(this)}get serializable(){if(d(this,Mn).size===0)return mS;const t=new Map,e=new Rk,n=[],r=Object.create(null);let l=!1;for(const[u,c]of d(this,Mn)){const f=c instanceof De?c.serialize(!1,r):c;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const u of t.values())u.bitmap&&n.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:mS}get editorStats(){let t=null;const e=new Map;for(const n of d(this,Mn).values()){if(!(n instanceof De))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const u=t[l]||(t[l]=new Map);for(const[c,f]of Object.entries(r)){if(c==="type")continue;let p=u.get(c);p||(p=new Map,u.set(c,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){w(this,Ho,null)}get modifiedIds(){if(d(this,Ho))return d(this,Ho);const t=[];for(const e of d(this,Mn).values())!(e instanceof De)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return w(this,Ho,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return d(this,Mn).entries()}}jo=new WeakMap,Ho=new WeakMap,Mn=new WeakMap,Zy=new WeakSet,Mk=function(){d(this,jo)||(w(this,jo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var hp;class Nk extends $w{constructor(e){super();T(this,hp);const{map:n,hash:r,transfer:l}=e.serializable,u=structuredClone(n,l?{transfer:l}:null);w(this,hp,{map:u,hash:r,transfer:l})}get print(){Ae("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,hp)}get modifiedIds(){return Qt(this,"modifiedIds",{ids:new Set,hash:""})}}hp=new WeakMap;var nh;class yF{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){T(this,nh,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,nh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||d(this,nh).has(t.loadedName))){if(sn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:l,style:u}=t,c=new FontFace(r,l,u);this.addNativeFontFace(c);try{await c.load(),d(this,nh).add(r),n==null||n(t)}catch{zt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw zt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Qt(this,"isSyncFontLoadingSupported",li||Fn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(sn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(z,P){return z.charCodeAt(P)<<24|z.charCodeAt(P+1)<<16|z.charCodeAt(P+2)<<8|z.charCodeAt(P+3)&255}function r(z,P,L,j){const W=z.substring(0,P),Q=z.substring(P+L);return W+j+Q}let l,u;const c=this._document.createElement("canvas");c.width=1,c.height=1;const f=c.getContext("2d");let p=0;function g(z,P){if(++p>30){zt("Load test font never loaded."),P();return}if(f.font="30px "+z,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(g.bind(null,z,P))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,y.length,y);const x=16,S=1482184792;let k=n(b,x);for(l=0,u=y.length-3;l<u;l+=4)k=k-S+n(y,l)|0;l<y.length&&(k=k-S+n(y+"XXX",l)|0),b=r(b,x,4,nF(k));const C=`url(data:font/opentype;base64,${btoa(b)});`,O=`@font-face {font-family:"${y}";src:${C}}`;this.insertRule(O);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const z of[t.loadedName,y]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=z,N.append(P)}this._document.body.append(N),g(y,()=>{N.remove(),e.complete()})}}nh=new WeakMap;class bF{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${JD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(u){zt(`getPathGenerator - ignoring character: "${u}".`)}const l=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=l}}const qm={DATA:1,ERROR:2},Je={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function oT(){}function vi(s){if(s instanceof Ul||s instanceof QA||s instanceof sT||s instanceof zy||s instanceof gA)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||Ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Ul(s.message);case"InvalidPDFException":return new QA(s.message);case"PasswordException":return new sT(s.message,s.code);case"ResponseException":return new zy(s.message,s.status,s.missing);case"UnknownErrorException":return new gA(s.message,s.details)}return new gA(s.message,s.toString())}var ih,ws,Ok,Lk,Pk,uy;class mf{constructor(t,e,n){T(this,ws);T(this,ih,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",D(this,ws,Ok).bind(this),{signal:d(this,ih).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,e,n,r){const l=this.streamId++,u=this.sourceName,c=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:c,action:t,streamId:l,data:e,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,f.postMessage({sourceName:u,targetName:c,stream:Je.PULL,streamId:l,desiredSize:p.desiredSize}),g.promise},cancel:p=>{sn(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:u,targetName:c,stream:Je.CANCEL,streamId:l,reason:vi(p)}),g.promise}},n)}destroy(){var t;(t=d(this,ih))==null||t.abort(),w(this,ih,null)}}ih=new WeakMap,ws=new WeakSet,Ok=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){D(this,ws,Pk).call(this,t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===qm.DATA)r.resolve(t.data);else if(t.callback===qm.ERROR)r.reject(vi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(u){l.postMessage({sourceName:n,targetName:r,callback:qm.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:n,targetName:r,callback:qm.ERROR,callbackId:t.callbackId,reason:vi(u)})});return}if(t.streamId){D(this,ws,Lk).call(this,t);return}e(t.data)},Lk=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,u=this,c=this.actionHandler[t.action],f={enqueue(p,g=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:Je.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:Je.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){sn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:Je.ERROR,streamId:e,reason:vi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,Promise.try(c,t.data,f).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Je.START_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:Je.START_COMPLETE,streamId:e,reason:vi(p)})})},Pk=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,u=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Je.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(vi(t.reason));break;case Je.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(vi(t.reason));break;case Je.PULL:if(!c){l.postMessage({sourceName:n,targetName:r,stream:Je.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||oT).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Je.PULL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:Je.PULL_COMPLETE,streamId:e,reason:vi(p)})});break;case Je.ENQUEUE:if(sn(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Je.CLOSE:if(sn(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),D(this,ws,uy).call(this,u,e);break;case Je.ERROR:sn(u,"error should have stream controller"),u.controller.error(vi(t.reason)),D(this,ws,uy).call(this,u,e);break;case Je.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(vi(t.reason)),D(this,ws,uy).call(this,u,e);break;case Je.CANCEL:if(!c)break;const f=vi(t.reason);Promise.try(c.onCancel||oT,f).then(function(){l.postMessage({sourceName:n,targetName:r,stream:Je.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:Je.CANCEL_COMPLETE,streamId:e,reason:vi(p)})}),c.sinkCapability.reject(f),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},uy=async function(t,e){var n,r,l;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var dp;class zk{constructor({enableHWA:t=!1}){T(this,dp,!1);w(this,dp,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,dp)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ae("Abstract method `_createCanvas` called.")}}dp=new WeakMap;class vF extends zk{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class Ik{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ae("Abstract method `_fetch` called.")}}class uT extends Ik{async _fetch(t){const e=await bg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):yg(e)}}class Fk{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,l){return"none"}destroy(t=!1){}}var Uo,sh,nr,ir,Xn,Go,Vo,vt,qn,yf,xc,cy,Ec,Bk,yS,_c,bf,vf,bS,Af;class AF extends Fk{constructor({docId:e,ownerDocument:n=globalThis.document}){super();T(this,vt);T(this,Uo);T(this,sh);T(this,nr);T(this,ir);T(this,Xn);T(this,Go);T(this,Vo,0);w(this,ir,e),w(this,Xn,n)}addFilter(e){if(!e)return"none";let n=d(this,vt,qn).get(e);if(n)return n;const[r,l,u]=D(this,vt,cy).call(this,e),c=e.length===1?r:`${r}${l}${u}`;if(n=d(this,vt,qn).get(c),n)return d(this,vt,qn).set(e,n),n;const f=`g_${d(this,ir)}_transfer_map_${ei(this,Vo)._++}`,p=D(this,vt,Ec).call(this,f);d(this,vt,qn).set(e,p),d(this,vt,qn).set(c,p);const g=D(this,vt,_c).call(this,f);return D(this,vt,vf).call(this,r,l,u,g),p}addHCMFilter(e,n){var x;const r=`${e}-${n}`,l="base";let u=d(this,vt,yf).get(l);if((u==null?void 0:u.key)===r||(u?((x=u.filter)==null||x.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},d(this,vt,yf).set(l,u)),!e||!n))return u.url;const c=D(this,vt,Af).call(this,e);e=Et.makeHexColor(...c);const f=D(this,vt,Af).call(this,n);if(n=Et.makeHexColor(...f),d(this,vt,xc).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return u.url;const p=new Array(256);for(let S=0;S<=255;S++){const k=S/255;p[S]=k<=.03928?k/12.92:((k+.055)/1.055)**2.4}const g=p.join(","),y=`g_${d(this,ir)}_hcm_filter`,b=u.filter=D(this,vt,_c).call(this,y);D(this,vt,vf).call(this,g,g,g,b),D(this,vt,yS).call(this,b);const A=(S,k)=>{const C=c[S]/255,O=f[S]/255,N=new Array(k+1);for(let z=0;z<=k;z++)N[z]=C+z/k*(O-C);return N.join(",")};return D(this,vt,vf).call(this,A(0,5),A(1,5),A(2,5),b),u.url=D(this,vt,Ec).call(this,y),u.url}addAlphaFilter(e){let n=d(this,vt,qn).get(e);if(n)return n;const[r]=D(this,vt,cy).call(this,[e]),l=`alpha_${r}`;if(n=d(this,vt,qn).get(l),n)return d(this,vt,qn).set(e,n),n;const u=`g_${d(this,ir)}_alpha_map_${ei(this,Vo)._++}`,c=D(this,vt,Ec).call(this,u);d(this,vt,qn).set(e,c),d(this,vt,qn).set(l,c);const f=D(this,vt,_c).call(this,u);return D(this,vt,bS).call(this,r,f),c}addLuminosityFilter(e){let n=d(this,vt,qn).get(e||"luminosity");if(n)return n;let r,l;if(e?([r]=D(this,vt,cy).call(this,[e]),l=`luminosity_${r}`):l="luminosity",n=d(this,vt,qn).get(l),n)return d(this,vt,qn).set(e,n),n;const u=`g_${d(this,ir)}_luminosity_map_${ei(this,Vo)._++}`,c=D(this,vt,Ec).call(this,u);d(this,vt,qn).set(e,c),d(this,vt,qn).set(l,c);const f=D(this,vt,_c).call(this,u);return D(this,vt,Bk).call(this,f),e&&D(this,vt,bS).call(this,r,f),c}addHighlightHCMFilter(e,n,r,l,u){var O;const c=`${n}-${r}-${l}-${u}`;let f=d(this,vt,yf).get(e);if((f==null?void 0:f.key)===c||(f?((O=f.filter)==null||O.remove(),f.key=c,f.url="none",f.filter=null):(f={key:c,url:"none",filter:null},d(this,vt,yf).set(e,f)),!n||!r))return f.url;const[p,g]=[n,r].map(D(this,vt,Af).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,x]=[l,u].map(D(this,vt,Af).bind(this));b<y&&([y,b,A,x]=[b,y,x,A]),d(this,vt,xc).style.color="";const S=(N,z,P)=>{const L=new Array(256),j=(b-y)/P,W=N/255,Q=(z-N)/(255*P);let it=0;for(let X=0;X<=P;X++){const Z=Math.round(y+X*j),ct=W+X*Q;for(let J=it;J<=Z;J++)L[J]=ct;it=Z+1}for(let X=it;X<256;X++)L[X]=L[it-1];return L.join(",")},k=`g_${d(this,ir)}_hcm_${e}_filter`,C=f.filter=D(this,vt,_c).call(this,k);return D(this,vt,yS).call(this,C),D(this,vt,vf).call(this,S(A[0],x[0],5),S(A[1],x[1],5),S(A[2],x[2],5),C),f.url=D(this,vt,Ec).call(this,k),f.url}destroy(e=!1){var n,r,l,u;e&&((n=d(this,Go))!=null&&n.size)||((r=d(this,nr))==null||r.parentNode.parentNode.remove(),w(this,nr,null),(l=d(this,sh))==null||l.clear(),w(this,sh,null),(u=d(this,Go))==null||u.clear(),w(this,Go,null),w(this,Vo,0))}}Uo=new WeakMap,sh=new WeakMap,nr=new WeakMap,ir=new WeakMap,Xn=new WeakMap,Go=new WeakMap,Vo=new WeakMap,vt=new WeakSet,qn=function(){return d(this,sh)||w(this,sh,new Map)},yf=function(){return d(this,Go)||w(this,Go,new Map)},xc=function(){if(!d(this,nr)){const e=d(this,Xn).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=d(this,Xn).createElementNS(Ua,"svg");r.setAttribute("width",0),r.setAttribute("height",0),w(this,nr,d(this,Xn).createElementNS(Ua,"defs")),e.append(r),r.append(d(this,nr)),d(this,Xn).body.append(e)}return d(this,nr)},cy=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let b=0;b<256;b++)g[b]=p[b]/255;const y=g.join(",");return[y,y,y]}const[n,r,l]=e,u=new Array(256),c=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=n[p]/255,c[p]=r[p]/255,f[p]=l[p]/255;return[u.join(","),c.join(","),f.join(",")]},Ec=function(e){if(d(this,Uo)===void 0){w(this,Uo,"");const n=d(this,Xn).URL;n!==d(this,Xn).baseURI&&(Cb(n)?zt('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,Uo,KD(n,"")))}return`url(${d(this,Uo)}#${e})`},Bk=function(e){const n=d(this,Xn).createElementNS(Ua,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},yS=function(e){const n=d(this,Xn).createElementNS(Ua,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},_c=function(e){const n=d(this,Xn).createElementNS(Ua,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),d(this,vt,xc).append(n),n},bf=function(e,n,r){const l=d(this,Xn).createElementNS(Ua,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},vf=function(e,n,r,l){const u=d(this,Xn).createElementNS(Ua,"feComponentTransfer");l.append(u),D(this,vt,bf).call(this,u,"feFuncR",e),D(this,vt,bf).call(this,u,"feFuncG",n),D(this,vt,bf).call(this,u,"feFuncB",r)},bS=function(e,n){const r=d(this,Xn).createElementNS(Ua,"feComponentTransfer");n.append(r),D(this,vt,bf).call(this,r,"feFuncA",e)},Af=function(e){return d(this,vt,xc).style.color=e,Yw(getComputedStyle(d(this,vt,xc)).getPropertyValue("color"))};class jk{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ae("Abstract method `_fetch` called.")}}class cT extends jk{async _fetch(t){const e=await bg(t,"arraybuffer");return new Uint8Array(e)}}class Hk{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Ae("Abstract method `_fetch` called.")}}class hT extends Hk{async _fetch(t){const e=await bg(t,"arraybuffer");return new Uint8Array(e)}}li&&zt("Please use the `legacy` build in Node.js environments.");async function Ww(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class SF extends Fk{}class wF extends zk{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class xF extends Ik{async _fetch(t){return Ww(t)}}class EF extends jk{async _fetch(t){return Ww(t)}}class _F extends Hk{async _fetch(t){return Ww(t)}}const Ln={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function vS(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),s.clip(r)}class Kw{isModifyingCurrentTransform(){return!1}getPattern(){Ae("Abstract method `getPattern` called.")}}class CF extends Kw{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let l;if(r===Ln.STROKE||r===Ln.FILL){const u=e.current.getClippedPathBoundingBox(r,Ie(t))||[0,0,0,0],c=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",c,f),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),n=Et.transform(n,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),vS(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(n);l.setTransform(y)}else vS(t,this._bbox),l=this._createGradient(t);return l}}function bA(s,t,e,n,r,l,u,c){const f=t.coords,p=t.colors,g=s.data,y=s.width*4;let b;f[e+1]>f[n+1]&&(b=e,e=n,n=b,b=l,l=u,u=b),f[n+1]>f[r+1]&&(b=n,n=r,r=b,b=u,u=c,c=b),f[e+1]>f[n+1]&&(b=e,e=n,n=b,b=l,l=u,u=b);const A=(f[e]+t.offsetX)*t.scaleX,x=(f[e+1]+t.offsetY)*t.scaleY,S=(f[n]+t.offsetX)*t.scaleX,k=(f[n+1]+t.offsetY)*t.scaleY,C=(f[r]+t.offsetX)*t.scaleX,O=(f[r+1]+t.offsetY)*t.scaleY;if(x>=O)return;const N=p[l],z=p[l+1],P=p[l+2],L=p[u],j=p[u+1],W=p[u+2],Q=p[c],it=p[c+1],X=p[c+2],Z=Math.round(x),ct=Math.round(O);let J,ht,B,q,yt,xt,_,K;for(let ot=Z;ot<=ct;ot++){if(ot<k){const ut=ot<x?0:(x-ot)/(x-k);J=A-(A-S)*ut,ht=N-(N-L)*ut,B=z-(z-j)*ut,q=P-(P-W)*ut}else{let ut;ot>O?ut=1:k===O?ut=0:ut=(k-ot)/(k-O),J=S-(S-C)*ut,ht=L-(L-Q)*ut,B=j-(j-it)*ut,q=W-(W-X)*ut}let R;ot<x?R=0:ot>O?R=1:R=(x-ot)/(x-O),yt=A-(A-C)*R,xt=N-(N-Q)*R,_=z-(z-it)*R,K=P-(P-X)*R;const st=Math.round(Math.min(J,yt)),ft=Math.round(Math.max(J,yt));let nt=y*ot+st*4;for(let ut=st;ut<=ft;ut++)R=(J-ut)/(J-yt),R<0?R=0:R>1&&(R=1),g[nt++]=ht-(ht-xt)*R|0,g[nt++]=B-(B-_)*R|0,g[nt++]=q-(q-K)*R|0,g[nt++]=255}}function TF(s,t,e){const n=t.coords,r=t.colors;let l,u;switch(t.type){case"lattice":const c=t.verticesPerRow,f=Math.floor(n.length/c)-1,p=c-1;for(l=0;l<f;l++){let g=l*c;for(let y=0;y<p;y++,g++)bA(s,e,n[g],n[g+1],n[g+c],r[g],r[g+1],r[g+c]),bA(s,e,n[g+c+1],n[g+1],n[g+c],r[g+c+1],r[g+1],r[g+c])}break;case"triangles":for(l=0,u=n.length;l<u;l+=3)bA(s,e,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class DF extends Kw{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-c,g=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),A=p/y,x=g/b,S={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-f,scaleX:1/A,scaleY:1/x},k=y+2*2,C=b+2*2,O=n.getCanvas("mesh",k,C),N=O.context,z=N.createImageData(y,b);if(e){const L=z.data;for(let j=0,W=L.length;j<W;j+=4)L[j]=e[0],L[j+1]=e[1],L[j+2]=e[2],L[j+3]=255}for(const L of this._figures)TF(z,L,S);return N.putImageData(z,2,2),{canvas:O.canvas,offsetX:c-2*A,offsetY:f-2*x,scaleX:A,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){vS(t,this._bbox);const l=new Float32Array(2);if(r===Ln.SHADING)Et.singularValueDecompose2dScale(Ie(t),l);else if(this.matrix){Et.singularValueDecompose2dScale(this.matrix,l);const[c,f]=l;Et.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=c,l[1]*=f}else Et.singularValueDecompose2dScale(e.baseTransform,l);const u=this._createMeshCanvas(l,r===Ln.SHADING?null:this._background,e.cachedCanvases);return r!==Ln.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class kF extends Kw{getPattern(){return"hotpink"}}function RF(s){switch(s[0]){case"RadialAxial":return new CF(s);case"Mesh":return new DF(s);case"Dummy":return new kF}throw new Error(`Unknown IR type: ${s[0]}`)}const dT={COLORED:1,UNCOLORED:2},Jy=class Jy{constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:l,color:u,canvasGraphicsFactory:c}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),_b("TilingType: "+l);const g=e[0],y=e[1],b=e[2],A=e[3],x=b-g,S=A-y,k=new Float32Array(2);Et.singularValueDecompose2dScale(this.matrix,k);const[C,O]=k;Et.singularValueDecompose2dScale(this.baseTransform,k);const N=C*k[0],z=O*k[1];let P=x,L=S,j=!1,W=!1;const Q=Math.ceil(f*N),it=Math.ceil(p*z),X=Math.ceil(x*N),Z=Math.ceil(S*z);Q>=X?P=f:j=!0,it>=Z?L=p:W=!0;const ct=this.getSizeAndScale(P,this.ctx.canvas.width,N),J=this.getSizeAndScale(L,this.ctx.canvas.height,z),ht=t.cachedCanvases.getCanvas("pattern",ct.size,J.size),B=ht.context,q=c.createCanvasGraphics(B);if(q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(q,r,u),B.translate(-ct.scale*g,-J.scale*y),q.transform(ct.scale,0,0,J.scale,0,0),B.save(),this.clipBbox(q,g,y,b,A),q.baseTransform=Ie(q.ctx),q.executeOperatorList(n),q.endDrawing(),B.restore(),j||W){const yt=ht.canvas;j&&(P=f),W&&(L=p);const xt=this.getSizeAndScale(P,this.ctx.canvas.width,N),_=this.getSizeAndScale(L,this.ctx.canvas.height,z),K=xt.size,ot=_.size,R=t.cachedCanvases.getCanvas("pattern-workaround",K,ot),st=R.context,ft=j?Math.floor(x/f):0,nt=W?Math.floor(S/p):0;for(let ut=0;ut<=ft;ut++)for(let mt=0;mt<=nt;mt++)st.drawImage(yt,K*ut,ot*mt,K,ot,0,0,K,ot);return{canvas:R.canvas,scaleX:xt.scale,scaleY:_.scale,offsetX:g,offsetY:y}}return{canvas:ht.canvas,scaleX:ct.scale,scaleY:J.scale,offsetX:g,offsetY:y}}getSizeAndScale(t,e,n){const r=Math.max(Jy.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,r,l){const u=r-e,c=l-n;t.ctx.rect(e,n,u,c),Et.axialAlignedBoundingBox([e,n,r,l],Ie(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,l=t.current;switch(e){case dT.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,l.fillColor=u.fillStyle,l.strokeColor=u.strokeStyle;break;case dT.UNCOLORED:const c=Et.makeHexColor(n[0],n[1],n[2]);r.fillStyle=c,r.strokeStyle=c,l.fillColor=c,l.strokeColor=c;break;default:throw new eF(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let l=n;r!==Ln.SHADING&&(l=Et.transform(l,e.baseTransform),this.matrix&&(l=Et.transform(l,this.matrix)));const u=this.createPatternCanvas(e);let c=new DOMMatrix(l);c=c.translate(u.offsetX,u.offsetY),c=c.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(c),f}};gt(Jy,"MAX_PATTERN_SIZE",3e3);let AS=Jy;function MF({src:s,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const c=Fn.isLittleEndian?4278190080:255,[f,p]=u?[l,c]:[c,l],g=n>>3,y=n&7,b=s.length;e=new Uint32Array(e.buffer);let A=0;for(let x=0;x<r;x++){for(const k=t+g;t<k;t++){const C=t<b?s[t]:255;e[A++]=C&128?p:f,e[A++]=C&64?p:f,e[A++]=C&32?p:f,e[A++]=C&16?p:f,e[A++]=C&8?p:f,e[A++]=C&4?p:f,e[A++]=C&2?p:f,e[A++]=C&1?p:f}if(y===0)continue;const S=t<b?s[t++]:255;for(let k=0;k<y;k++)e[A++]=S&1<<7-k?p:f}return{srcPos:t,destPos:A}}const fT=16,pT=100,NF=15,gT=10,Ei=16,vA=new DOMMatrix,Zi=new Float32Array(2),Nc=new Float32Array([1/0,1/0,-1/0,-1/0]);function OF(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},s.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},s.transform=function(e,n,r,l,u,c){t.transform(e,n,r,l,u,c),this.__originalTransform(e,n,r,l,u,c)},s.setTransform=function(e,n,r,l,u,c){t.setTransform(e,n,r,l,u,c),this.__originalSetTransform(e,n,r,l,u,c)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(e){t.rotate(e),this.__originalRotate(e)},s.clip=function(e){t.clip(e),this.__originalClip(e)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,r,l,u,c){t.bezierCurveTo(e,n,r,l,u,c),this.__originalBezierCurveTo(e,n,r,l,u,c)},s.rect=function(e,n,r,l){t.rect(e,n,r,l),this.__originalRect(e,n,r,l)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class LF{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ym(s,t,e,n,r,l,u,c,f,p){const[g,y,b,A,x,S]=Ie(s);if(y===0&&b===0){const O=u*g+x,N=Math.round(O),z=c*A+S,P=Math.round(z),L=(u+f)*g+x,j=Math.abs(Math.round(L)-N)||1,W=(c+p)*A+S,Q=Math.abs(Math.round(W)-P)||1;return s.setTransform(Math.sign(g),0,0,Math.sign(A),N,P),s.drawImage(t,e,n,r,l,0,0,j,Q),s.setTransform(g,y,b,A,x,S),[j,Q]}if(g===0&&A===0){const O=c*b+x,N=Math.round(O),z=u*y+S,P=Math.round(z),L=(c+p)*b+x,j=Math.abs(Math.round(L)-N)||1,W=(u+f)*y+S,Q=Math.abs(Math.round(W)-P)||1;return s.setTransform(0,Math.sign(y),Math.sign(b),0,N,P),s.drawImage(t,e,n,r,l,0,0,Q,j),s.setTransform(g,y,b,A,x,S),[Q,j]}s.drawImage(t,e,n,r,l,u,c,f,p);const k=Math.hypot(g,y),C=Math.hypot(b,A);return[k*f,C*p]}class mT{constructor(t,e){gt(this,"alphaIsShape",!1);gt(this,"fontSize",0);gt(this,"fontSizeScale",1);gt(this,"textMatrix",null);gt(this,"textMatrixScale",1);gt(this,"fontMatrix",KA);gt(this,"leading",0);gt(this,"x",0);gt(this,"y",0);gt(this,"lineX",0);gt(this,"lineY",0);gt(this,"charSpacing",0);gt(this,"wordSpacing",0);gt(this,"textHScale",1);gt(this,"textRenderingMode",Vn.FILL);gt(this,"textRise",0);gt(this,"fillColor","#000000");gt(this,"strokeColor","#000000");gt(this,"patternFill",!1);gt(this,"patternStroke",!1);gt(this,"fillAlpha",1);gt(this,"strokeAlpha",1);gt(this,"lineWidth",1);gt(this,"activeSMask",null);gt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Nc.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ln.FILL,e=null){const n=this.minMax.slice();if(t===Ln.STROKE){e||Ae("Stroke bounding box must include transform."),Et.singularValueDecompose2dScale(e,Zi);const r=Zi[0]*this.lineWidth/2,l=Zi[1]*this.lineWidth/2;n[0]-=r,n[1]-=l,n[2]+=r,n[3]+=l}return n}updateClipFromPath(){const t=Et.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Nc,0)}getClippedPathBoundingBox(t=Ln.FILL,e=null){return Et.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function yT(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Ei,l=(e-r)/Ei,u=r===0?l:l+1,c=s.createImageData(n,Ei);let f=0,p;const g=t.data,y=c.data;let b,A,x,S;if(t.kind===ty.GRAYSCALE_1BPP){const k=g.byteLength,C=new Uint32Array(y.buffer,0,y.byteLength>>2),O=C.length,N=n+7>>3,z=4294967295,P=Fn.isLittleEndian?4278190080:255;for(b=0;b<u;b++){for(x=b<l?Ei:r,p=0,A=0;A<x;A++){const L=k-f;let j=0;const W=L>N?n:L*8-7,Q=W&-8;let it=0,X=0;for(;j<Q;j+=8)X=g[f++],C[p++]=X&128?z:P,C[p++]=X&64?z:P,C[p++]=X&32?z:P,C[p++]=X&16?z:P,C[p++]=X&8?z:P,C[p++]=X&4?z:P,C[p++]=X&2?z:P,C[p++]=X&1?z:P;for(;j<W;j++)it===0&&(X=g[f++],it=128),C[p++]=X&it?z:P,it>>=1}for(;p<O;)C[p++]=0;s.putImageData(c,0,b*Ei)}}else if(t.kind===ty.RGBA_32BPP){for(A=0,S=n*Ei*4,b=0;b<l;b++)y.set(g.subarray(f,f+S)),f+=S,s.putImageData(c,0,A),A+=Ei;b<u&&(S=n*r*4,y.set(g.subarray(f,f+S)),s.putImageData(c,0,A))}else if(t.kind===ty.RGB_24BPP)for(x=Ei,S=n*x,b=0;b<u;b++){for(b>=l&&(x=r,S=n*x),p=0,A=S;A--;)y[p++]=g[f++],y[p++]=g[f++],y[p++]=g[f++],y[p++]=255;s.putImageData(c,0,b*Ei)}else throw new Error(`bad image kind: ${t.kind}`)}function bT(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Ei,l=(e-r)/Ei,u=r===0?l:l+1,c=s.createImageData(n,Ei);let f=0;const p=t.data,g=c.data;for(let y=0;y<u;y++){const b=y<l?Ei:r;({srcPos:f}=MF({src:p,srcPos:f,dest:g,width:n,height:b,nonBlackColor:0})),s.putImageData(c,0,y*Ei)}}function rf(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Xm(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}function vT(s,t){if(t)return!0;Et.singularValueDecompose2dScale(s,Zi);const e=Math.fround(_r.pixelRatio*Gl.PDF_TO_CSS_UNITS);return Zi[0]<=e&&Zi[1]<=e}const PF=["butt","round","square"],zF=["miter","round","bevel"],IF={},AT={};var Xs,SS,wS,xS;const rx=class rx{constructor(t,e,n,r,l,{optionalContentConfig:u,markedContentStack:c=null},f,p){T(this,Xs);this.ctx=t,this.current=new mT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=u,this.cachedCanvases=new LF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=c,n){const f=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Ie(this.compositeCtx))}this.ctx.save(),Xm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ie(this.ctx)}executeOperatorList(t,e,n,r){const l=t.argsArray,u=t.fnArray;let c=e||0;const f=l.length;if(f===c)return c;const p=f-c>gT&&typeof n=="function",g=p?Date.now()+NF:0;let y=0;const b=this.commonObjs,A=this.objs;let x;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(x=u[c],x!==Py.dependency)this[x].apply(this,l[c]);else for(const S of l[c]){const k=S.startsWith("g_")?b:A;if(!k.has(S))return k.get(S,n),c}if(c++,c===f)return c;if(p&&++y>gT){if(Date.now()>g)return n(),c;y=0}}}endDrawing(){D(this,Xs,SS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),D(this,Xs,wS).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),c=n,f=r,p="prescale1",g,y;for(;l>2&&c>1||u>2&&f>1;){let b=c,A=f;l>2&&c>1&&(b=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),l/=c/b),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),g=this.cachedCanvases.getCanvas(p,b,A),y=g.context,y.clearRect(0,0,b,A),y.drawImage(t,0,0,c,f,0,0,b,A),t=g.canvas,c=b,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,u=this.current.patternFill,c=Ie(e);let f,p,g,y;if((t.bitmap||t.data)&&t.count>1){const Q=t.bitmap||t.data.buffer;p=JSON.stringify(u?c:[c.slice(0,4),l]),f=this._cachedBitmapsMap.get(Q),f||(f=new Map,this._cachedBitmapsMap.set(Q,f));const it=f.get(p);if(it&&!u){const X=Math.round(Math.min(c[0],c[2])+c[4]),Z=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:it,offsetX:X,offsetY:Z}}g=it}g||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),bT(y.context,t));let b=Et.transform(c,[1/n,0,0,-1/r,0,0]);b=Et.transform(b,[1,0,0,1,0,-r]);const A=Nc.slice();Et.axialAlignedBoundingBox([0,0,n,r],b,A);const[x,S,k,C]=A,O=Math.round(k-x)||1,N=Math.round(C-S)||1,z=this.cachedCanvases.getCanvas("fillCanvas",O,N),P=z.context,L=x,j=S;P.translate(-L,-j),P.transform(...b),g||(g=this._scaleImage(y.canvas,ta(P)),g=g.img,f&&u&&f.set(p,g)),P.imageSmoothingEnabled=vT(Ie(P),t.interpolate),Ym(P,g,0,0,g.width,g.height,0,0,n,r),P.globalCompositeOperation="source-in";const W=Et.transform(ta(P),[1,0,0,1,-L,-j]);return P.fillStyle=u?l.getPattern(e,this,W,Ln.FILL):l,P.fillRect(0,0,n,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,z.canvas)),{canvas:z.canvas,offsetX:Math.round(L),offsetY:Math.round(j)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=PF[t]}setLineJoin(t){this.ctx.lineJoin=zF[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const l=this.ctx=r.context;l.setTransform(this.suspendedCtx.getTransform()),rf(this.suspendedCtx,l),OF(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const l=r[0],u=r[1],c=r[2]-l,f=r[3]-u;c===0||f===0||(this.genericComposeSMask(e.context,n,c,f,e.subtype,e.backdrop,e.transferMap,l,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,l,u,c,f,p,g,y){let b=t.canvas,A=f-g,x=p-y;if(u){const k=Et.makeHexColor(...u);if(A<0||x<0||A+n>b.width||x+r>b.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,r),O=C.context;O.drawImage(b,-A,-x),O.globalCompositeOperation="destination-atop",O.fillStyle=k,O.fillRect(0,0,n,r),O.globalCompositeOperation="source-over",b=C.canvas,A=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(A,x,n,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=k,t.fillRect(A,x,n,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const S=new Path2D;S.rect(f,p,n,r),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,A,x,n,r,f,p,n,r),e.restore()}save(){this.inSMaskMode&&rf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&rf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,l,u){this.ctx.transform(t,e,n,r,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[r]=e;if(!n){r||(r=e[0]=new Path2D),this[t](r);return}if(!(r instanceof Path2D)){const l=e[0]=new Path2D;for(let u=0,c=r.length;u<c;)switch(r[u++]){case Vm.moveTo:l.moveTo(r[u++],r[u++]);break;case Vm.lineTo:l.lineTo(r[u++],r[u++]);break;case Vm.curveTo:l.bezierCurveTo(r[u++],r[u++],r[u++],r[u++],r[u++],r[u++]);break;case Vm.closePath:l.closePath();break;default:zt(`Unrecognized drawing path operator: ${r[u-1]}`);break}r=l}Et.axialAlignedBoundingBox(n,Ie(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const l=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,ta(n),Ln.STROKE),l){const u=new Path2D;u.addPath(t,n.getTransform().invertSelf().multiplySelf(l)),t=u}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ln.STROKE,Ie(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,r=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,ta(n),Ln.FILL),f){const p=new Path2D;p.addPath(t,n.getTransform().invertSelf().multiplySelf(f)),t=p}u=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),u&&n.restore(),e&&this.consumePath(t,c)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=IF}eoClip(){this.pendingClip=AT}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,r=e.getTransform().invertSelf();for(const{transform:l,x:u,y:c,fontSize:f,path:p}of t)n.addPath(p,new DOMMatrix(l).preMultiplySelf(r).translate(u,c).scale(f,-f));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||KA,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&zt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",u=((g=n.systemFontInfo)==null?void 0:g.css)||`"${l}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const f=n.italic?"italic":"normal";let p=e;e<fT?p=fT:e>pT&&(p=pT),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${c} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r,l){const u=this.ctx,c=this.current,f=c.font,p=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,y=p&Vn.FILL_STROKE_MASK,b=!!(p&Vn.ADD_TO_PATH_FLAG),A=c.patternFill&&!f.missingFile,x=c.patternStroke&&!f.missingFile;let S;if((f.disableFontFace||b||A||x)&&(S=f.getPathGenerator(this.commonObjs,t)),f.disableFontFace||A||x){u.save(),u.translate(e,n),u.scale(g,-g);let k;if((y===Vn.FILL||y===Vn.FILL_STROKE)&&(r?(k=u.getTransform(),u.setTransform(...r),u.fill(D(this,Xs,xS).call(this,S,k,r))):u.fill(S)),y===Vn.STROKE||y===Vn.FILL_STROKE)if(l){k||(k=u.getTransform()),u.setTransform(...l);const{a:C,b:O,c:N,d:z}=k,P=Et.inverseTransform(l),L=Et.transform([C,O,N,z,0,0],P);Et.singularValueDecompose2dScale(L,Zi),u.lineWidth*=Math.max(Zi[0],Zi[1])/g,u.stroke(D(this,Xs,xS).call(this,S,k,l))}else u.lineWidth/=g,u.stroke(S);u.restore()}else(y===Vn.FILL||y===Vn.FILL_STROKE)&&u.fillText(t,e,n),(y===Vn.STROKE||y===Vn.FILL_STROKE)&&u.strokeText(t,e,n);b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ie(u),x:e,y:n,fontSize:g,path:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Qt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,u=e.fontSizeScale,c=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,y=t.length,b=n.vertical,A=b?1:-1,x=n.defaultVMetrics,S=r*e.fontMatrix[0],k=e.textRenderingMode===Vn.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),e.textMatrix&&l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),p>0?l.scale(g,-1):l.scale(g,1);let C,O;if(e.patternFill){l.save();const j=e.fillColor.getPattern(l,this,ta(l),Ln.FILL);C=Ie(l),l.restore(),l.fillStyle=j}if(e.patternStroke){l.save();const j=e.strokeColor.getPattern(l,this,ta(l),Ln.STROKE);O=Ie(l),l.restore(),l.strokeStyle=j}let N=e.lineWidth;const z=e.textMatrixScale;if(z===0||N===0){const j=e.textRenderingMode&Vn.FILL_STROKE_MASK;(j===Vn.STROKE||j===Vn.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=z;if(u!==1&&(l.scale(u,u),N/=u),l.lineWidth=N,n.isInvalidPDFjsFont){const j=[];let W=0;for(const Q of t)j.push(Q.unicode),W+=Q.width;l.fillText(j.join(""),0,0),e.x+=W*S*g,l.restore(),this.compose();return}let P=0,L;for(L=0;L<y;++L){const j=t[L];if(typeof j=="number"){P+=A*j*r/1e3;continue}let W=!1;const Q=(j.isSpace?f:0)+c,it=j.fontChar,X=j.accent;let Z,ct,J=j.width;if(b){const B=j.vmetric||x,q=-(j.vmetric?B[1]:J*.5)*S,yt=B[2]*S;J=B?-B[0]:J,Z=q/u,ct=(P+yt)/u}else Z=P/u,ct=0;if(n.remeasure&&J>0){const B=l.measureText(it).width*1e3/r*u;if(J<B&&this.isFontSubpixelAAEnabled){const q=J/B;W=!0,l.save(),l.scale(q,1),Z/=q}else J!==B&&(Z+=(J-B)/2e3*r/u)}if(this.contentVisible&&(j.isInFont||n.missingFile)){if(k&&!X)l.fillText(it,Z,ct);else if(this.paintChar(it,Z,ct,C,O),X){const B=Z+r*X.offset.x/u,q=ct-r*X.offset.y/u;this.paintChar(X.fontChar,B,q,C,O)}}const ht=b?J*S-Q*p:J*S+Q*p;P+=ht,W&&l.restore()}b?e.y-=P:e.x+=P*g,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,l=n.fontSize,u=n.fontDirection,c=r.vertical?1:-1,f=n.charSpacing,p=n.wordSpacing,g=n.textHScale*u,y=n.fontMatrix||KA,b=t.length,A=n.textRenderingMode===Vn.INVISIBLE;let x,S,k,C;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(g,u),x=0;x<b;++x){if(S=t[x],typeof S=="number"){C=c*S*l/1e3,this.ctx.translate(C,0),n.x+=C*g;continue}const O=(S.isSpace?p:0)+f,N=r.charProcOperatorList[S.operatorListId];N?this.contentVisible&&(this.save(),e.scale(l,l),e.transform(...y),this.executeOperatorList(N),this.restore()):zt(`Type3 character "${S.operatorListId}" is not available.`);const z=[S.width,0];Et.applyTransform(z,y),k=z[0]*l+O,e.translate(k,0),n.x+=k*g}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,l,u){const c=new Path2D;c.rect(n,r,l-n,u-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||Ie(this.ctx),r={createCanvasGraphics:l=>new rx(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new AS(t,this.ctx,r,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=Et.makeHexColor(t,e,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=Et.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=RF(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ta(e),Ln.SHADING);const r=ta(e);if(r){const{width:l,height:u}=e.canvas,c=Nc.slice();Et.axialAlignedBoundingBox([0,0,l,u],r,c);const[f,p,g,y]=c;this.ctx.fillRect(f,p,g-f,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ae("Should not call beginInlineImage")}beginImageData(){Ae("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Ie(this.ctx),e)){Et.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,r,l,u]=e,c=new Path2D;c.rect(n,r,l-n,u-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||_b("TODO: Support non-isolated groups."),t.knockout&&zt("Knockout groups not supported.");const n=Ie(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Nc.slice();Et.axialAlignedBoundingBox(t.bbox,Ie(e),r);const l=[0,0,e.canvas.width,e.canvas.height];r=Et.intersect(r,l)||[0,0,0,0];const u=Math.floor(r[0]),c=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,f,p),b=y.context;b.translate(-u,-c),b.transform(...n);let A=new Path2D;const[x,S,k,C]=t.bbox;if(A.rect(x,S,k-x,C-S),t.matrix){const O=new Path2D;O.addPath(A,new DOMMatrix(t.matrix)),A=O}b.clip(A),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:u,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,c),e.save()),rf(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Ie(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=Nc.slice();Et.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,l),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,l){if(D(this,Xs,SS).call(this),Xm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],c=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=c,Et.singularValueDecompose2dScale(Ie(this.ctx),Zi);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(c*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(Zi[0],0,0,-Zi[1],0,c*Zi[1]),Xm(this.ctx)}else{Xm(this.ctx),this.endPath();const f=new Path2D;f.rect(e[0],e[1],u,c),this.ctx.clip(f)}}this.current=new mT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),D(this,Xs,wS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this._createMaskCanvas(t),l=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const f=Ie(c);c.transform(e,n,r,l,0,0);const p=this._createMaskCanvas(t);c.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,y=u.length;g<y;g+=2){const b=Et.transform(f,[e,n,r,l,u[g],u[g+1]]);c.drawImage(p.canvas,b[4],b[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:u,width:c,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",c,f),y=g.context;y.save();const b=this.getObject(u,l);bT(y,b),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,ta(e),Ln.FILL):n,y.fillRect(0,0,c,f),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),Ym(e,g.canvas,0,0,c,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){zt("Dependent image isn't ready yet");return}const u=l.width,c=l.height,f=[];for(let p=0,g=r.length;p<g;p+=2)f.push({transform:[e,0,0,n,r[p],r[p+1]],x:0,y:0,w:u,h:c});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;this.save();const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none"),r.scale(1/e,-1/n);let u;if(t.bitmap)u=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)u=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,n).context;yT(p,t),u=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(u,ta(r));r.imageSmoothingEnabled=vT(Ie(r),t.interpolate),Ym(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;yT(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),Ym(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===AT?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ie(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:l}=this.ctx.getTransform();let u,c;if(n===0&&r===0){const f=Math.abs(e),p=Math.abs(l);if(f===p)if(t===0)u=c=1/f;else{const g=f*t;u=c=g<1?1/g:1}else if(t===0)u=1/f,c=1/p;else{const g=f*t,y=p*t;u=g<1?1/g:1,c=y<1?1/y:1}}else{const f=Math.abs(e*l-n*r),p=Math.hypot(e,n),g=Math.hypot(r,l);if(t===0)u=g/f,c=p/f;else{const y=t*f;u=g>y?g/y:1,c=p>y?p/y:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[l,u]=this.getScaleForStroking();if(l===u){n.lineWidth=(r||1)*l,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(l,u),vA.a=1/l,vA.d=1/u;const f=new Path2D;if(f.addPath(t,vA),c.length>0){const p=Math.max(l,u);n.setLineDash(c.map(g=>g/p)),n.lineDashOffset/=p}n.lineWidth=r||1,n.stroke(f),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Xs=new WeakSet,SS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},wS=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},xS=function(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r};let Fc=rx;for(const s in Py)Fc.prototype[s]!==void 0&&(Fc.prototype[Py[s]]=Fc.prototype[s]);var fp,pp;class Sa{static get workerPort(){return d(this,fp)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");w(this,fp,t)}static get workerSrc(){return d(this,pp)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");w(this,pp,t)}}fp=new WeakMap,pp=new WeakMap,T(Sa,fp,null),T(Sa,pp,"");var ah,gp;class FF{constructor({parsedData:t,rawData:e}){T(this,ah);T(this,gp);w(this,ah,t),w(this,gp,e)}getRaw(){return d(this,gp)}get(t){return d(this,ah).get(t)??null}[Symbol.iterator](){return d(this,ah).entries()}}ah=new WeakMap,gp=new WeakMap;const Cc=Symbol("INTERNAL");var mp,yp,bp,rh;class BF{constructor(t,{name:e,intent:n,usage:r,rbGroups:l}){T(this,mp,!1);T(this,yp,!1);T(this,bp,!1);T(this,rh,!0);w(this,mp,!!(t&Ki.DISPLAY)),w(this,yp,!!(t&Ki.PRINT)),this.name=e,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(d(this,bp))return d(this,rh);if(!d(this,rh))return!1;const{print:t,view:e}=this.usage;return d(this,mp)?(e==null?void 0:e.viewState)!=="OFF":d(this,yp)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Cc&&Ae("Internal method `_setVisible` called."),w(this,bp,n),w(this,rh,e)}}mp=new WeakMap,yp=new WeakMap,bp=new WeakMap,rh=new WeakMap;var Sl,be,lh,oh,vp,ES;class jF{constructor(t,e=Ki.DISPLAY){T(this,vp);T(this,Sl,null);T(this,be,new Map);T(this,lh,null);T(this,oh,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,w(this,oh,t.order);for(const n of t.groups)d(this,be).set(n.id,new BF(e,n));if(t.baseState==="OFF")for(const n of d(this,be).values())n._setVisible(Cc,!1);for(const n of t.on)d(this,be).get(n)._setVisible(Cc,!0);for(const n of t.off)d(this,be).get(n)._setVisible(Cc,!1);w(this,lh,this.getHash())}}isVisible(t){if(d(this,be).size===0)return!0;if(!t)return _b("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,be).has(t.id)?d(this,be).get(t.id).visible:(zt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return D(this,vp,ES).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(d(this,be).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!d(this,be).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(!d(this,be).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,be).has(e))return zt(`Optional content group not found: ${e}`),!0;if(d(this,be).get(e).visible)return!1}return!0}return zt(`Unknown optional content policy ${t.policy}.`),!0}return zt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var l;const r=d(this,be).get(t);if(!r){zt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const c of u)c!==t&&((l=d(this,be).get(c))==null||l._setVisible(Cc,!1,!0));r._setVisible(Cc,!!e,!0),w(this,Sl,null)}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=d(this,be).get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}w(this,Sl,null)}get hasInitialVisibility(){return d(this,lh)===null||this.getHash()===d(this,lh)}getOrder(){return d(this,be).size?d(this,oh)?d(this,oh).slice():[...d(this,be).keys()]:null}getGroup(t){return d(this,be).get(t)||null}getHash(){if(d(this,Sl)!==null)return d(this,Sl);const t=new Rk;for(const[e,n]of d(this,be))t.update(`${e}:${n.visible}`);return w(this,Sl,t.hexdigest())}[Symbol.iterator](){return d(this,be).entries()}}Sl=new WeakMap,be=new WeakMap,lh=new WeakMap,oh=new WeakMap,vp=new WeakSet,ES=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const l=t[r];let u;if(Array.isArray(l))u=D(this,vp,ES).call(this,l);else if(d(this,be).has(l))u=d(this,be).get(l).visible;else return zt(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return n==="And"};class HF{constructor(t,{disableRange:e=!1,disableStream:n=!1}){sn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:u,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=c,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});sn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,r,l;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){sn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new UF(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new GF(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class UF{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Vw(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GF{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function VF(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let g=c(e);return g=unescape(g),g=f(g),g=p(g),l(g)}if(e=u(s),e){const g=p(e);return l(g)}if(e=n("filename","i").exec(s),e){e=e[1];let g=c(e);return g=p(g),l(g)}function n(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(g,{fatal:!0}),A=yg(y);y=b.decode(A),t=!1}catch{}}return y}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function u(g){const y=[];let b;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=A.exec(g))!==null;){let[,S,k,C]=b;if(S=parseInt(S,10),S in y){if(S===0)break;continue}y[S]=[k,C]}const x=[];for(let S=0;S<y.length&&S in y;++S){let[k,C]=y[S];C=c(C),k&&(C=unescape(C),S===0&&(C=f(C))),x.push(C)}return x.join("")}function c(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let b=0;b<y.length;++b){const A=y[b].indexOf('"');A!==-1&&(y[b]=y[b].slice(0,A),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function f(g){const y=g.indexOf("'");if(y===-1)return g;const b=g.slice(0,y),x=g.slice(y+1).replace(/^[^']*'/,"");return r(b,x)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,A,x){if(A==="q"||A==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,k){return String.fromCharCode(parseInt(k,16))}),r(b,x);try{x=atob(x)}catch{}return r(b,x)})}return""}function Uk(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Tb(s){var t;return((t=URL.parse(s))==null?void 0:t.origin)??null}function Gk({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(s.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Vk(s){const t=s.get("Content-Disposition");if(t){let e=VF(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Vw(e))return e}return null}function Sg(s,t){return new zy(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s,s===404||s===0&&t.startsWith("file:"))}function qk(s){return s===200||s===206}function Yk(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Xk(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(zt(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class ST{constructor(t){gt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Uk(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return sn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new YF(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class qF{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,Yk(n,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=Tb(l.url),!qk(l.status))throw Sg(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:c,suggestedLength:f}=Gk({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=f||this._contentLength,this._filename=Vk(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ul("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Xk(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class YF{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const u=r.url;fetch(u,Yk(l,this._withCredentials,this._abortController)).then(c=>{const f=Tb(c.url);if(f!==t._responseOrigin)throw new Error(`Expected range response-origin "${f}" to match "${t._responseOrigin}".`);if(!qk(c.status))throw Sg(c.status,u);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Xk(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const AA=200,SA=206;function XF(s){const t=s.response;return typeof t!="string"?t:yg(t).buffer}class $F{constructor({url:t,httpHeaders:e,withCredentials:n}){gt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Uk(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,u]of this.headers)e.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=SA):r.expectedStatus=AA,e.responseType="arraybuffer",sn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var r;const n=this.pendingRequests[t];n&&((r=n.onProgress)==null||r.call(n,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const l=r.status||AA;if(!(l===AA&&n.expectedStatus===SA)&&l!==n.expectedStatus){n.onError(r.status);return}const c=XF(r);if(l===SA){const f=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);p?n.onDone({begin:parseInt(p[1],10),chunk:c}):(zt('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class WF{constructor(t){this._source=t,this._manager=new $F(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return sn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new KF(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new QF(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class KF{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Tb(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[f,...p]=c.split(": ");return[f,p.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:u}=Gk({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=u||this._contentLength,this._filename=Vk(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Sg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class QF{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Tb((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=Sg(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ZF=/^[a-z][a-z0-9\-+.]+:/i;function JF(s){if(ZF.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class tB{constructor(t){this.source=t,this.url=JF(t.url),sn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return sn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new eB(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new nB(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class eB{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Sg(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ul("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nB{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const iB=1e5,wT=30;var BT,wl,wi,Ap,Sp,qo,sr,wp,xp,Yo,uh,ch,xl,hh,Ep,dh,Xo,_p,Cp,fh,$o,Tp,El,ph,Cr,$k,Wk,_S,es,hy,CS,Kk,Qk;const cn=class cn{constructor({textContentSource:t,container:e,viewport:n}){T(this,Cr);T(this,wl,Promise.withResolvers());T(this,wi,null);T(this,Ap,!1);T(this,Sp,!!((BT=globalThis.FontInspector)!=null&&BT.enabled));T(this,qo,null);T(this,sr,null);T(this,wp,0);T(this,xp,0);T(this,Yo,null);T(this,uh,null);T(this,ch,0);T(this,xl,0);T(this,hh,Object.create(null));T(this,Ep,[]);T(this,dh,null);T(this,Xo,[]);T(this,_p,new WeakMap);T(this,Cp,null);var f;if(t instanceof ReadableStream)w(this,dh,t);else if(typeof t=="object")w(this,dh,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,wi,w(this,uh,e)),w(this,xl,n.scale*_r.pixelRatio),w(this,ch,n.rotation),w(this,sr,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:u,pageY:c}=n.rawDims;w(this,Cp,[1,0,0,-1,-u,c+l]),w(this,xp,r),w(this,wp,l),D(f=cn,es,Kk).call(f),Du(e,n),d(this,wl).promise.finally(()=>{d(cn,ph).delete(this),w(this,sr,null),w(this,hh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Fn.platform;return Qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Yo).read().then(({value:e,done:n})=>{if(n){d(this,wl).resolve();return}d(this,qo)??w(this,qo,e.lang),Object.assign(d(this,hh),e.styles),D(this,Cr,$k).call(this,e.items),t()},d(this,wl).reject)};return w(this,Yo,d(this,dh).getReader()),d(cn,ph).add(this),t(),d(this,wl).promise}update({viewport:t,onBefore:e=null}){var l;const n=t.scale*_r.pixelRatio,r=t.rotation;if(r!==d(this,ch)&&(e==null||e(),w(this,ch,r),Du(d(this,uh),{rotation:r})),n!==d(this,xl)){e==null||e(),w(this,xl,n);const u={div:null,properties:null,ctx:D(l=cn,es,hy).call(l,d(this,qo))};for(const c of d(this,Xo))u.properties=d(this,_p).get(c),u.div=c,D(this,Cr,_S).call(this,u)}}cancel(){var e;const t=new Ul("TextLayer task cancelled.");(e=d(this,Yo))==null||e.cancel(t).catch(()=>{}),w(this,Yo,null),d(this,wl).reject(t)}get textDivs(){return d(this,Xo)}get textContentItemsStr(){return d(this,Ep)}static cleanup(){if(!(d(this,ph).size>0)){d(this,fh).clear();for(const{canvas:t}of d(this,$o).values())t.remove();d(this,$o).clear()}}};wl=new WeakMap,wi=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,qo=new WeakMap,sr=new WeakMap,wp=new WeakMap,xp=new WeakMap,Yo=new WeakMap,uh=new WeakMap,ch=new WeakMap,xl=new WeakMap,hh=new WeakMap,Ep=new WeakMap,dh=new WeakMap,Xo=new WeakMap,_p=new WeakMap,Cp=new WeakMap,fh=new WeakMap,$o=new WeakMap,Tp=new WeakMap,El=new WeakMap,ph=new WeakMap,Cr=new WeakSet,$k=function(t){var r,l;if(d(this,Ap))return;(l=d(this,sr)).ctx??(l.ctx=D(r=cn,es,hy).call(r,d(this,qo)));const e=d(this,Xo),n=d(this,Ep);for(const u of t){if(e.length>iB){zt("Ignoring additional textDivs for performance reasons."),w(this,Ap,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const c=d(this,wi);w(this,wi,document.createElement("span")),d(this,wi).classList.add("markedContent"),u.id!==null&&d(this,wi).setAttribute("id",`${u.id}`),c.append(d(this,wi))}else u.type==="endMarkedContent"&&w(this,wi,d(this,wi).parentNode);continue}n.push(u.str),D(this,Cr,Wk).call(this,u)}},Wk=function(t){var S;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Xo).push(e);const r=Et.transform(d(this,Cp),t.transform);let l=Math.atan2(r[1],r[0]);const u=d(this,hh)[t.fontName];u.vertical&&(l+=Math.PI/2);let c=d(this,Sp)&&u.fontSubstitution||u.fontFamily;c=cn.fontFamilyMap.get(c)||c;const f=Math.hypot(r[2],r[3]),p=f*D(S=cn,es,Qk).call(S,c,u,d(this,qo));let g,y;l===0?(g=r[4],y=r[5]-p):(g=r[4]+p*Math.sin(l),y=r[5]-p*Math.cos(l));const b="calc(var(--total-scale-factor) *",A=e.style;d(this,wi)===d(this,uh)?(A.left=`${(100*g/d(this,xp)).toFixed(2)}%`,A.top=`${(100*y/d(this,wp)).toFixed(2)}%`):(A.left=`${b}${g.toFixed(2)}px)`,A.top=`${b}${y.toFixed(2)}px)`),A.fontSize=`${b}${(d(cn,El)*f).toFixed(2)}px)`,A.fontFamily=c,n.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,Sp)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const k=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);k!==C&&Math.max(k,C)/Math.min(k,C)>1.5&&(x=!0)}if(x&&(n.canvasWidth=u.vertical?t.height:t.width),d(this,_p).set(e,n),d(this,sr).div=e,d(this,sr).properties=n,D(this,Cr,_S).call(this,d(this,sr)),n.hasText&&d(this,wi).append(e),n.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),d(this,wi).append(k)}},_S=function(t){var c;const{div:e,properties:n,ctx:r}=t,{style:l}=e;let u="";if(d(cn,El)>1&&(u=`scale(${1/d(cn,El)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:g}=n;D(c=cn,es,CS).call(c,r,g*d(this,xl),f);const{width:y}=r.measureText(e.textContent);y>0&&(u=`scaleX(${p*d(this,xl)/y}) ${u}`)}n.angle!==0&&(u=`rotate(${n.angle}deg) ${u}`),u.length>0&&(l.transform=u)},es=new WeakSet,hy=function(t=null){let e=d(this,$o).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,$o).set(t,e),d(this,Tp).set(e,{size:0,family:""})}return e},CS=function(t,e,n){const r=d(this,Tp).get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)},Kk=function(){if(d(this,El)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),w(this,El,t.getBoundingClientRect().height),t.remove()},Qk=function(t,e,n){const r=d(this,fh).get(t);if(r)return r;const l=D(this,es,hy).call(this,n);l.canvas.width=l.canvas.height=wT,D(this,es,CS).call(this,l,wT,t);const u=l.measureText(""),c=u.fontBoundingBoxAscent,f=Math.abs(u.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let p=.8;return c?p=c/(c+f):(Fn.platform.isFirefox&&zt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),d(this,fh).set(t,p),p},T(cn,es),T(cn,fh,new Map),T(cn,$o,new Map),T(cn,Tp,new WeakMap),T(cn,El,null),T(cn,ph,new Set);let If=cn;class Ff{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(l){var f;if(!l)return;let u=null;const c=l.name;if(c==="#text")u=l.value;else if(Ff.shouldBuildText(c))(f=l==null?void 0:l.attributes)!=null&&f.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&e.push({str:u}),!!l.children)for(const p of l.children)r(p)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const sB=65536,aB=100;function Zk(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new DS,{docId:e}=t,n=s.url?rB(s.url):null,r=s.data?lB(s.data):null,l=s.httpHeaders||null,u=s.withCredentials===!0,c=s.password??null,f=s.range instanceof Jk?s.range:null,p=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:sB;let g=s.worker instanceof Bc?s.worker:null;const y=s.verbosity,b=typeof s.docBaseUrl=="string"&&!Cb(s.docBaseUrl)?s.docBaseUrl:null,A=$m(s.cMapUrl),x=s.cMapPacked!==!1,S=s.CMapReaderFactory||(li?xF:uT),k=$m(s.iccUrl),C=$m(s.standardFontDataUrl),O=s.StandardFontDataFactory||(li?EF:cT),N=$m(s.wasmUrl),z=s.WasmFactory||(li?_F:hT),P=s.stopAtErrors!==!0,L=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,j=s.isEvalSupported!==!1,W=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!li,Q=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!li&&(Fn.platform.isFirefox||!globalThis.chrome),it=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,X=typeof s.disableFontFace=="boolean"?s.disableFontFace:li,Z=s.fontExtraProperties===!0,ct=s.enableXfa===!0,J=s.ownerDocument||globalThis.document,ht=s.disableRange===!0,B=s.disableStream===!0,q=s.disableAutoFetch===!0,yt=s.pdfBug===!0,xt=s.CanvasFactory||(li?wF:vF),_=s.FilterFactory||(li?SF:AF),K=s.enableHWA===!0,ot=s.useWasm!==!1,R=f?f.length:s.length??NaN,st=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!li&&!X,ft=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(S===uT&&O===cT&&z===hT&&A&&C&&N&&wc(A,document.baseURI)&&wc(C,document.baseURI)&&wc(N,document.baseURI)),nt=null;Z3(y);const ut={canvasFactory:new xt({ownerDocument:J,enableHWA:K}),filterFactory:new _({docId:e,ownerDocument:J}),cMapReaderFactory:ft?null:new S({baseUrl:A,isCompressed:x}),standardFontDataFactory:ft?null:new O({baseUrl:C}),wasmFactory:ft?null:new z({baseUrl:N})};if(!g){const jt={verbosity:y,port:Sa.workerPort};g=jt.port?Bc.fromPort(jt):new Bc(jt),t._worker=g}const mt={docId:e,apiVersion:"5.2.133",data:r,password:c,disableAutoFetch:q,rangeChunkSize:p,length:R,docBaseUrl:b,enableXfa:ct,evaluatorOptions:{maxImageSize:L,disableFontFace:X,ignoreErrors:P,isEvalSupported:j,isOffscreenCanvasSupported:W,isImageDecoderSupported:Q,canvasMaxAreaInBytes:it,fontExtraProperties:Z,useSystemFonts:st,useWasm:ot,useWorkerFetch:ft,cMapUrl:A,iccUrl:k,standardFontDataUrl:C,wasmUrl:N}},Tt={ownerDocument:J,pdfBug:yt,styleElement:nt,loadingParams:{disableAutoFetch:q,enableXfa:ct}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const jt=g.messageHandler.sendWithPromise("GetDocRequest",mt,r?[r.buffer]:null);let fe;if(f)fe=new HF(f,{disableRange:ht,disableStream:B});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let pe;if(li)if(wc(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");pe=ST}else pe=tB;else pe=wc(n)?ST:WF;fe=new pe({url:n,length:R,httpHeaders:l,withCredentials:u,rangeChunkSize:p,disableRange:ht,disableStream:B})}return jt.then(pe=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Zt=new mf(e,pe,g.port),Vt=new fB(Zt,t,fe,Tt,ut);t._transport=Vt,Zt.send("Ready",null)})}).catch(t._capability.reject),t}function rB(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(li)return s;const t=URL.parse(s,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function lB(s){if(li&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return yg(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $m(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const TS=s=>typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0,oB=s=>typeof s=="object"&&typeof(s==null?void 0:s.name)=="string",uB=lF.bind(null,TS,oB);var tb;const eb=class eb{constructor(){gt(this,"_capability",Promise.withResolvers());gt(this,"_transport",null);gt(this,"_worker",null);gt(this,"docId",`d${ei(eb,tb)._++}`);gt(this,"destroyed",!1);gt(this,"onPassword",null);gt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,n,r;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(l){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,l}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};tb=new WeakMap,T(eb,tb,0);let DS=eb;class Jk{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class cB{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ar,Wo,Sf;class hB{constructor(t,e,n,r=!1){T(this,Wo);T(this,ar,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new rT:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new tR,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new vg({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=il.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:c=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){var z,P;(z=this._stats)==null||z.time("Overall");const b=this._transport.getRenderingIntent(n,r,g,y),{renderingIntent:A,cacheKey:x}=b;w(this,ar,!1),c||(c=this._transport.getOptionalContentConfig(A));let S=this._intentStates.get(x);S||(S=Object.create(null),this._intentStates.set(x,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const k=!!(A&Ki.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(b));const C=L=>{var j;S.renderTasks.delete(O),k&&w(this,ar,!0),D(this,Wo,Sf).call(this),L?(O.capability.reject(L),this._abortOperatorList({intentState:S,reason:L instanceof Error?L:new Error(L)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(j=globalThis.Stats)!=null&&j.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new RS({callback:C,params:{canvasContext:t,viewport:e,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p});(S.renderTasks||(S.renderTasks=new Set)).add(O);const N=O.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([L,j])=>{var W;if(this.destroyed){C();return}if((W=this._stats)==null||W.time("Rendering"),!(j.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:L,optionalContentConfig:j}),O.operatorListChanged()}).catch(C),N}getOperatorList({intent:t="display",annotationMode:e=il.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function l(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,n,r,!0);let c=this._intentStates.get(u.cacheKey);c||(c=Object.create(null),this._intentStates.set(u.cacheKey,c));let f;return c.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(f),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(u)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ff.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function l(){u.read().then(function({value:f,done:p}){if(p){n(c);return}c.lang??(c.lang=f.lang),Object.assign(c.styles,f.styles),c.items.push(...f.items),l()},r)}const u=e.getReader(),c={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),w(this,ar,!1),Promise.all(t)}cleanup(t=!1){w(this,ar,!0);const e=D(this,Wo,Sf).call(this);return t&&e&&this._stats&&(this._stats=new rT),e}_startRenderPage(t,e){var r,l;const n=this._intentStates.get(e);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=n.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&D(this,Wo,Sf).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:u}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},u).getReader(),p=this._intentStates.get(e);p.streamReader=f;const g=()=>{f.read().then(({value:y,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();D(this,Wo,Sf).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Gw){let r=aB;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Ul(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}ar=new WeakMap,Wo=new WeakSet,Sf=function(){if(!d(this,ar)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,ar,!1),!0};var rr,nb;class dB{constructor(){T(this,rr,new Map);T(this,nb,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};d(this,nb).then(()=>{for(const[r]of d(this,rr))r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:l}=n;if(l.aborted){zt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}d(this,rr).set(e,r)}removeEventListener(t,e){const n=d(this,rr).get(e);n==null||n(),d(this,rr).delete(e)}terminate(){for(const[,t]of d(this,rr))t==null||t();d(this,rr).clear()}}rr=new WeakMap,nb=new WeakMap;var ib,Ko,Qo,gh,dy,mh,fy;const Me=class Me{constructor({name:t=null,port:e=null,verbosity:n=J3()}={}){T(this,gh);var r;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=d(Me,Qo))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(Me,Qo)||w(Me,Qo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new mf("main","worker",t),this._messageHandler.on("ready",function(){}),D(this,gh,dy).call(this)}_initialize(){if(d(Me,Ko)||d(Me,mh,fy)){this._setupFakeWorker();return}let{workerSrc:t}=Me;try{Me._isSameOrigin(window.location,t)||(t=Me._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new mf("main","worker",e),r=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),n.on("test",c=>{if(l.abort(),this.destroyed||!c){r();return}this._messageHandler=n,this._port=e,this._webWorker=e,D(this,gh,dy).call(this)}),n.on("ready",c=>{if(l.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};u();return}catch{_b("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(Me,Ko)||(zt("Setting up fake worker."),w(Me,Ko,!0)),Me._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new dB;this._port=e;const n=`fake${ei(Me,ib)._++}`,r=new mf(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new mf(n,n+"_worker",e),D(this,gh,dy).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,n;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=d(Me,Qo))==null||e.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=d(this,Qo))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Me(t)}static get workerSrc(){if(Sa.workerSrc)return Sa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Qt(this,"_setupFakeWorkerGlobal",(async()=>d(this,mh,fy)?d(this,mh,fy):(await import(this.workerSrc)).WorkerMessageHandler)())}};ib=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,gh=new WeakSet,dy=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},mh=new WeakSet,fy=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},T(Me,mh),T(Me,ib,0),T(Me,Ko,!1),T(Me,Qo),li&&(w(Me,Ko,!0),Sa.workerSrc||(Sa.workerSrc="./pdf.worker.mjs")),Me._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},Me._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Bc=Me;var lr,fa,yh,bh,or,Zo,wf;class fB{constructor(t,e,n,r,l){T(this,Zo);T(this,lr,new Map);T(this,fa,new Map);T(this,yh,new Map);T(this,bh,new Map);T(this,or,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new tR,this.fontLoader=new yF({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Qt(this,"annotationStorage",new $w)}getRenderingIntent(t,e=il.ENABLE,n=null,r=!1,l=!1){let u=Ki.DISPLAY,c=mS;switch(t){case"any":u=Ki.ANY;break;case"display":break;case"print":u=Ki.PRINT;break;default:zt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&Ki.PRINT&&n instanceof Nk?n:this.annotationStorage;switch(e){case il.DISABLE:u+=Ki.ANNOTATIONS_DISABLE;break;case il.ENABLE:break;case il.ENABLE_FORMS:u+=Ki.ANNOTATIONS_FORMS;break;case il.ENABLE_STORAGE:u+=Ki.ANNOTATIONS_STORAGE,c=f.serializable;break;default:zt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=Ki.IS_EDITING),l&&(u+=Ki.OPLIST);const{ids:p,hash:g}=f.modifiedIds,y=[u,c.hash,g];return{renderingIntent:u,cacheKey:y.join("_"),annotationStorageSerializable:c,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,or))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of d(this,fa).values())t.push(r._destroy());d(this,fa).clear(),d(this,yh).clear(),d(this,bh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r,l;this.commonObjs.clear(),this.fontLoader.clear(),d(this,lr).clear(),this.filterFactory.destroy(),If.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Ul("Worker was terminated.")),(l=this.messageHandler)==null||l.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{sn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){r.close();return}sn(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:u}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((c=e.onProgress)==null||c.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(n,r)=>{sn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:u,done:c}){if(c){r.close();return}sn(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{l.cancel(u),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new cB(n,this))}),t.on("DocException",n=>{e._capability.reject(vi(n))}),t.on("PasswordRequest",n=>{w(this,or,Promise.withResolvers());try{if(!e.onPassword)throw vi(n);const r=l=>{l instanceof Error?d(this,or).reject(l):d(this,or).resolve({password:l})};e.onPassword(r,n.code)}catch(r){d(this,or).reject(r)}return d(this,or).promise}),t.on("DataLoaded",n=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,fa).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{var u;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in l){const g=l.error;zt(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const c=this._params.pdfBug&&((u=globalThis.FontInspector)!=null&&u.enabled)?(g,y)=>globalThis.FontInspector.fontAdded(g,y):null,f=new bF(l,c);this.fontLoader.bind(f).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!f.fontExtraProperties&&f.data&&(f.data=null),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:p}=l;sn(p,"The imageRef must be defined.");for(const g of d(this,fa).values())for(const[,y]of g.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(n,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,u])=>{var f;if(this.destroyed)return;const c=d(this,fa).get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(l){case"Image":case"Pattern":c.objs.resolve(n,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=d(this,yh).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,bh).set(l.refStr,t);const u=new hB(e,l,this,this._params.pdfBug);return d(this,fa).set(e,u),u});return d(this,yh).set(e,r),r}getPageIndex(t){return TS(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return D(this,Zo,wf).call(this,"GetFieldObjects")}hasJSActions(){return D(this,Zo,wf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return D(this,Zo,wf).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return D(this,Zo,wf).call(this,"GetOptionalContentConfig").then(e=>new jF(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,lr).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,u;return{info:r[0],metadata:r[1]?new FF(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return d(this,lr).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,fa).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,lr).clear(),this.filterFactory.destroy(!0),If.cleanup()}}cachedPageNumber(t){if(!TS(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,bh).get(e)??null}}lr=new WeakMap,fa=new WeakMap,yh=new WeakMap,bh=new WeakMap,or=new WeakMap,Zo=new WeakSet,wf=function(t,e=null){const n=d(this,lr).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return d(this,lr).set(t,r),r};const lf=Symbol("INITIAL_DATA");var ji,Dp,kS;class tR{constructor(){T(this,Dp);T(this,ji,Object.create(null))}get(t,e=null){if(e){const r=D(this,Dp,kS).call(this,t);return r.promise.then(()=>e(r.data)),null}const n=d(this,ji)[t];if(!n||n.data===lf)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=d(this,ji)[t];return!!e&&e.data!==lf}delete(t){const e=d(this,ji)[t];return!e||e.data===lf?!1:(delete d(this,ji)[t],!0)}resolve(t,e=null){const n=D(this,Dp,kS).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in d(this,ji)){const{data:n}=d(this,ji)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}w(this,ji,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,ji)){const{data:e}=d(this,ji)[t];e!==lf&&(yield[t,e])}}}ji=new WeakMap,Dp=new WeakSet,kS=function(t){var e;return(e=d(this,ji))[t]||(e[t]={...Promise.withResolvers(),data:lf})};var _l;class pB{constructor(t){T(this,_l,null);gt(this,"onContinue",null);gt(this,"onError",null);w(this,_l,t)}get promise(){return d(this,_l).capability.promise}cancel(t=0){d(this,_l).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,_l).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,_l);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}_l=new WeakMap;var Cl,Jo;const So=class So{constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:u,pageIndex:c,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:b=null}){T(this,Cl,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=c,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pB(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,f;if(this.cancelled)return;if(this._canvas){if(d(So,Jo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(So,Jo).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:u}=this.params;this.gfx=new Fc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var n,r,l;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,Cl)&&(window.cancelAnimationFrame(d(this,Cl)),w(this,Cl,null)),d(So,Jo).delete(this._canvas),t||(t=new Gw(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(l=(r=this.task).onError)==null||l.call(r,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,Cl,window.requestAnimationFrame(()=>{w(this,Cl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(So,Jo).delete(this._canvas),this.callback())))}};Cl=new WeakMap,Jo=new WeakMap,T(So,Jo,new WeakSet);let RS=So;const gB="5.2.133",mB="4f7761353";function xT(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function of(s){return Math.max(0,Math.min(255,255*s))}class ET{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=of(t),[t,t,t]}static G_HTML([t]){const e=xT(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(of)}static RGB_HTML(t){return`#${t.map(xT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[of(1-Math.min(1,t+r)),of(1-Math.min(1,n+r)),of(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,l=1-e,u=1-n,c=Math.min(r,l,u);return["CMYK",r,l,u,c]}}class yB{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ae("Abstract method `_createSVG` called.")}}class By extends yB{_createSVG(t){return document.createElementNS(Ua,t)}}class eR{static setupStorage(t,e,n,r,l){const u=r.getValue(e,{value:null});switch(n.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(u.value===n.attributes.xfaOn?t.setAttribute("checked",!0):u.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const c of n.children)c.attributes.value===u.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const f=c.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:l}){const{attributes:u}=e,c=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!c||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}c&&l.addLinkAttributes(t,u.href,u.newWindow),n&&u.dataId&&this.setupStorage(t,u.dataId,e,n)}static render(t){var y,b;const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:l,linkService:n});const c=l!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}c&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),c&&Ff.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const g=[[r,-1,u]];for(;g.length>0;){const[A,x,S]=g.at(-1);if(x+1===A.children.length){g.pop();continue}const k=A.children[++g.at(-1)[1]];if(k===null)continue;const{name:C}=k;if(C==="#text"){const N=document.createTextNode(k.value);p.push(N),S.append(N);continue}const O=(y=k==null?void 0:k.attributes)!=null&&y.xmlns?document.createElementNS(k.attributes.xmlns,C):document.createElement(C);if(S.append(O),k.attributes&&this.setAttributes({html:O,element:k,storage:e,intent:l,linkService:n}),((b=k.children)==null?void 0:b.length)>0)g.push([k,-1,O]);else if(k.value){const N=document.createTextNode(k.value);c&&Ff.shouldBuildText(C)&&p.push(N),O.append(N)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const wg=1e3,bB=9,Ru=new WeakSet;class _T{static create(t){switch(t.data.annotationType){case tn.LINK:return new nR(t);case tn.TEXT:return new vB(t);case tn.WIDGET:switch(t.data.fieldType){case"Tx":return new AB(t);case"Btn":return t.data.radioButton?new aR(t):t.data.checkBox?new wB(t):new xB(t);case"Ch":return new EB(t);case"Sig":return new SB(t)}return new zu(t);case tn.POPUP:return new NS(t);case tn.FREETEXT:return new cR(t);case tn.LINE:return new CB(t);case tn.SQUARE:return new TB(t);case tn.CIRCLE:return new DB(t);case tn.POLYLINE:return new hR(t);case tn.CARET:return new RB(t);case tn.INK:return new Qw(t);case tn.POLYGON:return new kB(t);case tn.HIGHLIGHT:return new dR(t);case tn.UNDERLINE:return new MB(t);case tn.SQUIGGLY:return new NB(t);case tn.STRIKEOUT:return new OB(t);case tn.STAMP:return new fR(t);case tn.FILEATTACHMENT:return new LB(t);default:return new Ke(t)}}}var tu,vh,Ah,kp,MS;const lx=class lx{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){T(this,kp);T(this,tu,null);T(this,vh,!1);T(this,Ah,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return lx._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;d(this,tu)||w(this,tu,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&D(this,kp,MS).call(this,e),(n=d(this,Ah))==null||n.popup.updateEdited(t)}resetEdited(){var t;d(this,tu)&&(D(this,kp,MS).call(this,d(this,tu).rect),(t=d(this,Ah))==null||t.popup.resetEdited(),w(this,tu,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof zu||(l.tabIndex=wg);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof NS){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:c,height:f}=this;if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,k=e.borderStyle.verticalCornerRadius;if(S>0||k>0){const O=`calc(${S}px * var(--total-scale-factor)) / calc(${k}px * var(--total-scale-factor))`;u.borderRadius=O}else if(this instanceof aR){const O=`calc(${c}px * var(--total-scale-factor)) / calc(${f}px * var(--total-scale-factor))`;u.borderRadius=O}switch(e.borderStyle.style){case Sc.SOLID:u.borderStyle="solid";break;case Sc.DASHED:u.borderStyle="dashed";break;case Sc.BEVELED:zt("Unimplemented border style: beveled");break;case Sc.INSET:zt("Unimplemented border style: inset");break;case Sc.UNDERLINE:u.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(w(this,vh,!0),u.borderColor=Et.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):u.borderWidth=0}const p=Et.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:y,pageX:b,pageY:A}=r.rawDims;u.left=`${100*(p[0]-b)/g}%`,u.top=`${100*(p[1]-A)/y}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(u.width=`${100*c/g}%`,u.height=`${100*f/y}%`):this.setRotation(x,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:l,height:u}=this;t%180!==0&&([l,u]=[u,l]),e.style.width=`${100*l/n}%`,e.style.height=`${100*u/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const l=r.detail[e],u=l[0],c=l.slice(1);r.target.style[n]=ET[`${u}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:ET[`${u}_rgb`](c)})};return Qt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||n[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,l]of Object.entries(e)){const u=n[r];if(u){const c={detail:{[r]:l},target:t};u(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,l]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,k,C,O]=t.subarray(2,6);if(r===S&&l===k&&e===C&&n===O)return}const{style:u}=this.container;let c;if(d(this,vh)){const{borderColor:S,borderWidth:k}=u;u.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const f=r-e,p=l-n,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=g.createElement("defs");y.append(b);const A=g.createElement("clipPath"),x=`clippath_${this.data.id}`;A.setAttribute("id",x),A.setAttribute("clipPathUnits","objectBoundingBox"),b.append(A);for(let S=2,k=t.length;S<k;S+=8){const C=t[S],O=t[S+1],N=t[S+2],z=t[S+3],P=g.createElement("rect"),L=(N-e)/f,j=(l-O)/p,W=(C-N)/f,Q=(O-z)/p;P.setAttribute("x",L),P.setAttribute("y",j),P.setAttribute("width",W),P.setAttribute("height",Q),A.append(P),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${j}" width="${W}" height="${Q}"/>`)}d(this,vh)&&(c.push("</g></svg>')"),u.backgroundImage=c.join("")),this.container.append(y),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=w(this,Ah,new NS({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:u,exportValues:c}of r){if(l===-1||u===e)continue;const f=typeof c=="string"?c:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Ru.has(p)){zt(`_getElementsByName - element not allowed: ${u}`);continue}n.push({id:u,exportValue:f,domElement:p})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,u=r.getAttribute("data-element-id");u!==e&&Ru.has(r)&&n.push({id:u,exportValue:l,domElement:r})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};tu=new WeakMap,vh=new WeakMap,Ah=new WeakMap,kp=new WeakSet,MS=function(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:c,pageY:f}}}}=this;n==null||n.splice(0,4,...t),e.left=`${100*(t[0]-c)/l}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/u}%`):this.setRotation(r)};let Ke=lx;var Ji,yo,iR,sR;class nR extends Ke{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,Ji);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(D(this,Ji,iR).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(D(this,Ji,sR).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&D(this,Ji,yo).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),D(this,Ji,yo).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const u=r.get(l);u&&(e[u]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),D(this,Ji,yo).call(this)}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),D(this,Ji,yo).call(this),!this._fieldObjects){zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var y;r==null||r();const{fields:l,refs:u,include:c}=n,f=[];if(l.length!==0||u.length!==0){const b=new Set(u);for(const A of l){const x=this._fieldObjects[A]||[];for(const{id:S}of x)b.add(S)}for(const A of Object.values(this._fieldObjects))for(const x of A)b.has(x.id)===c&&f.push(x)}else for(const b of Object.values(this._fieldObjects))f.push(...b);const p=this.annotationStorage,g=[];for(const b of f){const{id:A}=b;switch(g.push(A),b.type){case"text":{const S=b.defaultValue||"";p.setValue(A,{value:S});break}case"checkbox":case"radiobutton":{const S=b.defaultValue===b.exportValues;p.setValue(A,{value:S});break}case"combobox":case"listbox":{const S=b.defaultValue||"";p.setValue(A,{value:S});break}default:continue}const x=document.querySelector(`[data-element-id="${A}"]`);if(x){if(!Ru.has(x)){zt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Ji=new WeakSet,yo=function(){this.container.setAttribute("data-internal-link","")},iR=function(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,r),!1},D(this,Ji,yo).call(this)},sR=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),D(this,Ji,yo).call(this)};class vB extends Ke{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class zu extends Ke{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Fn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,l){n.includes("mouse")?t.addEventListener(n,u=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(n,u=>{var c;if(n==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u)}}))})}_setEventListeners(t,e,n,r){var l,u,c;for(const[f,p]of n)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Et.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||bB,l=t.style;let u;const c=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c),g=Math.round(p/(pA*r))||1,y=p/g;u=Math.min(r,f(y/pA))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c);u=Math.min(r,f(p/pA))}l.fontSize=`calc(${u}px * var(--total-scale-factor))`,l.color=Et.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class AB extends zu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=n),l.setValue(u.id,{[r]:n})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let c=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&c.length>f&&(c=c.slice(0,f));let p=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:c,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",p??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ru.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=wg,this._setRequired(n,this.data.required),f&&(n.maxLength=f),n.addEventListener("input",b=>{t.setValue(e,{value:b.target.value}),this.setPropertyOnSiblings(n,"value",b.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",b=>{const A=this.data.defaultFieldValue??"";n.value=g.userValue=A,g.formattedValue=null});let y=b=>{const{formattedValue:A}=g;A!=null&&(b.target.value=A),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var S;if(g.focused)return;const{target:x}=A;g.userValue&&(x.value=g.userValue),g.lastCommittedValue=x.value,g.commitKey=1,(S=this.data.actions)!=null&&S.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const x={value(S){g.userValue=S.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),S.target.value=g.userValue},formattedValue(S){const{formattedValue:k}=S.detail;g.formattedValue=k,k!=null&&S.target!==document.activeElement&&(S.target.value=k),t.setValue(e,{formattedValue:k})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{var N;const{charLimit:k}=S.detail,{target:C}=S;if(k===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",k);let O=g.userValue;!O||O.length<=k||(O=O.slice(0,k),C.value=g.userValue=O,t.setValue(e,{value:O}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(x,A)}),n.addEventListener("keydown",A=>{var k;g.commitKey=1;let x=-1;if(A.key==="Escape"?x=0:A.key==="Enter"&&!this.data.multiLine?x=2:A.key==="Tab"&&(g.commitKey=3),x===-1)return;const{value:S}=A.target;g.lastCommittedValue!==S&&(g.lastCommittedValue=S,g.userValue=S,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:x,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const b=y;y=null,n.addEventListener("blur",A=>{var S,k;if(!g.focused||!A.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(g.focused=!1);const{value:x}=A.target;g.userValue=x,g.lastCommittedValue!==x&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:g.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),b(A)}),(l=this.data.actions)!=null&&l.Keystroke&&n.addEventListener("beforeinput",A=>{var P;g.lastCommittedValue=null;const{data:x,target:S}=A,{value:k,selectionStart:C,selectionEnd:O}=S;let N=C,z=O;switch(A.inputType){case"deleteWordBackward":{const L=k.substring(0,C).match(/\w*[^\w]*$/);L&&(N-=L[0].length);break}case"deleteWordForward":{const L=k.substring(C).match(/^[^\w]*\w*/);L&&(z+=L[0].length);break}case"deleteContentBackward":C===O&&(N-=1);break;case"deleteContentForward":C===O&&(z+=1);break}A.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,change:x||"",willCommit:!1,selStart:N,selEnd:z}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class SB extends zu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class wB extends zu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Ru.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=wg,l.addEventListener("change",u=>{const{name:c,checked:f}=u.target;for(const p of this._getElementsByName(c,n)){const g=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(n,{value:f})}),l.addEventListener("resetform",u=>{const c=e.defaultFieldValue||"Off";u.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const c={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(c,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class aR extends zu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,n))t.setValue(u.id,{value:!1});const l=document.createElement("input");if(Ru.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=wg,l.addEventListener("change",u=>{const{name:c,checked:f}=u.target;for(const p of this._getElementsByName(c,n))t.setValue(p.id,{value:!1});t.setValue(n,{value:f})}),l.addEventListener("resetform",u=>{const c=e.defaultFieldValue;u.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;l.addEventListener("updatefromsandbox",c=>{const f={value:p=>{const g=u===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const b=g&&y.id===n;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(f,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class xB extends nR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class EB extends zu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Ru.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=wg;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,n.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),l=!1),r.append(y)}let u=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),u=()=>{g.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const c=g=>{const y=g?"value":"textContent",{options:b,multiple:A}=r;return A?Array.prototype.filter.call(b,x=>x.selected).map(x=>x[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let f=c(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const y={value(b){u==null||u();const A=b.detail.value,x=new Set(Array.isArray(A)?A:[A]);for(const S of r.options)S.selected=x.has(S.value);t.setValue(e,{value:c(!0)}),f=c(!1)},multipleSelection(b){r.multiple=!0},remove(b){const A=r.options,x=b.detail.remove;A[x].selected=!1,r.remove(x),A.length>0&&Array.prototype.findIndex.call(A,k=>k.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:c(!0),items:p(b)}),f=c(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=c(!1)},insert(b){const{index:A,displayValue:x,exportValue:S}=b.detail.insert,k=r.children[A],C=document.createElement("option");C.textContent=x,C.value=S,k?k.before(C):r.append(C),t.setValue(e,{value:c(!0),items:p(b)}),f=c(!1)},items(b){const{items:A}=b.detail;for(;r.length!==0;)r.remove(0);for(const x of A){const{displayValue:S,exportValue:k}=x,C=document.createElement("option");C.textContent=S,C.value=k,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:p(b)}),f=c(!1)},indices(b){const A=new Set(b.detail.indices);for(const x of b.target.options)x.selected=A.has(x.index);t.setValue(e,{value:c(!0)}),f=c(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,g)}),r.addEventListener("input",g=>{var A;const y=c(!0),b=c(!1);t.setValue(e,{value:y}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class NS extends Ke{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Ke._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new _B({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${Uw}${n}`).join(",")),this.container}}var Sh,sb,ab,wh,xh,Ue,ur,Eh,Rp,Mp,_h,cr,Ps,hr,Np,dr,Op,eu,nu,Se,py,OS,rR,lR,oR,uR,gy,my,LS;class _B{constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:l,contentsObj:u,richText:c,parent:f,rect:p,parentRect:g,open:y}){T(this,Se);T(this,Sh,D(this,Se,oR).bind(this));T(this,sb,D(this,Se,LS).bind(this));T(this,ab,D(this,Se,my).bind(this));T(this,wh,D(this,Se,gy).bind(this));T(this,xh,null);T(this,Ue,null);T(this,ur,null);T(this,Eh,null);T(this,Rp,null);T(this,Mp,null);T(this,_h,null);T(this,cr,!1);T(this,Ps,null);T(this,hr,null);T(this,Np,null);T(this,dr,null);T(this,Op,null);T(this,eu,null);T(this,nu,!1);var b;w(this,Ue,t),w(this,Op,r),w(this,ur,u),w(this,dr,c),w(this,Mp,f),w(this,xh,e),w(this,Np,p),w(this,_h,g),w(this,Rp,n),w(this,Eh,qw.toDateObject(l)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,wh)),A.addEventListener("mouseenter",d(this,ab)),A.addEventListener("mouseleave",d(this,sb)),A.classList.add("popupTriggerArea");for(const A of n)(b=A.container)==null||b.addEventListener("keydown",d(this,Sh));d(this,Ue).hidden=!0,y&&D(this,Se,gy).call(this)}render(){if(d(this,Ps))return;const t=w(this,Ps,document.createElement("div"));if(t.className="popup",d(this,xh)){const l=t.style.outlineColor=Et.makeHexColor(...d(this,xh));t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=d(this,Op),t.append(e),d(this,Eh)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Eh).valueOf()})),e.append(l)}const r=d(this,Se,py);if(r)eR.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,ur));t.append(l)}d(this,Ue).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,u=r.length;l<u;++l){const c=r[l];n.append(document.createTextNode(c)),l<u-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;d(this,eu)||w(this,eu,{contentsObj:d(this,ur),richText:d(this,dr)}),t&&w(this,hr,null),e&&(w(this,dr,D(this,Se,lR).call(this,e)),w(this,ur,null)),(n=d(this,Ps))==null||n.remove(),w(this,Ps,null)}resetEdited(){var t;d(this,eu)&&({contentsObj:ei(this,ur)._,richText:ei(this,dr)._}=d(this,eu),w(this,eu,null),(t=d(this,Ps))==null||t.remove(),w(this,Ps,null),w(this,hr,null))}forceHide(){w(this,nu,this.isVisible),d(this,nu)&&(d(this,Ue).hidden=!0)}maybeShow(){d(this,nu)&&(d(this,Ps)||D(this,Se,my).call(this),w(this,nu,!1),d(this,Ue).hidden=!1)}get isVisible(){return d(this,Ue).hidden===!1}}Sh=new WeakMap,sb=new WeakMap,ab=new WeakMap,wh=new WeakMap,xh=new WeakMap,Ue=new WeakMap,ur=new WeakMap,Eh=new WeakMap,Rp=new WeakMap,Mp=new WeakMap,_h=new WeakMap,cr=new WeakMap,Ps=new WeakMap,hr=new WeakMap,Np=new WeakMap,dr=new WeakMap,Op=new WeakMap,eu=new WeakMap,nu=new WeakMap,Se=new WeakSet,py=function(){const t=d(this,dr),e=d(this,ur);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,dr).html||null},OS=function(){var t,e,n;return((n=(e=(t=d(this,Se,py))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},rR=function(){var t,e,n;return((n=(e=(t=d(this,Se,py))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},lR=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:d(this,Se,rR),fontSize:d(this,Se,OS)?`calc(${d(this,Se,OS)}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return n},oR=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,cr))&&D(this,Se,gy).call(this)},uR=function(){if(d(this,hr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:l}}}=d(this,Mp);let u=!!d(this,_h),c=u?d(this,_h):d(this,Np);for(const x of d(this,Rp))if(!c||Et.intersect(x.data.rect,c)!==null){c=x.data.rect,u=!0;break}const f=Et.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),g=u?c[2]-c[0]+5:0,y=f[0]+g,b=f[1];w(this,hr,[100*(y-r)/e,100*(b-l)/n]);const{style:A}=d(this,Ue);A.left=`${d(this,hr)[0]}%`,A.top=`${d(this,hr)[1]}%`},gy=function(){w(this,cr,!d(this,cr)),d(this,cr)?(D(this,Se,my).call(this),d(this,Ue).addEventListener("click",d(this,wh)),d(this,Ue).addEventListener("keydown",d(this,Sh))):(D(this,Se,LS).call(this),d(this,Ue).removeEventListener("click",d(this,wh)),d(this,Ue).removeEventListener("keydown",d(this,Sh)))},my=function(){d(this,Ps)||this.render(),this.isVisible?d(this,cr)&&d(this,Ue).classList.add("focused"):(D(this,Se,uR).call(this),d(this,Ue).hidden=!1,d(this,Ue).style.zIndex=parseInt(d(this,Ue).style.zIndex)+1e3)},LS=function(){d(this,Ue).classList.remove("focused"),!(d(this,cr)||!this.isVisible)&&(d(this,Ue).hidden=!0,d(this,Ue).style.zIndex=parseInt(d(this,Ue).style.zIndex)-1e3)};class cR extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Pt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Lp;class CB extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Lp,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,l=this.svgFactory.create(n,r,!0),u=w(this,Lp,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lp=new WeakMap;var Pp;class TB extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Pp,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,l=this.svgFactory.create(n,r,!0),u=e.borderStyle.width,c=w(this,Pp,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",u/2),c.setAttribute("y",u/2),c.setAttribute("width",n-u),c.setAttribute("height",r-u),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Pp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pp=new WeakMap;var zp;class DB extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,zp,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,l=this.svgFactory.create(n,r,!0),u=e.borderStyle.width,c=w(this,zp,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",r/2),c.setAttribute("rx",n/2-u/2),c.setAttribute("ry",r/2-u/2),c.setAttribute("stroke-width",u||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,zp)}addHighlightArea(){this.container.classList.add("highlightArea")}}zp=new WeakMap;var Ip;class hR extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Ip,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:l},width:u,height:c}=this;if(!n)return this.container;const f=this.svgFactory.create(u,c,!0);let p=[];for(let y=0,b=n.length;y<b;y+=2){const A=n[y]-e[0],x=e[3]-n[y+1];p.push(`${A},${x}`)}p=p.join(" ");const g=w(this,Ip,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Ip)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ip=new WeakMap;class kB extends hR{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class RB extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fp,iu,Bp,PS;class Qw extends Ke{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Bp);T(this,Fp,null);T(this,iu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Pt.HIGHLIGHT:Pt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:l,popupRef:u}}=this,{transform:c,width:f,height:p}=D(this,Bp,PS).call(this,n,e),g=this.svgFactory.create(f,p,!0),y=w(this,Fp,this.svgFactory.createElement("svg:g"));g.append(y),y.setAttribute("stroke-width",l.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",c);for(let b=0,A=r.length;b<A;b++){const x=this.svgFactory.createElement(this.svgElementName);d(this,iu).push(x),x.setAttribute("points",r[b].join(",")),y.append(x)}return!u&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:l}=e,u=d(this,Fp);if(n>=0&&u.setAttribute("stroke-width",n||1),r)for(let c=0,f=d(this,iu).length;c<f;c++)d(this,iu)[c].setAttribute("points",r[c].join(","));if(l){const{transform:c,width:f,height:p}=D(this,Bp,PS).call(this,this.data.rotation,l);u.parentElement.setAttribute("viewBox",`0 0 ${f} ${p}`),u.setAttribute("transform",c)}}getElementsToTriggerPopup(){return d(this,iu)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fp=new WeakMap,iu=new WeakMap,Bp=new WeakSet,PS=function(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class dR extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Pt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class MB extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class NB extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class OB extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class fR extends Ke{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Pt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var jp,Hp,zS;class LB extends Ke{constructor(e){var r;super(e,{isRenderable:!0});T(this,Hp);T(this,jp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",D(this,Hp,zS).bind(this)),w(this,jp,r);const{isMac:l}=Fn.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(l?u.metaKey:u.ctrlKey)&&D(this,Hp,zS).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return d(this,jp)}addHighlightArea(){this.container.classList.add("highlightArea")}}jp=new WeakMap,Hp=new WeakSet,zS=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Up,su,Tl,Gp,Yl,FS,BS;const ox=class ox{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:u,structTreeLayer:c}){T(this,Yl);T(this,Up,null);T(this,su,null);T(this,Tl,new Map);T(this,Gp,null);this.div=t,w(this,Up,e),w(this,su,n),w(this,Gp,c||null),this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,Tl).size>0}async render(t){var u;const{annotations:e}=t,n=this.div;Du(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new By,annotationStorage:t.annotationStorage||new $w,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const f=c.annotationType===tn.POPUP;if(f){const y=r.get(c.id);if(!y)continue;l.elements=y}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const p=_T.create(l);if(!p.isRenderable)continue;if(!f&&c.popupRef){const y=r.get(c.popupRef);y?y.push(p):r.set(c.popupRef,[p])}const g=p.render();c.hidden&&(g.style.visibility="hidden"),await D(this,Yl,FS).call(this,g,c.id),p._isEditable&&(d(this,Tl).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}D(this,Yl,BS).call(this)}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new By,parent:this};for(const r of t){r.borderStyle||(r.borderStyle=ox._defaultBorderStyle),n.data=r;const l=_T.create(n);if(!l.isRenderable)continue;const u=l.render();await D(this,Yl,FS).call(this,u,r.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Du(e,{rotation:t.rotation}),D(this,Yl,BS).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Tl).values())}getEditableAnnotation(t){return d(this,Tl).get(t)}static get _defaultBorderStyle(){return Qt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Sc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Up=new WeakMap,su=new WeakMap,Tl=new WeakMap,Gp=new WeakMap,Yl=new WeakSet,FS=async function(t,e){var u,c;const n=t.firstChild||t,r=n.id=`${Uw}${e}`,l=await((u=d(this,Gp))==null?void 0:u.getAriaAttributes(r));if(l)for(const[f,p]of l)n.setAttribute(f,p);this.div.append(t),(c=d(this,Up))==null||c.moveElementInDOM(this.div,t,n,!1)},BS=function(){var e;if(!d(this,su))return;const t=this.div;for(const[n,r]of d(this,su)){const l=t.querySelector(`[data-annotation-id="${n}"]`);if(!l)continue;r.className="annotationContent";const{firstChild:u}=l;u?u.nodeName==="CANVAS"?u.replaceWith(r):u.classList.contains("annotationContent")?u.after(r):u.before(r):l.append(r);const c=d(this,Tl).get(n);c&&(c._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(n,l.id,r),c._hasNoCanvas=!1):c.canvas=r)}d(this,su).clear()};let IS=ox;const Wm=/\r\n?|\n/g;var zs,Hi,Vp,au,Ui,an,pR,gR,mR,yy,Er,by,vy,yR,HS,bR;const _e=class _e extends De{constructor(e){super({...e,name:"freeTextEditor"});T(this,an);T(this,zs);T(this,Hi,"");T(this,Vp,`${this.id}-editor`);T(this,au,null);T(this,Ui);w(this,zs,e.color||_e._defaultColor||De._defaultLineColor),w(this,Ui,e.fontSize||_e._defaultFontSize)}static get _keyboardManager(){const e=_e.prototype,n=u=>u.isEmpty(),r=ku.TRANSLATE_SMALL,l=ku.TRANSLATE_BIG;return Qt(this,"_keyboardManager",new Ag([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:n}]]))}static initialize(e,n){De.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Jt.FREETEXT_SIZE:_e._defaultFontSize=n;break;case Jt.FREETEXT_COLOR:_e._defaultColor=n;break}}updateParams(e,n){switch(e){case Jt.FREETEXT_SIZE:D(this,an,pR).call(this,n);break;case Jt.FREETEXT_COLOR:D(this,an,gR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Jt.FREETEXT_SIZE,_e._defaultFontSize],[Jt.FREETEXT_COLOR,_e._defaultColor||De._defaultLineColor]]}get propertiesToUpdate(){return[[Jt.FREETEXT_SIZE,d(this,Ui)],[Jt.FREETEXT_COLOR,d(this,zs)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-_e._internalPadding*e,-(_e._internalPadding+d(this,Ui))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Pt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,au,new AbortController);const e=this._uiManager.combinedSignal(d(this,au));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,Vp)),this._isDraggable=!0,(e=d(this,au))==null||e.abort(),w(this,au,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var n;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,Hi),n=w(this,Hi,D(this,an,mR).call(this).trimEnd());if(e===n)return;const r=l=>{if(w(this,Hi,l),!l){this.remove();return}D(this,an,vy).call(this),this._uiManager.rebuild(this),D(this,an,yy).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),D(this,an,yy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){_e._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,Vp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,Ui)}px * var(--total-scale-factor))`,r.color=d(this,zs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Xw(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[l,u]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,y]=this.pageDimensions,[b,A]=this.pageTranslation;let x,S;switch(this.rotation){case 0:x=e+(c[0]-b)/g,S=n+this.height-(c[1]-A)/y;break;case 90:x=e+(c[0]-b)/g,S=n-(c[1]-A)/y,[f,p]=[p,-f];break;case 180:x=e-this.width+(c[0]-b)/g,S=n-(c[1]-A)/y,[f,p]=[-f,-p];break;case 270:x=e+(c[0]-b-this.height*y)/g,S=n+(c[1]-A-this.width*g)/y,[f,p]=[-p,f];break}this.setAt(x*l,S*u,f,p)}else this._moveAfterPaste(e,n);D(this,an,vy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var x,S,k;const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=D(x=_e,Er,HS).call(x,n.getData("text")||"").replaceAll(Wm,`
`);if(!l)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const c=u.getRangeAt(0);if(!l.includes(`
`)){c.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=c,g=[],y=[];if(f.nodeType===Node.TEXT_NODE){const C=f.parentElement;if(y.push(f.nodeValue.slice(p).replaceAll(Wm,"")),C!==this.editorDiv){let O=g;for(const N of this.editorDiv.childNodes){if(N===C){O=y;continue}O.push(D(S=_e,Er,by).call(S,N))}}g.push(f.nodeValue.slice(0,p).replaceAll(Wm,""))}else if(f===this.editorDiv){let C=g,O=0;for(const N of this.editorDiv.childNodes)O++===p&&(C=y),C.push(D(k=_e,Er,by).call(k,N))}w(this,Hi,`${g.join(`
`)}${l}${y.join(`
`)}`),D(this,an,vy).call(this);const b=new Range;let A=Math.sumPrecise(g.map(C=>C.length));for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const O=C.nodeValue.length;if(A<=O){b.setStart(C,A),b.setEnd(C,A);break}A-=O}u.removeAllRanges(),u.addRange(b)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){var c;let l=null;if(e instanceof cR){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:y,id:b,popupRef:A},textContent:x,textPosition:S,parent:{page:{pageNumber:k}}}=e;if(!x||x.length===0)return null;l=e={annotationType:Pt.FREETEXT,color:Array.from(p),fontSize:f,value:x.join(`
`),position:S,pageIndex:k-1,rect:g.slice(0),rotation:y,id:b,deleted:!1,popupRef:A}}const u=await super.deserialize(e,n,r);return w(u,Ui,e.fontSize),w(u,zs,Et.makeHexColor(...e.color)),w(u,Hi,D(c=_e,Er,HS).call(c,e.value)),u.annotationElementId=e.id||null,u._initialData=l,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=_e._internalPadding*this.parentScale,r=this.getRect(n,n),l=De._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,zs)),u={annotationType:Pt.FREETEXT,color:l,fontSize:d(this,Ui),value:D(this,an,yR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(u.isCopy=!0,u):this.annotationElementId&&!D(this,an,bR).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${d(this,Ui)}px * var(--total-scale-factor))`,r.color=d(this,zs),n.replaceChildren();for(const u of d(this,Hi).split(`
`)){const c=document.createElement("div");c.append(u?document.createTextNode(u):document.createElement("br")),n.append(c)}const l=_e._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,Hi)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};zs=new WeakMap,Hi=new WeakMap,Vp=new WeakMap,au=new WeakMap,Ui=new WeakMap,an=new WeakSet,pR=function(e){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--total-scale-factor))`,this.translate(0,-(l-d(this,Ui))*this.parentScale),w(this,Ui,l),D(this,an,yy).call(this)},r=d(this,Ui);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gR=function(e){const n=l=>{w(this,zs,this.editorDiv.style.color=l)},r=d(this,zs);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},mR=function(){var r;const e=[];this.editorDiv.normalize();let n=null;for(const l of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(D(r=_e,Er,by).call(r,l)),n=l);return e.join(`
`)},yy=function(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:u}=this,c=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",l.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=c,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()},Er=new WeakSet,by=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Wm,"")},vy=function(){if(this.editorDiv.replaceChildren(),!!d(this,Hi))for(const e of d(this,Hi).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},yR=function(){return d(this,Hi).replaceAll(" "," ")},HS=function(e){return e.replaceAll(" "," ")},bR=function(e){const{value:n,fontSize:r,color:l,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((c,f)=>c!==l[f])||e.pageIndex!==u},T(_e,Er),gt(_e,"_freeTextDefaultContent",""),gt(_e,"_internalPadding",0),gt(_e,"_defaultColor",null),gt(_e,"_defaultFontSize",10),gt(_e,"_type","freetext"),gt(_e,"_editorType",Pt.FREETEXT);let jS=_e;class At{toSVGPath(){Ae("Abstract method `toSVGPath` must be implemented.")}get box(){Ae("Abstract getter `box` must be implemented.")}serialize(t,e){Ae("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,l,u){u||(u=new Float32Array(t.length));for(let c=0,f=t.length;c<f;c+=2)u[c]=e+t[c]*r,u[c+1]=n+t[c+1]*l;return u}static _rescaleAndSwap(t,e,n,r,l,u){u||(u=new Float32Array(t.length));for(let c=0,f=t.length;c<f;c+=2)u[c]=e+t[c+1]*r,u[c+1]=n+t[c]*l;return u}static _translate(t,e,n,r){r||(r=new Float32Array(t.length));for(let l=0,u=t.length;l<u;l+=2)r[l]=e+t[l],r[l+1]=n+t[l+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,l){switch(l){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,l,u){return[(t+5*n)/6,(e+5*r)/6,(5*n+l)/6,(5*r+u)/6,(n+l)/2,(r+u)/2]}}gt(At,"PRECISION",1e-4);var Gi,Is,Ch,Th,pa,$t,ru,lu,qp,Yp,Dh,kh,Dl,Xp,rb,lb,pn,xf,vR,AR,SR,wR,xR,ER;const Ya=class Ya{constructor({x:t,y:e},n,r,l,u,c=0){T(this,pn);T(this,Gi);T(this,Is,[]);T(this,Ch);T(this,Th);T(this,pa,[]);T(this,$t,new Float32Array(18));T(this,ru);T(this,lu);T(this,qp);T(this,Yp);T(this,Dh);T(this,kh);T(this,Dl,[]);w(this,Gi,n),w(this,kh,l*r),w(this,Th,u),d(this,$t).set([NaN,NaN,NaN,NaN,t,e],6),w(this,Ch,c),w(this,Yp,d(Ya,Xp)*r),w(this,qp,d(Ya,lb)*r),w(this,Dh,r),d(this,Dl).push(t,e)}isEmpty(){return isNaN(d(this,$t)[8])}add({x:t,y:e}){var Q;w(this,ru,t),w(this,lu,e);const[n,r,l,u]=d(this,Gi);let[c,f,p,g]=d(this,$t).subarray(8,12);const y=t-p,b=e-g,A=Math.hypot(y,b);if(A<d(this,qp))return!1;const x=A-d(this,Yp),S=x/A,k=S*y,C=S*b;let O=c,N=f;c=p,f=g,p+=k,g+=C,(Q=d(this,Dl))==null||Q.push(t,e);const z=-C/x,P=k/x,L=z*d(this,kh),j=P*d(this,kh);return d(this,$t).set(d(this,$t).subarray(2,8),0),d(this,$t).set([p+L,g+j],4),d(this,$t).set(d(this,$t).subarray(14,18),12),d(this,$t).set([p-L,g-j],16),isNaN(d(this,$t)[6])?(d(this,pa).length===0&&(d(this,$t).set([c+L,f+j],2),d(this,pa).push(NaN,NaN,NaN,NaN,(c+L-n)/l,(f+j-r)/u),d(this,$t).set([c-L,f-j],14),d(this,Is).push(NaN,NaN,NaN,NaN,(c-L-n)/l,(f-j-r)/u)),d(this,$t).set([O,N,c,f,p,g],6),!this.isEmpty()):(d(this,$t).set([O,N,c,f,p,g],6),Math.abs(Math.atan2(N-f,O-c)-Math.atan2(C,k))<Math.PI/2?([c,f,p,g]=d(this,$t).subarray(2,6),d(this,pa).push(NaN,NaN,NaN,NaN,((c+p)/2-n)/l,((f+g)/2-r)/u),[c,f,O,N]=d(this,$t).subarray(14,18),d(this,Is).push(NaN,NaN,NaN,NaN,((O+c)/2-n)/l,((N+f)/2-r)/u),!0):([O,N,c,f,p,g]=d(this,$t).subarray(0,6),d(this,pa).push(((O+5*c)/6-n)/l,((N+5*f)/6-r)/u,((5*c+p)/6-n)/l,((5*f+g)/6-r)/u,((c+p)/2-n)/l,((f+g)/2-r)/u),[p,g,c,f,O,N]=d(this,$t).subarray(12,18),d(this,Is).push(((O+5*c)/6-n)/l,((N+5*f)/6-r)/u,((5*c+p)/6-n)/l,((5*f+g)/6-r)/u,((c+p)/2-n)/l,((f+g)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,pa),e=d(this,Is);if(isNaN(d(this,$t)[6])&&!this.isEmpty())return D(this,pn,vR).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);D(this,pn,SR).call(this,n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return D(this,pn,AR).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,r,l,u){return new _R(t,e,n,r,l,u)}getOutlines(){var y;const t=d(this,pa),e=d(this,Is),n=d(this,$t),[r,l,u,c]=d(this,Gi),f=new Float32Array((((y=d(this,Dl))==null?void 0:y.length)??0)+2);for(let b=0,A=f.length-2;b<A;b+=2)f[b]=(d(this,Dl)[b]-r)/u,f[b+1]=(d(this,Dl)[b+1]-l)/c;if(f[f.length-2]=(d(this,ru)-r)/u,f[f.length-1]=(d(this,lu)-l)/c,isNaN(n[6])&&!this.isEmpty())return D(this,pn,wR).call(this,f);const p=new Float32Array(d(this,pa).length+24+d(this,Is).length);let g=t.length;for(let b=0;b<g;b+=2){if(isNaN(t[b])){p[b]=p[b+1]=NaN;continue}p[b]=t[b],p[b+1]=t[b+1]}g=D(this,pn,ER).call(this,p,g);for(let b=e.length-6;b>=6;b-=6)for(let A=0;A<6;A+=2){if(isNaN(e[b+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[b+A],p[g+1]=e[b+A+1],g+=2}return D(this,pn,xR).call(this,p,g),this.newFreeDrawOutline(p,f,d(this,Gi),d(this,Dh),d(this,Ch),d(this,Th))}};Gi=new WeakMap,Is=new WeakMap,Ch=new WeakMap,Th=new WeakMap,pa=new WeakMap,$t=new WeakMap,ru=new WeakMap,lu=new WeakMap,qp=new WeakMap,Yp=new WeakMap,Dh=new WeakMap,kh=new WeakMap,Dl=new WeakMap,Xp=new WeakMap,rb=new WeakMap,lb=new WeakMap,pn=new WeakSet,xf=function(){const t=d(this,$t).subarray(4,6),e=d(this,$t).subarray(16,18),[n,r,l,u]=d(this,Gi);return[(d(this,ru)+(t[0]-e[0])/2-n)/l,(d(this,lu)+(t[1]-e[1])/2-r)/u,(d(this,ru)+(e[0]-t[0])/2-n)/l,(d(this,lu)+(e[1]-t[1])/2-r)/u]},vR=function(){const[t,e,n,r]=d(this,Gi),[l,u,c,f]=D(this,pn,xf).call(this);return`M${(d(this,$t)[2]-t)/n} ${(d(this,$t)[3]-e)/r} L${(d(this,$t)[4]-t)/n} ${(d(this,$t)[5]-e)/r} L${l} ${u} L${c} ${f} L${(d(this,$t)[16]-t)/n} ${(d(this,$t)[17]-e)/r} L${(d(this,$t)[14]-t)/n} ${(d(this,$t)[15]-e)/r} Z`},AR=function(t){const e=d(this,Is);t.push(`L${e[4]} ${e[5]} Z`)},SR=function(t){const[e,n,r,l]=d(this,Gi),u=d(this,$t).subarray(4,6),c=d(this,$t).subarray(16,18),[f,p,g,y]=D(this,pn,xf).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-n)/l} L${f} ${p} L${g} ${y} L${(c[0]-e)/r} ${(c[1]-n)/l}`)},wR=function(t){const e=d(this,$t),[n,r,l,u]=d(this,Gi),[c,f,p,g]=D(this,pn,xf).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-r)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-r)/u],0),this.newFreeDrawOutline(y,t,d(this,Gi),d(this,Dh),d(this,Ch),d(this,Th))},xR=function(t,e){const n=d(this,Is);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},ER=function(t,e){const n=d(this,$t).subarray(4,6),r=d(this,$t).subarray(16,18),[l,u,c,f]=d(this,Gi),[p,g,y,b]=D(this,pn,xf).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/c,(n[1]-u)/f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[0]-l)/c,(r[1]-u)/f],e),e+=24},T(Ya,Xp,8),T(Ya,rb,2),T(Ya,lb,d(Ya,Xp)+d(Ya,rb));let jy=Ya;var Rh,ou,fr,$p,Vi,Wp,We,ob,CR;class _R extends At{constructor(e,n,r,l,u,c){super();T(this,ob);T(this,Rh);T(this,ou,new Float32Array(4));T(this,fr);T(this,$p);T(this,Vi);T(this,Wp);T(this,We);w(this,We,e),w(this,Vi,n),w(this,Rh,r),w(this,Wp,l),w(this,fr,u),w(this,$p,c),this.lastPoint=[NaN,NaN],D(this,ob,CR).call(this,c);const[f,p,g,y]=d(this,ou);for(let b=0,A=e.length;b<A;b+=2)e[b]=(e[b]-f)/g,e[b+1]=(e[b+1]-p)/y;for(let b=0,A=n.length;b<A;b+=2)n[b]=(n[b]-f)/g,n[b+1]=(n[b+1]-p)/y}toSVGPath(){const e=[`M${d(this,We)[4]} ${d(this,We)[5]}`];for(let n=6,r=d(this,We).length;n<r;n+=6){if(isNaN(d(this,We)[n])){e.push(`L${d(this,We)[n+4]} ${d(this,We)[n+5]}`);continue}e.push(`C${d(this,We)[n]} ${d(this,We)[n+1]} ${d(this,We)[n+2]} ${d(this,We)[n+3]} ${d(this,We)[n+4]} ${d(this,We)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,l],u){const c=r-e,f=l-n;let p,g;switch(u){case 0:p=At._rescale(d(this,We),e,l,c,-f),g=At._rescale(d(this,Vi),e,l,c,-f);break;case 90:p=At._rescaleAndSwap(d(this,We),e,n,c,f),g=At._rescaleAndSwap(d(this,Vi),e,n,c,f);break;case 180:p=At._rescale(d(this,We),r,n,-c,f),g=At._rescale(d(this,Vi),r,n,-c,f);break;case 270:p=At._rescaleAndSwap(d(this,We),r,l,-c,-f),g=At._rescaleAndSwap(d(this,Vi),r,l,-c,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return d(this,ou)}newOutliner(e,n,r,l,u,c=0){return new jy(e,n,r,l,u,c)}getNewOutline(e,n){const[r,l,u,c]=d(this,ou),[f,p,g,y]=d(this,Rh),b=u*g,A=c*y,x=r*g+f,S=l*y+p,k=this.newOutliner({x:d(this,Vi)[0]*b+x,y:d(this,Vi)[1]*A+S},d(this,Rh),d(this,Wp),e,d(this,$p),n??d(this,fr));for(let C=2;C<d(this,Vi).length;C+=2)k.add({x:d(this,Vi)[C]*b+x,y:d(this,Vi)[C+1]*A+S});return k.getOutlines()}}Rh=new WeakMap,ou=new WeakMap,fr=new WeakMap,$p=new WeakMap,Vi=new WeakMap,Wp=new WeakMap,We=new WeakMap,ob=new WeakSet,CR=function(e){const n=d(this,We);let r=n[4],l=n[5];const u=[r,l,r,l];let c=r,f=l;const p=e?Math.max:Math.min;for(let y=6,b=n.length;y<b;y+=6){const A=n[y+4],x=n[y+5];if(isNaN(n[y]))Et.pointBoundingBox(A,x,u),f<x?(c=A,f=x):f===x&&(c=p(c,A));else{const S=[1/0,1/0,-1/0,-1/0];Et.bezierBoundingBox(r,l,...n.slice(y,y+6),S),Et.rectBoundingBox(...S,u),f<S[3]?(c=S[2],f=S[3]):f===S[3]&&(c=p(c,S[2]))}r=A,l=x}const g=d(this,ou);g[0]=u[0]-d(this,fr),g[1]=u[1]-d(this,fr),g[2]=u[2]-u[0]+2*d(this,fr),g[3]=u[3]-u[1]+2*d(this,fr),this.lastPoint=[c,f]};var Kp,Qp,kl,Fs,ui,TR,Ay,DR,kR,GS;class US{constructor(t,e=0,n=0,r=!0){T(this,ui);T(this,Kp);T(this,Qp);T(this,kl,[]);T(this,Fs,[]);const l=[1/0,1/0,-1/0,-1/0],u=10**-4;for(const{x:A,y:x,width:S,height:k}of t){const C=Math.floor((A-e)/u)*u,O=Math.ceil((A+S+e)/u)*u,N=Math.floor((x-e)/u)*u,z=Math.ceil((x+k+e)/u)*u,P=[C,N,z,!0],L=[O,N,z,!1];d(this,kl).push(P,L),Et.rectBoundingBox(C,N,O,z,l)}const c=l[2]-l[0]+2*n,f=l[3]-l[1]+2*n,p=l[0]-n,g=l[1]-n,y=d(this,kl).at(r?-1:-2),b=[y[0],y[2]];for(const A of d(this,kl)){const[x,S,k]=A;A[0]=(x-p)/c,A[1]=(S-g)/f,A[2]=(k-g)/f}w(this,Kp,new Float32Array([p,g,c,f])),w(this,Qp,b)}getOutlines(){d(this,kl).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of d(this,kl))e[3]?(t.push(...D(this,ui,GS).call(this,e)),D(this,ui,DR).call(this,e)):(D(this,ui,kR).call(this,e),t.push(...D(this,ui,GS).call(this,e)));return D(this,ui,TR).call(this,t)}}Kp=new WeakMap,Qp=new WeakMap,kl=new WeakMap,Fs=new WeakMap,ui=new WeakSet,TR=function(t){const e=[],n=new Set;for(const u of t){const[c,f,p]=u;e.push([c,f,u],[c,p,u])}e.sort((u,c)=>u[1]-c[1]||u[0]-c[0]);for(let u=0,c=e.length;u<c;u+=2){const f=e[u][2],p=e[u+1][2];f.push(p),p.push(f),n.add(f),n.add(p)}const r=[];let l;for(;n.size>0;){const u=n.values().next().value;let[c,f,p,g,y]=u;n.delete(u);let b=c,A=f;for(l=[c,p],r.push(l);;){let x;if(n.has(g))x=g;else if(n.has(y))x=y;else break;n.delete(x),[c,f,p,g,y]=x,b!==c&&(l.push(b,A,c,A===f?f:p),b=c),A=A===f?p:f}l.push(b,A)}return new PB(r,d(this,Kp),d(this,Qp))},Ay=function(t){const e=d(this,Fs);let n=0,r=e.length-1;for(;n<=r;){const l=n+r>>1,u=e[l][0];if(u===t)return l;u<t?n=l+1:r=l-1}return r+1},DR=function([,t,e]){const n=D(this,ui,Ay).call(this,t);d(this,Fs).splice(n,0,[t,e])},kR=function([,t,e]){const n=D(this,ui,Ay).call(this,t);for(let r=n;r<d(this,Fs).length;r++){const[l,u]=d(this,Fs)[r];if(l!==t)break;if(l===t&&u===e){d(this,Fs).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,u]=d(this,Fs)[r];if(l!==t)break;if(l===t&&u===e){d(this,Fs).splice(r,1);return}}},GS=function(t){const[e,n,r]=t,l=[[e,n,r]],u=D(this,ui,Ay).call(this,r);for(let c=0;c<u;c++){const[f,p]=d(this,Fs)[c];for(let g=0,y=l.length;g<y;g++){const[,b,A]=l[g];if(!(p<=b||A<=f)){if(b>=f){if(A>p)l[g][1]=p;else{if(y===1)return[];l.splice(g,1),g--,y--}continue}l[g][2]=f,A>p&&l.push([e,p,A])}}}return l};var Zp,Mh;class PB extends At{constructor(e,n,r){super();T(this,Zp);T(this,Mh);w(this,Mh,e),w(this,Zp,n),this.lastPoint=r}toSVGPath(){const e=[];for(const n of d(this,Mh)){let[r,l]=n;e.push(`M${r} ${l}`);for(let u=2;u<n.length;u+=2){const c=n[u],f=n[u+1];c===r?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${c}`),r=c)}e.push("Z")}return e.join(" ")}serialize([e,n,r,l],u){const c=[],f=r-e,p=l-n;for(const g of d(this,Mh)){const y=new Array(g.length);for(let b=0;b<g.length;b+=2)y[b]=e+g[b]*f,y[b+1]=l-g[b+1]*p;c.push(y)}return c}get box(){return d(this,Zp)}get classNamesForOutlining(){return["highlightOutline"]}}Zp=new WeakMap,Mh=new WeakMap;class VS extends jy{newFreeDrawOutline(t,e,n,r,l,u){return new zB(t,e,n,r,l,u)}}class zB extends _R{newOutliner(t,e,n,r,l,u=0){return new VS(t,e,n,r,l,u)}}var Bs,uu,Nh,fn,Jp,Oh,tg,eg,Rl,js,Lh,ng,ve,qS,YS,XS,bo,RR,nl;const Ai=class Ai{constructor({editor:t=null,uiManager:e=null}){T(this,ve);T(this,Bs,null);T(this,uu,null);T(this,Nh);T(this,fn,null);T(this,Jp,!1);T(this,Oh,!1);T(this,tg,null);T(this,eg);T(this,Rl,null);T(this,js,null);T(this,Lh);var n;t?(w(this,Oh,!1),w(this,Lh,Jt.HIGHLIGHT_COLOR),w(this,tg,t)):(w(this,Oh,!0),w(this,Lh,Jt.HIGHLIGHT_DEFAULT_COLOR)),w(this,js,(t==null?void 0:t._uiManager)||e),w(this,eg,d(this,js)._eventBus),w(this,Nh,(t==null?void 0:t.color)||((n=d(this,js))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),d(Ai,ng)||w(Ai,ng,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Qt(this,"_keyboardManager",new Ag([[["Escape","mac+Escape"],Ai.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ai.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ai.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ai.prototype._moveToPrevious],[["Home","mac+Home"],Ai.prototype._moveToBeginning],[["End","mac+End"],Ai.prototype._moveToEnd]]))}renderButton(){const t=w(this,Bs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,js)._signal;t.addEventListener("click",D(this,ve,bo).bind(this),{signal:e}),t.addEventListener("keydown",D(this,ve,XS).bind(this),{signal:e});const n=w(this,uu,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=d(this,Nh),t.append(n),t}renderMainDropdown(){const t=w(this,fn,D(this,ve,qS).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,Bs)){D(this,ve,bo).call(this,t);return}const e=t.target.getAttribute("data-color");e&&D(this,ve,YS).call(this,e,t)}_moveToNext(t){var e,n;if(!d(this,ve,nl)){D(this,ve,bo).call(this,t);return}if(t.target===d(this,Bs)){(e=d(this,fn).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=d(this,fn))==null?void 0:e.firstChild)||t.target===d(this,Bs)){d(this,ve,nl)&&this._hideDropdownFromKeyboard();return}d(this,ve,nl)||D(this,ve,bo).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!d(this,ve,nl)){D(this,ve,bo).call(this,t);return}(e=d(this,fn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ve,nl)){D(this,ve,bo).call(this,t);return}(e=d(this,fn).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,fn))==null||t.classList.add("hidden"),(e=d(this,Rl))==null||e.abort(),w(this,Rl,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,Oh)){if(!d(this,ve,nl)){(t=d(this,tg))==null||t.unselect();return}this.hideDropdown(),d(this,Bs).focus({preventScroll:!0,focusVisible:d(this,Jp)})}}updateColor(t){if(d(this,uu)&&(d(this,uu).style.backgroundColor=t),!d(this,fn))return;const e=d(this,js).highlightColors.values();for(const n of d(this,fn).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,Bs))==null||t.remove(),w(this,Bs,null),w(this,uu,null),(e=d(this,fn))==null||e.remove(),w(this,fn,null)}};Bs=new WeakMap,uu=new WeakMap,Nh=new WeakMap,fn=new WeakMap,Jp=new WeakMap,Oh=new WeakMap,tg=new WeakMap,eg=new WeakMap,Rl=new WeakMap,js=new WeakMap,Lh=new WeakMap,ng=new WeakMap,ve=new WeakSet,qS=function(){const t=document.createElement("div"),e=d(this,js)._signal;t.addEventListener("contextmenu",Ys,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of d(this,js).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",d(Ai,ng)[n]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=r,l.setAttribute("aria-selected",r===d(this,Nh)),l.addEventListener("click",D(this,ve,YS).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",D(this,ve,XS).bind(this),{signal:e}),t},YS=function(t,e){e.stopPropagation(),d(this,eg).dispatch("switchannotationeditorparams",{source:this,type:d(this,Lh),value:t})},XS=function(t){Ai._keyboardManager.exec(this,t)},bo=function(t){if(d(this,ve,nl)){this.hideDropdown();return}if(w(this,Jp,t.detail===0),d(this,Rl)||(w(this,Rl,new AbortController),window.addEventListener("pointerdown",D(this,ve,RR).bind(this),{signal:d(this,js).combinedSignal(d(this,Rl))})),d(this,fn)){d(this,fn).classList.remove("hidden");return}const e=w(this,fn,D(this,ve,qS).call(this));d(this,Bs).append(e)},RR=function(t){var e;(e=d(this,fn))!=null&&e.contains(t.target)||this.hideDropdown()},nl=function(){return d(this,fn)&&!d(this,fn).classList.contains("hidden")},T(Ai,ng,null);let Hy=Ai;var Ph,ig,pr,cu,zh,xi,sg,ag,hu,ms,qi,Nn,Ih,gr,$n,Fh,ys,rg,Bt,$S,Sy,MR,NR,OR,WS,vo,Ss,Tc,LR,wy,Ef,PR,zR,IR,FR,BR;const re=class re extends De{constructor(e){super({...e,name:"highlightEditor"});T(this,Bt);T(this,Ph,null);T(this,ig,0);T(this,pr);T(this,cu,null);T(this,zh,null);T(this,xi,null);T(this,sg,null);T(this,ag,0);T(this,hu,null);T(this,ms,null);T(this,qi,null);T(this,Nn,!1);T(this,Ih,null);T(this,gr);T(this,$n,null);T(this,Fh,"");T(this,ys);T(this,rg,"");this.color=e.color||re._defaultColor,w(this,ys,e.thickness||re._defaultThickness),w(this,gr,e.opacity||re._defaultOpacity),w(this,pr,e.boxes||null),w(this,rg,e.methodOfCreation||""),w(this,Fh,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(w(this,Nn,!0),D(this,Bt,Sy).call(this,e),D(this,Bt,vo).call(this)):d(this,pr)&&(w(this,Ph,e.anchorNode),w(this,ig,e.anchorOffset),w(this,sg,e.focusNode),w(this,ag,e.focusOffset),D(this,Bt,$S).call(this),D(this,Bt,vo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=re.prototype;return Qt(this,"_keyboardManager",new Ag([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,Nn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,ys),methodOfCreation:d(this,rg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var r;De.initialize(e,n),re._defaultColor||(re._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Jt.HIGHLIGHT_DEFAULT_COLOR:re._defaultColor=n;break;case Jt.HIGHLIGHT_THICKNESS:re._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return d(this,Ih)}updateParams(e,n){switch(e){case Jt.HIGHLIGHT_COLOR:D(this,Bt,MR).call(this,n);break;case Jt.HIGHLIGHT_THICKNESS:D(this,Bt,NR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Jt.HIGHLIGHT_DEFAULT_COLOR,re._defaultColor],[Jt.HIGHLIGHT_THICKNESS,re._defaultThickness]]}get propertiesToUpdate(){return[[Jt.HIGHLIGHT_COLOR,this.color||re._defaultColor],[Jt.HIGHLIGHT_THICKNESS,d(this,ys)||re._defaultThickness],[Jt.HIGHLIGHT_FREE,d(this,Nn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(w(this,zh,new Hy({editor:this})),e.addColorPicker(d(this,zh))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(D(this,Bt,Ef).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,D(this,Bt,Ef).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){D(this,Bt,WS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(D(this,Bt,vo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let n=!1;this.parent&&!e?D(this,Bt,WS).call(this):e&&(D(this,Bt,vo).call(this,e),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var l,u,c;const{drawLayer:n}=this.parent;let r;d(this,Nn)?(e=(e-this.rotation+360)%360,r=D(l=re,Ss,Tc).call(l,d(this,ms).box,e)):r=D(u=re,Ss,Tc).call(u,[this.x,this.y,this.width,this.height],e),n.updateProperties(d(this,qi),{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(d(this,$n),{bbox:D(c=re,Ss,Tc).call(c,d(this,xi).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();d(this,Fh)&&(e.setAttribute("aria-label",d(this,Fh)),e.setAttribute("role","mark")),d(this,Nn)?e.classList.add("free"):this.div.addEventListener("keydown",D(this,Bt,LR).bind(this),{signal:this._uiManager._signal});const n=w(this,hu,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,cu);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Xw(this,d(this,hu),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,$n),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,$n),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:D(this,Bt,wy).call(this,!0);break;case 1:case 3:D(this,Bt,wy).call(this,!1);break}}select(){var e;super.select(),d(this,$n)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,$n),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),d(this,$n)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,$n),{rootClass:{selected:!1}}),d(this,Nn)||D(this,Bt,wy).call(this,!1))}get _mustFixPosition(){return!d(this,Nn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(d(this,qi),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(d(this,$n),{rootClass:{hidden:!e}}))}static startHighlighting(e,n,{target:r,x:l,y:u}){const{x:c,y:f,width:p,height:g}=r.getBoundingClientRect(),y=new AbortController,b=e.combinedSignal(y),A=x=>{y.abort(),D(this,Ss,FR).call(this,e,x)};window.addEventListener("blur",A,{signal:b}),window.addEventListener("pointerup",A,{signal:b}),window.addEventListener("pointerdown",nn,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Ys,{signal:b}),r.addEventListener("pointermove",D(this,Ss,IR).bind(this,e),{signal:b}),this._freeHighlight=new VS({x:l,y:u},[c,f,p,g],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,n,r){var S,k,C,O;let l=null;if(e instanceof dR){const{data:{quadPoints:N,rect:z,rotation:P,id:L,color:j,opacity:W,popupRef:Q},parent:{page:{pageNumber:it}}}=e;l=e={annotationType:Pt.HIGHLIGHT,color:Array.from(j),opacity:W,quadPoints:N,boxes:null,pageIndex:it-1,rect:z.slice(0),rotation:P,id:L,deleted:!1,popupRef:Q}}else if(e instanceof Qw){const{data:{inkLists:N,rect:z,rotation:P,id:L,color:j,borderStyle:{rawWidth:W},popupRef:Q},parent:{page:{pageNumber:it}}}=e;l=e={annotationType:Pt.HIGHLIGHT,color:Array.from(j),thickness:W,inkLists:N,boxes:null,pageIndex:it-1,rect:z.slice(0),rotation:P,id:L,deleted:!1,popupRef:Q}}const{color:u,quadPoints:c,inkLists:f,opacity:p}=e,g=await super.deserialize(e,n,r);g.color=Et.makeHexColor(...u),w(g,gr,p||1),f&&w(g,ys,e.thickness),g.annotationElementId=e.id||null,g._initialData=l;const[y,b]=g.pageDimensions,[A,x]=g.pageTranslation;if(c){const N=w(g,pr,[]);for(let z=0;z<c.length;z+=8)N.push({x:(c[z]-A)/y,y:1-(c[z+1]-x)/b,width:(c[z+2]-c[z])/y,height:(c[z+1]-c[z+5])/b});D(S=g,Bt,$S).call(S),D(k=g,Bt,vo).call(k),g.rotate(g.rotation)}else if(f){w(g,Nn,!0);const N=f[0],z={x:N[0]-A,y:b-(N[1]-x)},P=new VS(z,[0,0,y,b],1,d(g,ys)/2,!0,.001);for(let W=0,Q=N.length;W<Q;W+=2)z.x=N[W]-A,z.y=b-(N[W+1]-x),P.add(z);const{id:L,clipPathId:j}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);D(C=g,Bt,Sy).call(C,{highlightOutlines:P.getOutlines(),highlightId:L,clipPathId:j}),D(O=g,Bt,vo).call(O),g.rotate(g.parentRotation)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=De._colorManager.convert(this.color),l={annotationType:Pt.HIGHLIGHT,color:r,opacity:d(this,gr),thickness:d(this,ys),quadPoints:D(this,Bt,PR).call(this),outlines:D(this,Bt,zR).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:D(this,Bt,Ef).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!D(this,Bt,BR).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ph=new WeakMap,ig=new WeakMap,pr=new WeakMap,cu=new WeakMap,zh=new WeakMap,xi=new WeakMap,sg=new WeakMap,ag=new WeakMap,hu=new WeakMap,ms=new WeakMap,qi=new WeakMap,Nn=new WeakMap,Ih=new WeakMap,gr=new WeakMap,$n=new WeakMap,Fh=new WeakMap,ys=new WeakMap,rg=new WeakMap,Bt=new WeakSet,$S=function(){const e=new US(d(this,pr),.001);w(this,ms,e.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,ms).box;const n=new US(d(this,pr),.0025,.001,this._uiManager.direction==="ltr");w(this,xi,n.getOutlines());const{lastPoint:r}=d(this,xi);w(this,Ih,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Sy=function({highlightOutlines:e,highlightId:n,clipPathId:r}){var y,b;if(w(this,ms,e),w(this,xi,e.getNewOutline(d(this,ys)/2+1.5,.0025)),n>=0)w(this,qi,n),w(this,cu,r),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),w(this,$n,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,xi).box,path:{d:d(this,xi).toSVGPath()}},!0));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,qi),{bbox:D(y=re,Ss,Tc).call(y,d(this,ms).box,(A-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,$n),{bbox:D(b=re,Ss,Tc).call(b,d(this,xi).box,A),path:{d:d(this,xi).toSVGPath()}})}const[u,c,f,p]=e.box;switch(this.rotation){case 0:this.x=u,this.y=c,this.width=f,this.height=p;break;case 90:{const[A,x]=this.parentDimensions;this.x=c,this.y=1-u,this.width=f*x/A,this.height=p*A/x;break}case 180:this.x=1-u,this.y=1-c,this.width=f,this.height=p;break;case 270:{const[A,x]=this.parentDimensions;this.x=1-c,this.y=u,this.width=f*x/A,this.height=p*A/x;break}}const{lastPoint:g}=d(this,xi);w(this,Ih,[(g[0]-u)/f,(g[1]-c)/p])},MR=function(e){const n=(u,c)=>{var f,p;this.color=u,w(this,gr,c),(f=this.parent)==null||f.drawLayer.updateProperties(d(this,qi),{root:{fill:u,"fill-opacity":c}}),(p=d(this,zh))==null||p.updateColor(u)},r=this.color,l=d(this,gr);this.addCommands({cmd:n.bind(this,e,re._defaultOpacity),undo:n.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},NR=function(e){const n=d(this,ys),r=l=>{w(this,ys,l),D(this,Bt,OR).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},OR=function(e){if(!d(this,Nn))return;D(this,Bt,Sy).call(this,{highlightOutlines:d(this,ms).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},WS=function(){d(this,qi)===null||!this.parent||(this.parent.drawLayer.remove(d(this,qi)),w(this,qi,null),this.parent.drawLayer.remove(d(this,$n)),w(this,$n,null))},vo=function(e=this.parent){d(this,qi)===null&&({id:ei(this,qi)._,clipPathId:ei(this,cu)._}=e.drawLayer.draw({bbox:d(this,ms).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":d(this,gr)},rootClass:{highlight:!0,free:d(this,Nn)},path:{d:d(this,ms).toSVGPath()}},!1,!0),w(this,$n,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,Nn)},bbox:d(this,xi).box,path:{d:d(this,xi).toSVGPath()}},d(this,Nn))),d(this,hu)&&(d(this,hu).style.clipPath=d(this,cu)))},Ss=new WeakSet,Tc=function([e,n,r,l],u){switch(u){case 90:return[1-n-l,e,l,r];case 180:return[1-e-r,1-n-l,r,l];case 270:return[n,1-e-r,l,r]}return[e,n,r,l]},LR=function(e){re._keyboardManager.exec(this,e)},wy=function(e){if(!d(this,Ph))return;const n=window.getSelection();e?n.setPosition(d(this,Ph),d(this,ig)):n.setPosition(d(this,sg),d(this,ag))},Ef=function(){return d(this,Nn)?this.rotation:0},PR=function(){if(d(this,Nn))return null;const[e,n]=this.pageDimensions,[r,l]=this.pageTranslation,u=d(this,pr),c=new Float32Array(u.length*8);let f=0;for(const{x:p,y:g,width:y,height:b}of u){const A=p*e+r,x=(1-g)*n+l;c[f]=c[f+4]=A,c[f+1]=c[f+3]=x,c[f+2]=c[f+6]=A+y*e,c[f+5]=c[f+7]=x-b*n,f+=8}return c},zR=function(e){return d(this,ms).serialize(e,D(this,Bt,Ef).call(this))},IR=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},FR=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},BR=function(e){const{color:n}=this._initialData;return e.color.some((r,l)=>r!==n[l])},T(re,Ss),gt(re,"_defaultColor",null),gt(re,"_defaultOpacity",1),gt(re,"_defaultThickness",12),gt(re,"_type","highlight"),gt(re,"_editorType",Pt.HIGHLIGHT),gt(re,"_freeHighlightId",-1),gt(re,"_freeHighlight",null),gt(re,"_freeHighlightClipId","");let Uy=re;var du;class jR{constructor(){T(this,du,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){d(this,du)[t]=e}toSVGProperties(){const t=d(this,du);return w(this,du,Object.create(null)),{root:t}}reset(){w(this,du,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Ae("Not implemented")}}du=new WeakMap;var Yi,Bh,Sn,fu,pu,Ml,Nl,Ol,gu,ee,KS,QS,ZS,_f,HR,xy,Cf,Dc;const St=class St extends De{constructor(e){super(e);T(this,ee);T(this,Yi,null);T(this,Bh);gt(this,"_drawId",null);w(this,Bh,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(D(this,ee,KS).call(this,e),D(this,ee,_f).call(this))}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[l,u]of Object.entries(n))r.has(l)?Object.assign(e[l],u):e[l]=u;return e}static getDefaultDrawingOptions(e){Ae("Not implemented")}static get typesMap(){Ae("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(d(St,Sn).updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,l]of this.typesMap)e.push([r,n[l]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,l]of this.constructor.typesMap)e.push([r,n[l]]);return e}_updateProperty(e,n,r){const l=this._drawingOptions,u=l[n],c=f=>{var g;l.updateProperty(n,f);const p=d(this,Yi).updateProperty(n,f);p&&D(this,ee,Cf).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,l.toSVGProperties())};this.addCommands({cmd:c.bind(this,r),undo:c.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,St._mergeSVGProperties(d(this,Yi).getPathResizingSVGProperties(D(this,ee,xy).call(this)),{bbox:D(this,ee,Dc).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,St._mergeSVGProperties(d(this,Yi).getPathResizedSVGProperties(D(this,ee,xy).call(this)),{bbox:D(this,ee,Dc).call(this)}))}_onTranslating(e,n){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:D(this,ee,Dc).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,St._mergeSVGProperties(d(this,Yi).getPathTranslatedSVGProperties(D(this,ee,xy).call(this),this.parentDimensions),{bbox:D(this,ee,Dc).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,Bh)&&(w(this,Bh,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){D(this,ee,ZS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(D(this,ee,_f).call(this),D(this,ee,Cf).call(this,d(this,Yi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),D(this,ee,ZS).call(this)):e&&(this._uiManager.addShouldRescale(this),D(this,ee,_f).call(this,e),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,St._mergeSVGProperties({bbox:D(this,ee,Dc).call(this)},d(this,Yi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&D(this,ee,Cf).call(this,d(this,Yi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const l=document.createElement("div");r.append(l),l.setAttribute("aria-hidden","true"),l.className="internal";const[u,c]=this.parentDimensions;return this.setDims(this.width*u,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,l,u){Ae("Not implemented")}static startDrawing(e,n,r,l){var k;const{target:u,offsetX:c,offsetY:f,pointerId:p,pointerType:g}=l;if(d(St,Nl)&&d(St,Nl)!==g)return;const{viewport:{rotation:y}}=e,{width:b,height:A}=u.getBoundingClientRect(),x=w(St,fu,new AbortController),S=e.combinedSignal(x);if(d(St,Ml)||w(St,Ml,p),d(St,Nl)??w(St,Nl,g),window.addEventListener("pointerup",C=>{var O;d(St,Ml)===C.pointerId?this._endDraw(C):(O=d(St,Ol))==null||O.delete(C.pointerId)},{signal:S}),window.addEventListener("pointercancel",C=>{var O;d(St,Ml)===C.pointerId?this._currentParent.endDrawingSession():(O=d(St,Ol))==null||O.delete(C.pointerId)},{signal:S}),window.addEventListener("pointerdown",C=>{d(St,Nl)===C.pointerType&&((d(St,Ol)||w(St,Ol,new Set)).add(C.pointerId),d(St,Sn).isCancellable()&&(d(St,Sn).removeLastElement(),d(St,Sn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Ys,{signal:S}),u.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),u.addEventListener("touchmove",C=>{C.timeStamp===d(St,gu)&&nn(C)},{signal:S}),e.toggleDrawing(),(k=n._editorUndoBar)==null||k.hide(),d(St,Sn)){e.drawLayer.updateProperties(this._currentDrawId,d(St,Sn).startNew(c,f,b,A,y));return}n.updateUIForDefaultProperties(this),w(St,Sn,this.createDrawerInstance(c,f,b,A,y)),w(St,pu,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(d(St,pu).toSVGProperties(),d(St,Sn).defaultSVGProperties),!0,!1)}static _drawMove(e){var u;if(w(St,gu,-1),!d(St,Sn))return;const{offsetX:n,offsetY:r,pointerId:l}=e;if(d(St,Ml)===l){if(((u=d(St,Ol))==null?void 0:u.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(St,Sn).add(n,r)),w(St,gu,e.timeStamp),nn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,w(St,Sn,null),w(St,pu,null),w(St,Nl,null),w(St,gu,NaN)),d(St,fu)&&(d(St,fu).abort(),w(St,fu,null),w(St,Ml,NaN),w(St,Ol,null))}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,d(St,Sn).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=d(St,Sn),l=this._currentDrawId,u=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(l,r.setLastElement(u))},undo:()=>{n.drawLayer.updateProperties(l,r.removeLastElement())},mustExec:!1,type:Jt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Jt.DRAW_STEP),!d(St,Sn).isEmpty()){const{pageDimensions:[r,l],scale:u}=n,c=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(St,Sn).getOutlines(r*u,l*u,u,this._INNER_MARGIN),drawingOptions:d(St,pu),mustBeCommitted:!e});return this._cleanup(!0),c}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,l,u,c){Ae("Not implemented")}static async deserialize(e,n,r){var y,b;const{rawDims:{pageWidth:l,pageHeight:u,pageX:c,pageY:f}}=n.viewport,p=this.deserializeDraw(c,f,l,u,this._INNER_MARGIN,e),g=await super.deserialize(e,n,r);return g.createDrawingOptions(e),D(y=g,ee,KS).call(y,{drawOutlines:p}),D(b=g,ee,_f).call(b),g.onScaleChanging(),g.rotate(),g}serializeDraw(e){const[n,r]=this.pageTranslation,[l,u]=this.pageDimensions;return d(this,Yi).serialize([n,r,l,u],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Yi=new WeakMap,Bh=new WeakMap,Sn=new WeakMap,fu=new WeakMap,pu=new WeakMap,Ml=new WeakMap,Nl=new WeakMap,Ol=new WeakMap,gu=new WeakMap,ee=new WeakSet,KS=function({drawOutlines:e,drawId:n,drawingOptions:r}){w(this,Yi,e),this._drawingOptions||(this._drawingOptions=r),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=D(this,ee,QS).call(this,e,this.parent),D(this,ee,Cf).call(this,e.box)},QS=function(e,n){const{id:r}=n.drawLayer.draw(St._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},ZS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},_f=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=D(this,ee,QS).call(this,d(this,Yi),e)}},HR=function([e,n,r,l]){const{parentDimensions:[u,c],rotation:f}=this;switch(f){case 90:return[n,1-e,r*(c/u),l*(u/c)];case 180:return[1-e,1-n,r,l];case 270:return[1-n,e,r*(c/u),l*(u/c)];default:return[e,n,r,l]}},xy=function(){const{x:e,y:n,width:r,height:l,parentDimensions:[u,c],rotation:f}=this;switch(f){case 90:return[1-n,e,r*(u/c),l*(c/u)];case 180:return[1-e,1-n,r,l];case 270:return[n,1-e,r*(u/c),l*(c/u)];default:return[e,n,r,l]}},Cf=function(e){if([this.x,this.y,this.width,this.height]=D(this,ee,HR).call(this,e),this.div){this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()},Dc=function(){const{x:e,y:n,width:r,height:l,rotation:u,parentRotation:c,parentDimensions:[f,p]}=this;switch((u*4+c)/90){case 1:return[1-n-l,e,l,r];case 2:return[1-e-r,1-n-l,r,l];case 3:return[n,1-e-r,l,r];case 4:return[e,n-r*(f/p),l*(p/f),r*(f/p)];case 5:return[1-n,e,r*(f/p),l*(p/f)];case 6:return[1-e-l*(p/f),1-n,l*(p/f),r*(f/p)];case 7:return[n-r*(f/p),1-e-l*(p/f),r*(f/p),l*(p/f)];case 8:return[e-r,n-l,r,l];case 9:return[1-n,e-r,l,r];case 10:return[1-e,1-n,r,l];case 11:return[n-l,1-e,l,r];case 12:return[e-l*(p/f),n,l*(p/f),r*(f/p)];case 13:return[1-n-r*(f/p),e-l*(p/f),r*(f/p),l*(p/f)];case 14:return[1-e,1-n-r*(f/p),l*(p/f),r*(f/p)];case 15:return[n,1-e,r*(f/p),l*(p/f)];default:return[e,n,r,l]}},gt(St,"_currentDrawId",-1),gt(St,"_currentParent",null),T(St,Sn,null),T(St,fu,null),T(St,pu,null),T(St,Ml,NaN),T(St,Nl,null),T(St,Ol,null),T(St,gu,NaN),gt(St,"_INNER_MARGIN",3);let Gy=St;var ga,wn,xn,mu,jh,si,On,bs,yu,bu,vu,Hh,Ey;class IB{constructor(t,e,n,r,l,u){T(this,Hh);T(this,ga,new Float64Array(6));T(this,wn);T(this,xn);T(this,mu);T(this,jh);T(this,si);T(this,On,"");T(this,bs,0);T(this,yu,new xg);T(this,bu);T(this,vu);w(this,bu,n),w(this,vu,r),w(this,mu,l),w(this,jh,u),[t,e]=D(this,Hh,Ey).call(this,t,e);const c=w(this,wn,[NaN,NaN,NaN,NaN,t,e]);w(this,si,[t,e]),w(this,xn,[{line:c,points:d(this,si)}]),d(this,ga).set(c,0)}updateProperty(t,e){t==="stroke-width"&&w(this,jh,e)}isEmpty(){return!d(this,xn)||d(this,xn).length===0}isCancellable(){return d(this,si).length<=10}add(t,e){[t,e]=D(this,Hh,Ey).call(this,t,e);const[n,r,l,u]=d(this,ga).subarray(2,6),c=t-l,f=e-u;return Math.hypot(d(this,bu)*c,d(this,vu)*f)<=2?null:(d(this,si).push(t,e),isNaN(n)?(d(this,ga).set([l,u,t,e],2),d(this,wn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(d(this,ga)[0])&&d(this,wn).splice(6,6),d(this,ga).set([n,r,l,u,t,e],0),d(this,wn).push(...At.createBezierPoints(n,r,l,u,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(d(this,si).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,l){w(this,bu,n),w(this,vu,r),w(this,mu,l),[t,e]=D(this,Hh,Ey).call(this,t,e);const u=w(this,wn,[NaN,NaN,NaN,NaN,t,e]);w(this,si,[t,e]);const c=d(this,xn).at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),d(this,xn).push({line:u,points:d(this,si)}),d(this,ga).set(u,0),w(this,bs,0),this.toSVGPath(),null}getLastElement(){return d(this,xn).at(-1)}setLastElement(t){return d(this,xn)?(d(this,xn).push(t),w(this,wn,t.line),w(this,si,t.points),w(this,bs,0),{path:{d:this.toSVGPath()}}):d(this,yu).setLastElement(t)}removeLastElement(){if(!d(this,xn))return d(this,yu).removeLastElement();d(this,xn).pop(),w(this,On,"");for(let t=0,e=d(this,xn).length;t<e;t++){const{line:n,points:r}=d(this,xn)[t];w(this,wn,n),w(this,si,r),w(this,bs,0),this.toSVGPath()}return{path:{d:d(this,On)}}}toSVGPath(){const t=At.svgRound(d(this,wn)[4]),e=At.svgRound(d(this,wn)[5]);if(d(this,si).length===2)return w(this,On,`${d(this,On)} M ${t} ${e} Z`),d(this,On);if(d(this,si).length<=6){const r=d(this,On).lastIndexOf("M");w(this,On,`${d(this,On).slice(0,r)} M ${t} ${e}`),w(this,bs,6)}if(d(this,si).length===4){const r=At.svgRound(d(this,wn)[10]),l=At.svgRound(d(this,wn)[11]);return w(this,On,`${d(this,On)} L ${r} ${l}`),w(this,bs,12),d(this,On)}const n=[];d(this,bs)===0&&(n.push(`M ${t} ${e}`),w(this,bs,6));for(let r=d(this,bs),l=d(this,wn).length;r<l;r+=6){const[u,c,f,p,g,y]=d(this,wn).slice(r,r+6).map(At.svgRound);n.push(`C${u} ${c} ${f} ${p} ${g} ${y}`)}return w(this,On,d(this,On)+n.join(" ")),w(this,bs,d(this,wn).length),d(this,On)}getOutlines(t,e,n,r){const l=d(this,xn).at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),d(this,yu).build(d(this,xn),t,e,n,d(this,mu),d(this,jh),r),w(this,ga,null),w(this,wn,null),w(this,xn,null),w(this,On,null),d(this,yu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ga=new WeakMap,wn=new WeakMap,xn=new WeakMap,mu=new WeakMap,jh=new WeakMap,si=new WeakMap,On=new WeakMap,bs=new WeakMap,yu=new WeakMap,bu=new WeakMap,vu=new WeakMap,Hh=new WeakSet,Ey=function(t,e){return At._normalizePoint(t,e,d(this,bu),d(this,vu),d(this,mu))};var ai,lg,og,Xi,ma,ya,Uh,Gh,Au,Pn,Va,UR,GR,VR;class xg extends At{constructor(){super(...arguments);T(this,Pn);T(this,ai);T(this,lg,0);T(this,og);T(this,Xi);T(this,ma);T(this,ya);T(this,Uh);T(this,Gh);T(this,Au)}build(e,n,r,l,u,c,f){w(this,ma,n),w(this,ya,r),w(this,Uh,l),w(this,Gh,u),w(this,Au,c),w(this,og,f??0),w(this,Xi,e),D(this,Pn,GR).call(this)}get thickness(){return d(this,Au)}setLastElement(e){return d(this,Xi).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,Xi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of d(this,Xi)){if(e.push(`M${At.svgRound(n[4])} ${At.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${At.svgRound(n[10])} ${At.svgRound(n[11])}`);continue}for(let r=6,l=n.length;r<l;r+=6){const[u,c,f,p,g,y]=n.subarray(r,r+6).map(At.svgRound);e.push(`C${u} ${c} ${f} ${p} ${g} ${y}`)}}return e.join("")}serialize([e,n,r,l],u){const c=[],f=[],[p,g,y,b]=D(this,Pn,UR).call(this);let A,x,S,k,C,O,N,z,P;switch(d(this,Gh)){case 0:P=At._rescale,A=e,x=n+l,S=r,k=-l,C=e+p*r,O=n+(1-g-b)*l,N=e+(p+y)*r,z=n+(1-g)*l;break;case 90:P=At._rescaleAndSwap,A=e,x=n,S=r,k=l,C=e+g*r,O=n+p*l,N=e+(g+b)*r,z=n+(p+y)*l;break;case 180:P=At._rescale,A=e+r,x=n,S=-r,k=l,C=e+(1-p-y)*r,O=n+g*l,N=e+(1-p)*r,z=n+(g+b)*l;break;case 270:P=At._rescaleAndSwap,A=e+r,x=n+l,S=-r,k=-l,C=e+(1-g-b)*r,O=n+(1-p-y)*l,N=e+(1-g)*r,z=n+(1-p)*l;break}for(const{line:L,points:j}of d(this,Xi))c.push(P(L,A,x,S,k,u?new Array(L.length):null)),f.push(P(j,A,x,S,k,u?new Array(j.length):null));return{lines:c,points:f,rect:[C,O,N,z]}}static deserialize(e,n,r,l,u,{paths:{lines:c,points:f},rotation:p,thickness:g}){const y=[];let b,A,x,S,k;switch(p){case 0:k=At._rescale,b=-e/r,A=n/l+1,x=1/r,S=-1/l;break;case 90:k=At._rescaleAndSwap,b=-n/l,A=-e/r,x=1/l,S=1/r;break;case 180:k=At._rescale,b=e/r+1,A=-n/l,x=-1/r,S=1/l;break;case 270:k=At._rescaleAndSwap,b=n/l+1,A=e/r+1,x=-1/l,S=-1/r;break}if(!c){c=[];for(const O of f){const N=O.length;if(N===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1]]));continue}if(N===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1],NaN,NaN,NaN,NaN,O[2],O[3]]));continue}const z=new Float32Array(3*(N-2));c.push(z);let[P,L,j,W]=O.subarray(0,4);z.set([NaN,NaN,NaN,NaN,P,L],0);for(let Q=4;Q<N;Q+=2){const it=O[Q],X=O[Q+1];z.set(At.createBezierPoints(P,L,j,W,it,X),(Q-2)*3),[P,L,j,W]=[j,W,it,X]}}}for(let O=0,N=c.length;O<N;O++)y.push({line:k(c[O].map(z=>z??NaN),b,A,x,S),points:k(f[O].map(z=>z??NaN),b,A,x,S)});const C=new this.prototype.constructor;return C.build(y,r,l,1,p,g,u),C}get box(){return d(this,ai)}updateProperty(e,n){return e==="stroke-width"?D(this,Pn,VR).call(this,n):null}updateParentDimensions([e,n],r){const[l,u]=D(this,Pn,Va).call(this);w(this,ma,e),w(this,ya,n),w(this,Uh,r);const[c,f]=D(this,Pn,Va).call(this),p=c-l,g=f-u,y=d(this,ai);return y[0]-=p,y[1]-=g,y[2]+=2*p,y[3]+=2*g,y}updateRotation(e){return w(this,lg,e),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,ai).map(At.svgRound).join(" ")}get defaultProperties(){const[e,n]=d(this,ai);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=d(this,ai);let r=0,l=0,u=0,c=0,f=0,p=0;switch(d(this,lg)){case 90:l=n/e,u=-e/n,f=e;break;case 180:r=-1,c=-1,f=e,p=n;break;case 270:l=-n/e,u=e/n,p=n;break;default:return""}return`matrix(${r} ${l} ${u} ${c} ${At.svgRound(f)} ${At.svgRound(p)})`}getPathResizingSVGProperties([e,n,r,l]){const[u,c]=D(this,Pn,Va).call(this),[f,p,g,y]=d(this,ai);if(Math.abs(g-u)<=At.PRECISION||Math.abs(y-c)<=At.PRECISION){const k=e+r/2-(f+g/2),C=n+l/2-(p+y/2);return{path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(n)}`,transform:`${this.rotationTransform} translate(${k} ${C})`}}}const b=(r-2*u)/(g-2*u),A=(l-2*c)/(y-2*c),x=g/r,S=y/l;return{path:{"transform-origin":`${At.svgRound(f)} ${At.svgRound(p)}`,transform:`${this.rotationTransform} scale(${x} ${S}) translate(${At.svgRound(u)} ${At.svgRound(c)}) scale(${b} ${A}) translate(${At.svgRound(-u)} ${At.svgRound(-c)})`}}}getPathResizedSVGProperties([e,n,r,l]){const[u,c]=D(this,Pn,Va).call(this),f=d(this,ai),[p,g,y,b]=f;if(f[0]=e,f[1]=n,f[2]=r,f[3]=l,Math.abs(y-u)<=At.PRECISION||Math.abs(b-c)<=At.PRECISION){const C=e+r/2-(p+y/2),O=n+l/2-(g+b/2);for(const{line:N,points:z}of d(this,Xi))At._translate(N,C,O,N),At._translate(z,C,O,z);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const A=(r-2*u)/(y-2*u),x=(l-2*c)/(b-2*c),S=-A*(p+u)+e+u,k=-x*(g+c)+n+c;if(A!==1||x!==1||S!==0||k!==0)for(const{line:C,points:O}of d(this,Xi))At._rescale(C,S,k,A,x,C),At._rescale(O,S,k,A,x,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${At.svgRound(e)} ${At.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[l,u]=r,c=d(this,ai),f=e-c[0],p=n-c[1];if(d(this,ma)===l&&d(this,ya)===u)for(const{line:g,points:y}of d(this,Xi))At._translate(g,f,p,g),At._translate(y,f,p,y);else{const g=d(this,ma)/l,y=d(this,ya)/u;w(this,ma,l),w(this,ya,u);for(const{line:b,points:A}of d(this,Xi))At._rescale(b,f,p,g,y,b),At._rescale(A,f,p,g,y,A);c[2]*=g,c[3]*=y}return c[0]=e,c[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${At.svgRound(e)} ${At.svgRound(n)}`}}}get defaultSVGProperties(){const e=d(this,ai);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${At.svgRound(e[0])} ${At.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ai=new WeakMap,lg=new WeakMap,og=new WeakMap,Xi=new WeakMap,ma=new WeakMap,ya=new WeakMap,Uh=new WeakMap,Gh=new WeakMap,Au=new WeakMap,Pn=new WeakSet,Va=function(e=d(this,Au)){const n=d(this,og)+e/2*d(this,Uh);return d(this,Gh)%180===0?[n/d(this,ma),n/d(this,ya)]:[n/d(this,ya),n/d(this,ma)]},UR=function(){const[e,n,r,l]=d(this,ai),[u,c]=D(this,Pn,Va).call(this,0);return[e+u,n+c,r-2*u,l-2*c]},GR=function(){const e=w(this,ai,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:l}of d(this,Xi)){if(l.length<=12){for(let f=4,p=l.length;f<p;f+=6)Et.pointBoundingBox(l[f],l[f+1],e);continue}let u=l[4],c=l[5];for(let f=6,p=l.length;f<p;f+=6){const[g,y,b,A,x,S]=l.subarray(f,f+6);Et.bezierBoundingBox(u,c,g,y,b,A,x,S,e),u=x,c=S}}const[n,r]=D(this,Pn,Va).call(this);e[0]=oi(e[0]-n,0,1),e[1]=oi(e[1]-r,0,1),e[2]=oi(e[2]+n,0,1),e[3]=oi(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]},VR=function(e){const[n,r]=D(this,Pn,Va).call(this);w(this,Au,e);const[l,u]=D(this,Pn,Va).call(this),[c,f]=[l-n,u-r],p=d(this,ai);return p[0]-=c,p[1]-=f,p[2]+=2*c,p[3]+=2*f,p};class Db extends jR{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:De._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Db(this._viewParameters);return t.updateAll(this),t}}var ub,qR;const Pc=class Pc extends Gy{constructor(e){super({...e,name:"inkEditor"});T(this,ub);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){De.initialize(e,n),this._defaultDrawingOptions=new Db(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Qt(this,"typesMap",new Map([[Jt.INK_THICKNESS,"stroke-width"],[Jt.INK_COLOR,"stroke"],[Jt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,l,u){return new IB(e,n,r,l,u,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,l,u,c){return xg.deserialize(e,n,r,l,u,c)}static async deserialize(e,n,r){let l=null;if(e instanceof Qw){const{data:{inkLists:c,rect:f,rotation:p,id:g,color:y,opacity:b,borderStyle:{rawWidth:A},popupRef:x},parent:{page:{pageNumber:S}}}=e;l=e={annotationType:Pt.INK,color:Array.from(y),thickness:A,opacity:b,paths:{points:c},boxes:null,pageIndex:S-1,rect:f.slice(0),rotation:p,id:g,deleted:!1,popupRef:x}}const u=await super.deserialize(e,n,r);return u.annotationElementId=e.id||null,u._initialData=l,u}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=Pc.getDefaultDrawingOptions({stroke:Et.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r,rect:l}=this.serializeDraw(e),{_drawingOptions:{stroke:u,"stroke-opacity":c,"stroke-width":f}}=this,p={annotationType:Pt.INK,color:De._colorManager.convert(u),opacity:c,thickness:f,paths:{lines:n,points:r},pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(p.isCopy=!0,p):this.annotationElementId&&!D(this,ub,qR).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n}),null}};ub=new WeakSet,qR=function(e){const{color:n,thickness:r,opacity:l,pageIndex:u}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((c,f)=>c!==n[f])||e.thickness!==r||e.opacity!==l||e.pageIndex!==u},gt(Pc,"_type","ink"),gt(Pc,"_editorType",Pt.INK),gt(Pc,"_defaultDrawingOptions",null);let JS=Pc;class tw extends xg{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Km=8,uf=3;var Su,oe,ew,Hs,YR,XR,nw,_y,$R,WR,KR,iw,sw,QR;class Sr{static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},l,u,c,f){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const y=200,b=g.font=`${n} ${r} ${y}px ${e}`,{actualBoundingBoxLeft:A,actualBoundingBoxRight:x,actualBoundingBoxAscent:S,actualBoundingBoxDescent:k,fontBoundingBoxAscent:C,fontBoundingBoxDescent:O,width:N}=g.measureText(t),z=1.5,P=Math.ceil(Math.max(Math.abs(A)+Math.abs(x)||0,N)*z),L=Math.ceil(Math.max(Math.abs(S)+Math.abs(k)||y,Math.abs(C)+Math.abs(O)||y)*z);p=new OffscreenCanvas(P,L),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=b,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,P,L),g.fillStyle="black",g.fillText(t,P*(z-1)/2,L*(3-z)/2);const j=D(this,oe,iw).call(this,g.getImageData(0,0,P,L).data),W=D(this,oe,KR).call(this,j),Q=D(this,oe,sw).call(this,W),it=D(this,oe,nw).call(this,j,P,L,Q);return this.processDrawnLines({lines:{curves:it,width:P,height:L},pageWidth:l,pageHeight:u,rotation:c,innerMargin:f,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,l){const[u,c,f]=D(this,oe,QR).call(this,t),[p,g]=D(this,oe,WR).call(this,u,c,f,Math.hypot(c,f)*d(this,Su).sigmaSFactor,d(this,Su).sigmaR,d(this,Su).kernelSize),y=D(this,oe,sw).call(this,g),b=D(this,oe,nw).call(this,p,c,f,y);return this.processDrawnLines({lines:{curves:b,width:c,height:f},pageWidth:e,pageHeight:n,rotation:r,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:l,mustSmooth:u,areContours:c}){r%180!==0&&([e,n]=[n,e]);const{curves:f,width:p,height:g}=t,y=t.thickness??0,b=[],A=Math.min(e/p,n/g),x=A/e,S=A/n,k=[];for(const{points:O}of f){const N=u?D(this,oe,$R).call(this,O):O;if(!N)continue;k.push(N);const z=N.length,P=new Float32Array(z),L=new Float32Array(3*(z===2?2:z-2));if(b.push({line:L,points:P}),z===2){P[0]=N[0]*x,P[1]=N[1]*S,L.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[j,W,Q,it]=N;j*=x,W*=S,Q*=x,it*=S,P.set([j,W,Q,it],0),L.set([NaN,NaN,NaN,NaN,j,W],0);for(let X=4;X<z;X+=2){const Z=P[X]=N[X]*x,ct=P[X+1]=N[X+1]*S;L.set(At.createBezierPoints(j,W,Q,it,Z,ct),(X-2)*3),[j,W,Q,it]=[Q,it,Z,ct]}}if(b.length===0)return null;const C=c?new tw:new xg;return C.build(b,e,n,1,r,c?0:y,l),{outline:C,newCurves:k,areContours:c,thickness:y,width:p,height:g}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:l}){let u=1/0,c=-1/0,f=0;for(const N of t){f+=N.length;for(let z=2,P=N.length;z<P;z++){const L=N[z]-N[z-2];u=Math.min(u,L),c=Math.max(c,L)}}let p;u>=-128&&c<=127?p=Int8Array:u>=-32768&&c<=32767?p=Int16Array:p=Int32Array;const g=t.length,y=Km+uf*g,b=new Uint32Array(y);let A=0;b[A++]=y*Uint32Array.BYTES_PER_ELEMENT+(f-2*g)*p.BYTES_PER_ELEMENT,b[A++]=0,b[A++]=r,b[A++]=l,b[A++]=e?0:1,b[A++]=Math.max(0,Math.floor(n??0)),b[A++]=g,b[A++]=p.BYTES_PER_ELEMENT;for(const N of t)b[A++]=N.length-2,b[A++]=N[0],b[A++]=N[1];const x=new CompressionStream("deflate-raw"),S=x.writable.getWriter();await S.ready,S.write(b);const k=p.prototype.constructor;for(const N of t){const z=new k(N.length-2);for(let P=2,L=N.length;P<L;P++)z[P-2]=N[P]-N[P-2];S.write(z)}S.close();const C=await new Response(x.readable).arrayBuffer(),O=new Uint8Array(C);return JD(O)}static async decompressSignature(t){try{const e=oF(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),l=r.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let u=null,c=0;for await(const N of n)u||(u=new Uint8Array(new Uint32Array(N.buffer,0,4)[0])),u.set(N,c),c+=N.length;const f=new Uint32Array(u.buffer,0,u.length>>2),p=f[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=f[2],y=f[3],b=f[4]===0,A=f[5],x=f[6],S=f[7],k=[],C=(Km+uf*x)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(S){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(u.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(u.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(u.buffer,C);break}c=0;for(let N=0;N<x;N++){const z=f[uf*N+Km],P=new Float32Array(z+2);k.push(P);for(let L=0;L<uf-1;L++)P[L]=f[uf*N+Km+L+1];for(let L=0;L<z;L++)P[L+2]=P[L]+O[c++]}return{areContours:b,thickness:A,outlines:k,width:g,height:y}}catch(e){return zt(`decompressSignature: ${e}`),null}}}Su=new WeakMap,oe=new WeakSet,ew=function(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r},Hs=new WeakMap,YR=function(t,e,n,r,l,u,c){const f=D(this,oe,ew).call(this,n,r,l,u);for(let p=0;p<8;p++){const g=(-p+f-c+16)%8,y=d(this,Hs)[2*g],b=d(this,Hs)[2*g+1];if(t[(n+y)*e+(r+b)]!==0)return g}return-1},XR=function(t,e,n,r,l,u,c){const f=D(this,oe,ew).call(this,n,r,l,u);for(let p=0;p<8;p++){const g=(p+f+c+16)%8,y=d(this,Hs)[2*g],b=d(this,Hs)[2*g+1];if(t[(n+y)*e+(r+b)]!==0)return g}return-1},nw=function(t,e,n,r){const l=t.length,u=new Int32Array(l);for(let g=0;g<l;g++)u[g]=t[g]<=r?1:0;for(let g=1;g<n-1;g++)u[g*e]=u[g*e+e-1]=0;for(let g=0;g<e;g++)u[g]=u[e*n-1-g]=0;let c=1,f;const p=[];for(let g=1;g<n-1;g++){f=1;for(let y=1;y<e-1;y++){const b=g*e+y,A=u[b];if(A===0)continue;let x=g,S=y;if(A===1&&u[b-1]===0)c+=1,S-=1;else if(A>=1&&u[b+1]===0)c+=1,S+=1,A>1&&(f=A);else{A!==1&&(f=Math.abs(A));continue}const k=[y,g],C=S===y+1,O={isHole:C,points:k,id:c,parent:0};p.push(O);let N;for(const X of p)if(X.id===f){N=X;break}N?N.isHole?O.parent=C?N.parent:f:O.parent=C?f:N.parent:O.parent=C?f:0;const z=D(this,oe,YR).call(this,u,e,g,y,x,S,0);if(z===-1){u[b]=-c,u[b]!==1&&(f=Math.abs(u[b]));continue}let P=d(this,Hs)[2*z],L=d(this,Hs)[2*z+1];const j=g+P,W=y+L;x=j,S=W;let Q=g,it=y;for(;;){const X=D(this,oe,XR).call(this,u,e,Q,it,x,S,1);P=d(this,Hs)[2*X],L=d(this,Hs)[2*X+1];const Z=Q+P,ct=it+L;k.push(ct,Z);const J=Q*e+it;if(u[J+1]===0?u[J]=-c:u[J]===1&&(u[J]=c),Z===g&&ct===y&&Q===j&&it===W){u[b]!==1&&(f=Math.abs(u[b]));break}else x=Q,S=it,Q=Z,it=ct}}}return p},_y=function(t,e,n,r){if(n-e<=4){for(let j=e;j<n-2;j+=2)r.push(t[j],t[j+1]);return}const l=t[e],u=t[e+1],c=t[n-4]-l,f=t[n-3]-u,p=Math.hypot(c,f),g=c/p,y=f/p,b=g*u-y*l,A=f/c,x=1/p,S=Math.atan(A),k=Math.cos(S),C=Math.sin(S),O=x*(Math.abs(k)+Math.abs(C)),N=x*(1-O+O**2),z=Math.max(Math.atan(Math.abs(C+k)*N),Math.atan(Math.abs(C-k)*N));let P=0,L=e;for(let j=e+2;j<n-2;j+=2){const W=Math.abs(b-g*t[j+1]+y*t[j]);W>P&&(L=j,P=W)}P>(p*z)**2?(D(this,oe,_y).call(this,t,e,L+2,r),D(this,oe,_y).call(this,t,L,n,r)):r.push(l,u)},$R=function(t){const e=[],n=t.length;return D(this,oe,_y).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e},WR=function(t,e,n,r,l,u){const c=new Float32Array(u**2),f=-2*r**2,p=u>>1;for(let S=0;S<u;S++){const k=(S-p)**2;for(let C=0;C<u;C++)c[S*u+C]=Math.exp((k+(C-p)**2)/f)}const g=new Float32Array(256),y=-2*l**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/y);const b=t.length,A=new Uint8Array(b),x=new Uint32Array(256);for(let S=0;S<n;S++)for(let k=0;k<e;k++){const C=S*e+k,O=t[C];let N=0,z=0;for(let L=0;L<u;L++){const j=S+L-p;if(!(j<0||j>=n))for(let W=0;W<u;W++){const Q=k+W-p;if(Q<0||Q>=e)continue;const it=t[j*e+Q],X=c[L*u+W]*g[Math.abs(it-O)];N+=it*X,z+=X}}const P=A[C]=Math.round(N/z);x[P]++}return[A,x]},KR=function(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e},iw=function(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,l=1/0;for(let c=0,f=n.length;c<f;c++){if(t[(c<<2)+3]===0){r=n[c]=255;continue}const g=n[c]=t[c<<2];g>r&&(r=g),g<l&&(l=g)}const u=255/(r-l);for(let c=0;c<e;c++)n[c]=(n[c]-l)*u;return n},sw=function(t){let e,n=-1/0,r=-1/0;const l=t.findIndex(f=>f!==0);let u=l,c=l;for(e=l;e<256;e++){const f=t[e];f>n&&(e-u>r&&(r=e-u,c=e-1),n=f,u=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e},QR=function(t){const e=t,{width:n,height:r}=t,{maxDim:l}=d(this,Su);let u=n,c=r;if(n>l||r>l){let b=n,A=r,x=Math.log2(Math.max(n,r)/l);const S=Math.floor(x);x=x===S?S-1:S;for(let C=0;C<x;C++){u=b,c=A,u>l&&(u=Math.ceil(u/2)),c>l&&(c=Math.ceil(c/2));const O=new OffscreenCanvas(u,c);O.getContext("2d").drawImage(t,0,0,b,A,0,0,u,c),b=u,A=c,t!==e&&t.close(),t=O.transferToImageBitmap()}const k=Math.min(l/u,l/c);u=Math.round(u*k),c=Math.round(c*k)}const p=new OffscreenCanvas(u,c).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,u,c);const g=p.getImageData(0,0,u,c).data;return[D(this,oe,iw).call(this,g),u,c]},T(Sr,oe),T(Sr,Su,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),T(Sr,Hs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Zw extends jR{constructor(){super(),super.updateProperties({fill:De._defaultLineColor,"stroke-width":0})}clone(){const t=new Zw;return t.updateAll(this),t}}class Jw extends Db{constructor(t){super(t),super.updateProperties({stroke:De._defaultLineColor,"stroke-width":1})}clone(){const t=new Jw(this._viewParameters);return t.updateAll(this),t}}var Ll,$i,Pl,zl;const zi=class zi extends Gy{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});T(this,Ll,!1);T(this,$i,null);T(this,Pl,null);T(this,zl,null);this._willKeepAspectRatio=!0,w(this,Pl,e.signatureData||null),w(this,$i,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){De.initialize(e,n),this._defaultDrawingOptions=new Zw,this._defaultDrawnSignatureOptions=new Jw(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Qt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,$i)}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(d(this,Pl)){const{lines:l,mustSmooth:u,areContours:c,description:f,uuid:p,heightInPage:g}=d(this,Pl),{rawDims:{pageWidth:y,pageHeight:b},rotation:A}=this.parent.viewport,x=Sr.processDrawnLines({lines:l,pageWidth:y,pageHeight:b,rotation:A,innerMargin:zi._INNER_MARGIN,mustSmooth:u,areContours:c});this.addSignature(x,g,f,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){w(this,zl,e),this.addEditToolbar()}getUuid(){return d(this,zl)}get description(){return d(this,$i)}set description(e){w(this,$i,e),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:l,height:u}=d(this,Pl),c=Math.max(l,u),f=Sr.processDrawnLines({lines:{curves:e.map(p=>({points:p})),thickness:r,width:l,height:u},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:f.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&d(this,$i)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,d(this,zl),d(this,$i)),e.show()),e):null}addSignature(e,n,r,l){const{x:u,y:c}=this,{outline:f}=w(this,Pl,e);w(this,Ll,f instanceof tw),w(this,$i,r),this.div.setAttribute("data-l10n-args",JSON.stringify({description:r}));let p;d(this,Ll)?p=zi.getDefaultDrawingOptions():(p=zi._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":f.thickness})),this._addOutlines({drawOutlines:f,drawingOptions:p});const[g,y]=this.parentDimensions,[,b]=this.pageDimensions;let A=n/b;A=A>=1?.5:A,this.width*=A/this.height,this.width>=1&&(A*=.9/this.width,this.width=.9),this.height=A,this.setDims(g*this.width,y*this.height),this.x=u,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(l),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!l,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:l}=this.parent.viewport;return Sr.process(e,n,r,l,zi._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:l},rotation:u}=this.parent.viewport;return Sr.extractContoursFromText(e,n,r,l,u,zi._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:l}=this.parent.viewport;return Sr.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:l,innerMargin:zi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=zi.getDefaultDrawingOptions():(this._drawingOptions=zi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r,rect:l}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":u}}=this,c={annotationType:Pt.SIGNATURE,isSignature:!0,areContours:d(this,Ll),color:[0,0,0],thickness:d(this,Ll)?0:u,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.paths={lines:n,points:r},c.uuid=d(this,zl),c.isCopy=!0):c.lines=n,d(this,$i)&&(c.accessibilityData={type:"Figure",alt:d(this,$i)}),c}static deserializeDraw(e,n,r,l,u,c){return c.areContours?tw.deserialize(e,n,r,l,u,c):xg.deserialize(e,n,r,l,u,c)}static async deserialize(e,n,r){var u;const l=await super.deserialize(e,n,r);return w(l,Ll,e.areContours),w(l,$i,((u=e.accessibilityData)==null?void 0:u.alt)||""),w(l,zl,e.uuid),l}};Ll=new WeakMap,$i=new WeakMap,Pl=new WeakMap,zl=new WeakMap,gt(zi,"_type","signature"),gt(zi,"_editorType",Pt.SIGNATURE),gt(zi,"_defaultDrawingOptions",null);let aw=zi;var Ne,En,Il,mr,Fl,Vh,yr,wu,ba,Wi,qh,ne,Tf,Df,Cy,Ty,Dy,lw,ky,ZR;class rw extends De{constructor(e){super({...e,name:"stampEditor"});T(this,ne);T(this,Ne,null);T(this,En,null);T(this,Il,null);T(this,mr,null);T(this,Fl,null);T(this,Vh,"");T(this,yr,null);T(this,wu,!1);T(this,ba,null);T(this,Wi,!1);T(this,qh,!1);w(this,mr,e.bitmapUrl),w(this,Fl,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){De.initialize(e,n)}static isHandlingMimeForPasting(e){return JA.includes(e)}static paste(e,n){n.pasteEditor(Pt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:u,height:c}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:u,height:c,channels:l.length/(u*c)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;d(this,En)&&(w(this,Ne,null),this._uiManager.imageManager.deleteId(d(this,En)),(e=d(this,yr))==null||e.remove(),w(this,yr,null),d(this,ba)&&(clearTimeout(d(this,ba)),w(this,ba,null))),super.remove()}rebuild(){if(!this.parent){d(this,En)&&D(this,ne,Cy).call(this);return}super.rebuild(),this.div!==null&&(d(this,En)&&d(this,yr)===null&&D(this,ne,Cy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(d(this,Il)||d(this,Ne)||d(this,mr)||d(this,Fl)||d(this,En)||d(this,wu))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),d(this,wu)||(d(this,Ne)?D(this,ne,Ty).call(this):D(this,ne,Cy).call(this)),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:l}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(w(this,En,r),l&&w(this,Ne,l),w(this,wu,!1),D(this,ne,Ty).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,ba)!==null&&clearTimeout(d(this,ba)),w(this,ba,setTimeout(()=>{w(this,ba,null),D(this,ne,lw).call(this)},200))}copyCanvas(e,n,r=!1){var A;e||(e=224);const{width:l,height:u}=d(this,Ne),c=new _r;let f=d(this,Ne),p=l,g=u,y=null;if(n){if(l>n||u>n){const W=Math.min(n/l,n/u);p=Math.floor(l*W),g=Math.floor(u*W)}y=document.createElement("canvas");const x=y.width=Math.ceil(p*c.sx),S=y.height=Math.ceil(g*c.sy);d(this,Wi)||(f=D(this,ne,Dy).call(this,x,S));const k=y.getContext("2d");k.filter=this._uiManager.hcmFilter;let C="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",O="#42414d");const N=15,z=N*c.sx,P=N*c.sy,L=new OffscreenCanvas(z*2,P*2),j=L.getContext("2d");j.fillStyle=C,j.fillRect(0,0,z*2,P*2),j.fillStyle=O,j.fillRect(0,0,z,P),j.fillRect(z,P,z,P),k.fillStyle=k.createPattern(L,"repeat"),k.fillRect(0,0,x,S),k.drawImage(f,0,0,f.width,f.height,0,0,x,S)}let b=null;if(r){let x,S;if(c.symmetric&&f.width<e&&f.height<e)x=f.width,S=f.height;else if(f=d(this,Ne),l>e||u>e){const O=Math.min(e/l,e/u);x=Math.floor(l*O),S=Math.floor(u*O),d(this,Wi)||(f=D(this,ne,Dy).call(this,x,S))}const C=new OffscreenCanvas(x,S).getContext("2d",{willReadFrequently:!0});C.drawImage(f,0,0,f.width,f.height,0,0,x,S),b={width:x,height:S,data:C.getImageData(0,0,x,S).data}}return{canvas:y,width:p,height:g,imageData:b}}static async deserialize(e,n,r){var k;let l=null,u=!1;if(e instanceof fR){const{data:{rect:C,rotation:O,id:N,structParent:z,popupRef:P},container:L,parent:{page:{pageNumber:j}},canvas:W}=e;let Q,it;W?(delete e.canvas,{id:Q,bitmap:it}=r.imageManager.getFromCanvas(L.id,W),W.remove()):(u=!0,e._hasNoCanvas=!0);const X=((k=await n._structTree.getAriaAttributes(`${Uw}${N}`))==null?void 0:k.get("aria-label"))||"";l=e={annotationType:Pt.STAMP,bitmapId:Q,bitmap:it,pageIndex:j-1,rect:C.slice(0),rotation:O,id:N,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:z,popupRef:P}}const c=await super.deserialize(e,n,r),{rect:f,bitmap:p,bitmapUrl:g,bitmapId:y,isSvg:b,accessibilityData:A}=e;u?(r.addMissingCanvas(e.id,c),w(c,wu,!0)):y&&r.imageManager.isValidId(y)?(w(c,En,y),p&&w(c,Ne,p)):w(c,mr,g),w(c,Wi,b);const[x,S]=c.pageDimensions;return c.width=(f[2]-f[0])/x,c.height=(f[3]-f[1])/S,c.annotationElementId=e.id||null,A&&(c.altTextData=A),c._initialData=l,w(c,qh,!!l),c}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Pt.STAMP,bitmapId:d(this,En),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,Wi),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=D(this,ne,ky).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:l,altText:u}=this.serializeAltText(!1);if(!l&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=D(this,ne,ZR).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const c=d(this,Wi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(d(this,En)))n.stamps.set(d(this,En),{area:c,serialized:r}),r.bitmap=D(this,ne,ky).call(this,!1);else if(d(this,Wi)){const f=n.stamps.get(d(this,En));c>f.area&&(f.area=c,f.serialized.bitmap.close(),f.serialized.bitmap=D(this,ne,ky).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}Ne=new WeakMap,En=new WeakMap,Il=new WeakMap,mr=new WeakMap,Fl=new WeakMap,Vh=new WeakMap,yr=new WeakMap,wu=new WeakMap,ba=new WeakMap,Wi=new WeakMap,qh=new WeakMap,ne=new WeakSet,Tf=function(e,n=!1){if(!e){this.remove();return}w(this,Ne,e.bitmap),n||(w(this,En,e.id),w(this,Wi,e.isSvg)),e.file&&w(this,Vh,e.file.name),D(this,ne,Ty).call(this)},Df=function(){if(w(this,Il,null),this._uiManager.enableWaiting(!1),!!d(this,yr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ne)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ne)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Cy=function(){if(d(this,En)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,En)).then(r=>D(this,ne,Tf).call(this,r,!0)).finally(()=>D(this,ne,Df).call(this));return}if(d(this,mr)){const r=d(this,mr);w(this,mr,null),this._uiManager.enableWaiting(!0),w(this,Il,this._uiManager.imageManager.getFromUrl(r).then(l=>D(this,ne,Tf).call(this,l)).finally(()=>D(this,ne,Df).call(this)));return}if(d(this,Fl)){const r=d(this,Fl);w(this,Fl,null),this._uiManager.enableWaiting(!0),w(this,Il,this._uiManager.imageManager.getFromFile(r).then(l=>D(this,ne,Tf).call(this,l)).finally(()=>D(this,ne,Df).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=JA.join(",");const n=this._uiManager._signal;w(this,Il,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),D(this,ne,Tf).call(this,l)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>D(this,ne,Df).call(this))),e.click()},Ty=function(){var y;const{div:e}=this;let{width:n,height:r}=d(this,Ne);const[l,u]=this.pageDimensions,c=.75;if(this.width)n=this.width*l,r=this.height*u;else if(n>c*l||r>c*u){const b=Math.min(c*l/n,c*u/r);n*=b,r*=b}const[f,p]=this.parentDimensions;this.setDims(n*f/l,r*p/u),this._uiManager.enableWaiting(!1);const g=w(this,yr,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),this.width=n/l,this.height=r/u,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),D(this,ne,lw).call(this),d(this,qh)||(this.parent.addUndoableEditor(this),w(this,qh,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Vh)&&this.div.setAttribute("aria-description",d(this,Vh))},Dy=function(e,n){const{width:r,height:l}=d(this,Ne);let u=r,c=l,f=d(this,Ne);for(;u>2*e||c>2*n;){const p=u,g=c;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const y=new OffscreenCanvas(u,c);y.getContext("2d").drawImage(f,0,0,p,g,0,0,u,c),f=y.transferToImageBitmap()}return f},lw=function(){const[e,n]=this.parentDimensions,{width:r,height:l}=this,u=new _r,c=Math.ceil(r*e*u.sx),f=Math.ceil(l*n*u.sy),p=d(this,yr);if(!p||p.width===c&&p.height===f)return;p.width=c,p.height=f;const g=d(this,Wi)?d(this,Ne):D(this,ne,Dy).call(this,c,f),y=p.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(g,0,0,g.width,g.height,0,0,c,f)},ky=function(e){if(e){if(d(this,Wi)){const l=this._uiManager.imageManager.getSvgUrl(d(this,En));if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,Ne),n.getContext("2d").drawImage(d(this,Ne),0,0),n.toDataURL()}if(d(this,Wi)){const[n,r]=this.pageDimensions,l=Math.round(this.width*n*Gl.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*Gl.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(l,u);return c.getContext("2d").drawImage(d(this,Ne),0,0,d(this,Ne).width,d(this,Ne).height,0,0,l,u),c.transferToImageBitmap()}return structuredClone(d(this,Ne))},ZR=function(e){var c;const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,l=e.pageIndex===n,u=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&l&&u,isSameAltText:u}},gt(rw,"_type","stamp"),gt(rw,"_editorType",Pt.STAMP);var xu,Yh,va,Bl,br,vs,jl,Xh,Eu,Us,vr,Wn,Ar,_t,Hl,Oe,JR,na,uw,cw,Ry;const Ms=class Ms{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:u,drawLayer:c,textLayer:f,viewport:p,l10n:g}){T(this,Oe);T(this,xu);T(this,Yh,!1);T(this,va,null);T(this,Bl,null);T(this,br,null);T(this,vs,new Map);T(this,jl,!1);T(this,Xh,!1);T(this,Eu,!1);T(this,Us,null);T(this,vr,null);T(this,Wn,null);T(this,Ar,null);T(this,_t);const y=[...d(Ms,Hl).values()];if(!Ms._initialized){Ms._initialized=!0;for(const b of y)b.initialize(g,t)}t.registerEditorTypes(y),w(this,_t,t),this.pageIndex=e,this.div=n,w(this,xu,l),w(this,va,u),this.viewport=p,w(this,Wn,f),this.drawLayer=c,this._structTree=r,d(this,_t).addLayer(this)}get isEmpty(){return d(this,vs).size===0}get isInvisible(){return this.isEmpty&&d(this,_t).getMode()===Pt.NONE}updateToolbar(t){d(this,_t).updateToolbar(t)}updateMode(t=d(this,_t).getMode()){switch(D(this,Oe,Ry).call(this),t){case Pt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Pt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Pt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of d(Ms,Hl).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,Wn))==null?void 0:e.div)}setEditingState(t){d(this,_t).setEditingState(t)}addCommands(t){d(this,_t).addCommands(t)}cleanUndoStack(t){d(this,_t).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,va))==null||e.div.classList.toggle("disabled",!t)}async enable(){w(this,Eu,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of d(this,vs).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(d(this,_t).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!d(this,va)){w(this,Eu,!1);return}const e=d(this,va).getEditableAnnotations();for(const n of e){if(n.hide(),d(this,_t).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}w(this,Eu,!1)}disable(){var r;w(this,Xh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,vs).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(d(this,va)){const l=d(this,va).getEditableAnnotations();for(const u of l){const{id:c}=u.data;if(d(this,_t).isDeletedAnnotationElement(c))continue;let f=e.get(c);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(c),f&&(d(this,_t).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}D(this,Oe,Ry).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const l of d(Ms,Hl).values())n.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,Xh,!1)}getEditableAnnotation(t){var e;return((e=d(this,va))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,_t).getActive()!==t&&d(this,_t).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,Wn))!=null&&t.div&&!d(this,Ar)){w(this,Ar,new AbortController);const e=d(this,_t).combinedSignal(d(this,Ar));d(this,Wn).div.addEventListener("pointerdown",D(this,Oe,JR).bind(this),{signal:e}),d(this,Wn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,Wn))!=null&&t.div&&d(this,Ar)&&(d(this,Ar).abort(),w(this,Ar,null),d(this,Wn).div.classList.remove("highlighting"))}enableClick(){if(d(this,Bl))return;w(this,Bl,new AbortController);const t=d(this,_t).combinedSignal(d(this,Bl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=d(this,Bl))==null||t.abort(),w(this,Bl,null)}attach(t){d(this,vs).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,_t).isDeletedAnnotationElement(e)&&d(this,_t).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,vs).delete(t.id),(e=d(this,xu))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Xh)&&t.annotationElementId&&d(this,_t).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,_t).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,_t).addDeletedAnnotationElement(t.annotationElementId),De.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,_t).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!d(this,Eu)),d(this,_t).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,br)&&(t._focusEventsAllowed=!1,w(this,br,setTimeout(()=>{w(this,br,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,_t)._signal}),e.focus())},0))),t._structTreeParentId=(n=d(this,xu))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return d(this,_t).getId()}combinedSignal(t){return d(this,_t).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,Oe,na))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){d(this,_t).updateToolbar(t),await d(this,_t).updateMode(t);const{offsetX:n,offsetY:r}=D(this,Oe,cw).call(this),l=this.getNextId(),u=D(this,Oe,uw).call(this,{parent:this,id:l,x:n,y:r,uiManager:d(this,_t),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=d(Ms,Hl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,_t)))||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),l=D(this,Oe,uw).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:d(this,_t),isCentered:e,...n});return l&&this.add(l),l}addNewEditor(t={}){this.createAndAddNewEditor(D(this,Oe,cw).call(this),!0,t)}setSelected(t){d(this,_t).setSelected(t)}toggleSelected(t){d(this,_t).toggleSelected(t)}unselect(t){d(this,_t).unselect(t)}pointerup(t){var r;const{isMac:e}=Fn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!d(this,jl)||(w(this,jl,!1),(r=d(this,Oe,na))!=null&&r.isDrawer&&d(this,Oe,na).supportMultipleDrawings))return;if(!d(this,Yh)){w(this,Yh,!0);return}const n=d(this,_t).getMode();if(n===Pt.STAMP||n===Pt.SIGNATURE){d(this,_t).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var r;if(d(this,_t).getMode()===Pt.HIGHLIGHT&&this.enableTextSelection(),d(this,jl)){w(this,jl,!1);return}const{isMac:e}=Fn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(w(this,jl,!0),(r=d(this,Oe,na))!=null&&r.isDrawer){this.startDrawingSession(t);return}const n=d(this,_t).getActive();w(this,Yh,!n||n.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),d(this,Us)){d(this,Oe,na).startDrawing(this,d(this,_t),!1,t);return}d(this,_t).setCurrentDrawingSession(this),w(this,Us,new AbortController);const e=d(this,_t).combinedSignal(d(this,Us));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(w(this,vr,null),this.commitOrRemove())},{signal:e}),d(this,Oe,na).startDrawing(this,d(this,_t),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&w(this,vr,e);return}d(this,vr)&&setTimeout(()=>{var e;(e=d(this,vr))==null||e.focus(),w(this,vr,null)},0)}endDrawingSession(t=!1){return d(this,Us)?(d(this,_t).setCurrentDrawingSession(null),d(this,Us).abort(),w(this,Us,null),w(this,vr,null),d(this,Oe,na).endDrawing(t)):null}findNewParent(t,e,n){const r=d(this,_t).findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return d(this,Us)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,Us)&&d(this,Oe,na).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=d(this,_t).getActive())==null?void 0:t.parent)===this&&(d(this,_t).commitOrRemove(),d(this,_t).setActiveEditor(null)),d(this,br)&&(clearTimeout(d(this,br)),w(this,br,null));for(const n of d(this,vs).values())(e=d(this,xu))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,vs).clear(),d(this,_t).removeLayer(this)}render({viewport:t}){this.viewport=t,Du(this.div,t);for(const e of d(this,_t).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,_t).commitOrRemove(),D(this,Oe,Ry).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Du(this.div,{rotation:n}),e!==n)for(const r of d(this,vs).values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,_t).viewParameters.realScale}};xu=new WeakMap,Yh=new WeakMap,va=new WeakMap,Bl=new WeakMap,br=new WeakMap,vs=new WeakMap,jl=new WeakMap,Xh=new WeakMap,Eu=new WeakMap,Us=new WeakMap,vr=new WeakMap,Wn=new WeakMap,Ar=new WeakMap,_t=new WeakMap,Hl=new WeakMap,Oe=new WeakSet,JR=function(t){d(this,_t).unselectAll();const{target:e}=t;if(e===d(this,Wn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,Wn).div.contains(e)){const{isMac:n}=Fn.platform;if(t.button!==0||t.ctrlKey&&n)return;d(this,_t).showAllEditors("highlight",!0,!0),d(this,Wn).div.classList.add("free"),this.toggleDrawing(),Uy.startHighlighting(this,d(this,_t).direction==="ltr",{target:d(this,Wn).div,x:t.x,y:t.y}),d(this,Wn).div.addEventListener("pointerup",()=>{d(this,Wn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,_t)._signal}),t.preventDefault()}},na=function(){return d(Ms,Hl).get(d(this,_t).getMode())},uw=function(t){const e=d(this,Oe,na);return e?new e.prototype.constructor(t):null},cw=function(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,e),c=Math.min(window.innerWidth,t+n),f=Math.min(window.innerHeight,e+r),p=(l+c)/2-t,g=(u+f)/2-e,[y,b]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:b}},Ry=function(){for(const t of d(this,vs).values())t.isEmpty()&&t.remove()},gt(Ms,"_initialized",!1),T(Ms,Hl,new Map([jS,JS,rw,Uy,aw].map(t=>[t._editorType,t])));let ow=Ms;var Gs,ri,_u,ug,cb,tM,xa,dw,eM,fw;const hn=class hn{constructor({pageIndex:t}){T(this,xa);T(this,Gs,null);T(this,ri,new Map);T(this,_u,new Map);this.pageIndex=t}setParent(t){if(!d(this,Gs)){w(this,Gs,t);return}if(d(this,Gs)!==t){if(d(this,ri).size>0)for(const e of d(this,ri).values())e.remove(),t.append(e);w(this,Gs,t)}}static get _svgFactory(){return Qt(this,"_svgFactory",new By)}draw(t,e=!1,n=!1){const r=ei(hn,ug)._++,l=D(this,xa,dw).call(this),u=hn._svgFactory.createElement("defs");l.append(u);const c=hn._svgFactory.createElement("path");u.append(c);const f=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",f),c.setAttribute("vector-effect","non-scaling-stroke"),e&&d(this,_u).set(r,c);const p=n?D(this,xa,eM).call(this,u,f):null,g=hn._svgFactory.createElement("use");return l.append(g),g.setAttribute("href",`#${f}`),this.updateProperties(l,t),d(this,ri).set(r,l),{id:r,clipPathId:`url(#${p})`}}drawOutline(t,e){const n=ei(hn,ug)._++,r=D(this,xa,dw).call(this),l=hn._svgFactory.createElement("defs");r.append(l);const u=hn._svgFactory.createElement("path");l.append(u);const c=`path_p${this.pageIndex}_${n}`;u.setAttribute("id",c),u.setAttribute("vector-effect","non-scaling-stroke");let f;if(e){const y=hn._svgFactory.createElement("mask");l.append(y),f=`mask_p${this.pageIndex}_${n}`,y.setAttribute("id",f),y.setAttribute("maskUnits","objectBoundingBox");const b=hn._svgFactory.createElement("rect");y.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const A=hn._svgFactory.createElement("use");y.append(A),A.setAttribute("href",`#${c}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const p=hn._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${c}`),f&&p.setAttribute("mask",`url(#${f})`);const g=p.cloneNode();return r.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(r,t),d(this,ri).set(n,r),n}finalizeDraw(t,e){d(this,_u).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var f;if(!e)return;const{root:n,bbox:r,rootClass:l,path:u}=e,c=typeof t=="number"?d(this,ri).get(t):t;if(c){if(n&&D(this,xa,fw).call(this,c,n),r&&D(f=hn,cb,tM).call(f,c,r),l){const{classList:p}=c;for(const[g,y]of Object.entries(l))p.toggle(g,y)}if(u){const g=c.firstChild.firstChild;D(this,xa,fw).call(this,g,u)}}}updateParent(t,e){if(e===this)return;const n=d(this,ri).get(t);n&&(d(e,Gs).append(n),d(this,ri).delete(t),d(e,ri).set(t,n))}remove(t){d(this,_u).delete(t),d(this,Gs)!==null&&(d(this,ri).get(t).remove(),d(this,ri).delete(t))}destroy(){w(this,Gs,null);for(const t of d(this,ri).values())t.remove();d(this,ri).clear(),d(this,_u).clear()}};Gs=new WeakMap,ri=new WeakMap,_u=new WeakMap,ug=new WeakMap,cb=new WeakSet,tM=function(t,[e,n,r,l]){const{style:u}=t;u.top=`${100*n}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*l}%`},xa=new WeakSet,dw=function(){const t=hn._svgFactory.create(1,1,!0);return d(this,Gs).append(t),t.setAttribute("aria-hidden",!0),t},eM=function(t,e){const n=hn._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=hn._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},fw=function(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)},T(hn,cb),T(hn,ug,0);let hw=hn;globalThis.pdfjsTestingUtils={HighlightOutliner:US};globalThis.pdfjsLib={AbortException:Ul,AnnotationEditorLayer:ow,AnnotationEditorParamsType:Jt,AnnotationEditorType:Pt,AnnotationEditorUIManager:ku,AnnotationLayer:IS,AnnotationMode:il,AnnotationType:tn,build:mB,ColorPicker:Hy,createValidAbsoluteUrl:WD,DOMSVGFactory:By,DrawLayer:hw,FeatureTest:Fn,fetchData:bg,getDocument:Zk,getFilenameFromUrl:uF,getPdfFilenameFromUrl:cF,getUuid:ZD,getXfaPageViewport:hF,GlobalWorkerOptions:Sa,ImageKind:ty,InvalidPDFException:QA,isDataScheme:Cb,isPdfFile:Vw,isValidExplicitDest:uB,MathClamp:oi,noContextMenu:Ys,normalizeUnicode:rF,OPS:Py,OutputScale:_r,PasswordResponses:Q3,PDFDataRangeTransport:Jk,PDFDateString:qw,PDFWorker:Bc,PermissionFlag:K3,PixelsPerInch:Gl,RenderingCancelledException:Gw,ResponseException:zy,setLayerDimensions:Du,shadow:Qt,SignatureExtractor:Sr,stopEvent:nn,SupportedImageMimeTypes:JA,TextLayer:If,TouchManager:Fy,updateUrlHash:KD,Util:Et,VerbosityLevel:xb,version:gB,XfaLayer:eR};fetch("/pdf.worker.min.js").then(s=>s.text()).then(s=>{const t=new Blob([s],{type:"application/javascript"}),e=URL.createObjectURL(t);Sa.workerSrc=e}).catch(s=>{console.error("PDF worker 加载失败:",s)});const nM=lt.createContext(null),CT=({pdfUrl:s,children:t})=>{const[e,n]=lt.useState(null),[r,l]=lt.useState([]),u=lt.useRef([]);return lt.useEffect(()=>{let c=!1;return(async()=>{try{console.log("Attempting to load PDF:",s);const p=await Zk(s).promise;if(c)return;n(p);const g=[];let y=0;const b=1;for(let A=1;A<=p.numPages;A++){const S=(await p.getPage(A)).getViewport({scale:b});g.push({width:S.width,height:S.height,offsetY:y}),y+=S.height+10}c||l(g)}catch(f){console.error("PDF 加载失败:",f)}})(),()=>{c=!0}},[s]),lt.useEffect(()=>{if(!e||r.length===0)return;const c=1;r.forEach((f,p)=>{const g=u.current[p];g&&e.getPage(p+1).then(y=>{const b=y.getViewport({scale:c});g.width=b.width,g.height=b.height;const A=g.getContext("2d");A&&y.render({canvasContext:A,viewport:b})}).catch(y=>{console.error("Page 渲染失败:",y)})})},[e,r]),r.length===0?I.jsx("div",{className:"text-center text-gray-500",children:"Loading PDF..."}):I.jsxs("div",{className:"relative bg-gray-100 overflow-auto h-full",children:[r.map((c,f)=>I.jsx("div",{className:"mx-auto relative mb-2",style:{width:c.width,height:c.height},children:I.jsx("canvas",{ref:p=>{p&&(u.current[f]=p)},className:"block"})},f)),I.jsx(nM.Provider,{value:{pageMetrics:r},children:t})]})},iM=()=>{const s=lt.useContext(nM);if(!s)throw new Error("usePDFMetrics must be used within PDFViewer");return s.pageMetrics},TT=({data:s})=>{const{openPanel:t}=wb(),e=iM(),n=r=>{t({id:r.id,type:"comment",content:r.content,author:r.author,time:r.time})};return I.jsx(I.Fragment,{children:s.map(r=>{const l=e[r.page-1];if(!l)return null;const u=r.position.x*l.width,c=l.offsetY+r.position.y*l.height;return I.jsx("div",{className:"comment-icon absolute cursor-pointer",style:{left:u,top:c},onClick:()=>n(r),title:"查看评论",children:"💬"},r.id)})})},DT=({data:s})=>{const t=iM(),{openPanel:e}=wb(),[n,r]=lt.useState(null),l=c=>{const f=c.id;r(p=>p===f?null:f),e({id:f,type:"code",code:c.content,language:""})},u=c=>{navigator.clipboard.writeText(c).catch(f=>console.error("复制失败:",f))};return I.jsx(I.Fragment,{children:s.map(c=>{const f=t[c.page-1];if(!f)return null;const{id:p,content:g,position:{x:y,y:b,width:A,height:x}}=c,S=y*f.width,k=f.offsetY+b*f.height,C=A*f.width,O=x*f.height,N=n===p;return I.jsxs(hb.Fragment,{children:[I.jsx("div",{style:{position:"absolute",left:S,top:k,width:C,height:O},className:"bg-green-200 bg-opacity-30 border border-green-500 cursor-pointer",onClick:()=>l(c),children:I.jsx("span",{style:{pointerEvents:"none"},children:"</>"})}),N&&I.jsxs("div",{style:{position:"absolute",left:S,top:k+O+4,width:Math.max(C,200)},className:"bg-white border border-gray-300 shadow-lg p-2 z-10",children:[I.jsxs("div",{className:"flex justify-between items-center mb-1",children:[I.jsx("strong",{className:"text-xs text-gray-700",children:"代码片段"}),I.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-800",onClick:()=>r(null),children:"关闭"})]}),I.jsx("pre",{contentEditable:!0,suppressContentEditableWarning:!0,className:"bg-gray-100 p-2 text-xs overflow-auto",style:{maxHeight:"150px"},children:g}),I.jsxs("div",{className:"text-right mt-1",children:[I.jsx("button",{className:"text-xs text-blue-500 hover:underline mr-2",onClick:()=>u(g),children:"复制"}),I.jsx("button",{className:"text-xs text-green-600 hover:underline",onClick:()=>alert("保存已提交"),children:"保存"})]})]})]},p)})})},FB=({data:s,onClose:t})=>I.jsxs("div",{className:"border border-gray-300 bg-white shadow-lg rounded-xl overflow-hidden mb-4",children:[I.jsxs("div",{className:"flex justify-between items-center bg-blue-500 text-white p-2",children:[I.jsx("div",{className:"text-sm font-semibold",children:s.author}),I.jsx("div",{className:"text-xs",children:s.time}),I.jsx("button",{className:"text-white hover:text-gray-200 text-xs",onClick:t,children:"✕"})]}),I.jsx("div",{className:"p-4 text-sm text-gray-700 whitespace-pre-wrap",children:s.content})]}),BB=({data:s,onClose:t})=>{const[e,n]=hb.useState(s.code),r=()=>{navigator.clipboard.writeText(e)},l=()=>{console.log("保存代码:",e)};return I.jsxs("div",{className:"border border-gray-300 bg-white shadow-lg rounded-xl overflow-hidden mb-4",children:[I.jsxs("div",{className:"flex justify-between items-center bg-green-500 text-white p-2",children:[I.jsxs("div",{className:"text-sm font-semibold",children:["代码片段 ",s.language&&`(${s.language})`]}),I.jsxs("div",{className:"space-x-2 text-xs",children:[I.jsx("button",{className:"hover:text-gray-200",onClick:r,children:"复制"}),I.jsx("button",{className:"hover:text-gray-200",onClick:l,children:"保存"}),I.jsx("button",{className:"hover:text-gray-200",onClick:t,children:"✕"})]})]}),I.jsx("textarea",{className:"w-full h-40 p-3 font-mono text-sm bg-gray-50 border-t border-b border-gray-200 resize-y outline-none",value:e,onChange:u=>n(u.target.value)}),I.jsxs("div",{className:"p-3 bg-gray-100 text-sm",children:[I.jsx("strong",{children:"运行结果:"}),I.jsx("div",{className:"mt-2 text-gray-600",children:"(结果输出区域)"})]})]})},jB=()=>{const{openPanels:s,closePanel:t}=wb();return s.length===0?null:I.jsx("div",{className:"p-4 overflow-auto h-full bg-gray-50",children:s.map(e=>e.type==="comment"?I.jsx(FB,{data:{content:e.content,author:e.author,time:e.time},onClose:()=>t(e.id)},e.id):e.type==="code"?I.jsx(BB,{data:{code:e.code,language:e.language},onClose:()=>t(e.id)},e.id):null)})},kb=lt.createContext(null);kb.displayName="PanelGroupContext";const Ge={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},tx=10,Tu=lt.useLayoutEffect,kT=IN.useId,HB=typeof kT=="function"?kT:()=>null;let UB=0;function ex(s=null){const t=HB(),e=lt.useRef(s||t||null);return e.current===null&&(e.current=""+UB++),s??e.current}function sM({children:s,className:t="",collapsedSize:e,collapsible:n,defaultSize:r,forwardedRef:l,id:u,maxSize:c,minSize:f,onCollapse:p,onExpand:g,onResize:y,order:b,style:A,tagName:x="div",...S}){const k=lt.useContext(kb);if(k===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:C,expandPanel:O,getPanelSize:N,getPanelStyle:z,groupId:P,isPanelCollapsed:L,reevaluatePanelConstraints:j,registerPanel:W,resizePanel:Q,unregisterPanel:it}=k,X=ex(u),Z=lt.useRef({callbacks:{onCollapse:p,onExpand:g,onResize:y},constraints:{collapsedSize:e,collapsible:n,defaultSize:r,maxSize:c,minSize:f},id:X,idIsFromProps:u!==void 0,order:b});lt.useRef({didLogMissingDefaultSizeWarning:!1}),Tu(()=>{const{callbacks:J,constraints:ht}=Z.current,B={...ht};Z.current.id=X,Z.current.idIsFromProps=u!==void 0,Z.current.order=b,J.onCollapse=p,J.onExpand=g,J.onResize=y,ht.collapsedSize=e,ht.collapsible=n,ht.defaultSize=r,ht.maxSize=c,ht.minSize=f,(B.collapsedSize!==ht.collapsedSize||B.collapsible!==ht.collapsible||B.maxSize!==ht.maxSize||B.minSize!==ht.minSize)&&j(Z.current,B)}),Tu(()=>{const J=Z.current;return W(J),()=>{it(J)}},[b,X,W,it]),lt.useImperativeHandle(l,()=>({collapse:()=>{C(Z.current)},expand:J=>{O(Z.current,J)},getId(){return X},getSize(){return N(Z.current)},isCollapsed(){return L(Z.current)},isExpanded(){return!L(Z.current)},resize:J=>{Q(Z.current,J)}}),[C,O,N,L,X,Q]);const ct=z(Z.current,r);return lt.createElement(x,{...S,children:s,className:t,id:X,style:{...ct,...A},[Ge.groupId]:P,[Ge.panel]:"",[Ge.panelCollapsible]:n||void 0,[Ge.panelId]:X,[Ge.panelSize]:parseFloat(""+ct.flexGrow).toFixed(1)})}const pw=lt.forwardRef((s,t)=>lt.createElement(sM,{...s,forwardedRef:t}));sM.displayName="Panel";pw.displayName="forwardRef(Panel)";let gw=null,My=-1,sl=null;function GB(s,t){if(t){const e=(t&uM)!==0,n=(t&cM)!==0,r=(t&hM)!==0,l=(t&dM)!==0;if(e)return r?"se-resize":l?"ne-resize":"e-resize";if(n)return r?"sw-resize":l?"nw-resize":"w-resize";if(r)return"s-resize";if(l)return"n-resize"}switch(s){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function VB(){sl!==null&&(document.head.removeChild(sl),gw=null,sl=null,My=-1)}function wA(s,t){var e,n;const r=GB(s,t);if(gw!==r){if(gw=r,sl===null&&(sl=document.createElement("style"),document.head.appendChild(sl)),My>=0){var l;(l=sl.sheet)===null||l===void 0||l.removeRule(My)}My=(e=(n=sl.sheet)===null||n===void 0?void 0:n.insertRule(`*{cursor: ${r} !important;}`))!==null&&e!==void 0?e:-1}}function aM(s){return s.type==="keydown"}function rM(s){return s.type.startsWith("pointer")}function lM(s){return s.type.startsWith("mouse")}function Rb(s){if(rM(s)){if(s.isPrimary)return{x:s.clientX,y:s.clientY}}else if(lM(s))return{x:s.clientX,y:s.clientY};return{x:1/0,y:1/0}}function qB(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function YB(s,t,e){return s.x<t.x+t.width&&s.x+s.width>t.x&&s.y<t.y+t.height&&s.y+s.height>t.y}function XB(s,t){if(s===t)throw new Error("Cannot compare node with itself");const e={a:NT(s),b:NT(t)};let n;for(;e.a.at(-1)===e.b.at(-1);)s=e.a.pop(),t=e.b.pop(),n=s;Gt(n,"Stacking order can only be calculated for elements with a common ancestor");const r={a:MT(RT(e.a)),b:MT(RT(e.b))};if(r.a===r.b){const l=n.childNodes,u={a:e.a.at(-1),b:e.b.at(-1)};let c=l.length;for(;c--;){const f=l[c];if(f===u.a)return 1;if(f===u.b)return-1}}return Math.sign(r.a-r.b)}const $B=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function WB(s){var t;const e=getComputedStyle((t=oM(s))!==null&&t!==void 0?t:s).display;return e==="flex"||e==="inline-flex"}function KB(s){const t=getComputedStyle(s);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||WB(s))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||$B.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function RT(s){let t=s.length;for(;t--;){const e=s[t];if(Gt(e,"Missing node"),KB(e))return e}return null}function MT(s){return s&&Number(getComputedStyle(s).zIndex)||0}function NT(s){const t=[];for(;s;)t.push(s),s=oM(s);return t}function oM(s){const{parentNode:t}=s;return t&&t instanceof ShadowRoot?t.host:t}const uM=1,cM=2,hM=4,dM=8,QB=qB()==="coarse";let qs=[],jc=!1,al=new Map,Mb=new Map;const Bf=new Set;function ZB(s,t,e,n,r){var l;const{ownerDocument:u}=t,c={direction:e,element:t,hitAreaMargins:n,setResizeHandlerState:r},f=(l=al.get(u))!==null&&l!==void 0?l:0;return al.set(u,f+1),Bf.add(c),Vy(),function(){var g;Mb.delete(s),Bf.delete(c);const y=(g=al.get(u))!==null&&g!==void 0?g:1;if(al.set(u,y-1),Vy(),y===1&&al.delete(u),qs.includes(c)){const b=qs.indexOf(c);b>=0&&qs.splice(b,1),ix(),r("up",!0,null)}}}function JB(s){const{target:t}=s,{x:e,y:n}=Rb(s);jc=!0,nx({target:t,x:e,y:n}),Vy(),qs.length>0&&(qy("down",s),s.preventDefault(),fM(t)||s.stopImmediatePropagation())}function xA(s){const{x:t,y:e}=Rb(s);if(jc&&s.buttons===0&&(jc=!1,qy("up",s)),!jc){const{target:n}=s;nx({target:n,x:t,y:e})}qy("move",s),ix(),qs.length>0&&s.preventDefault()}function EA(s){const{target:t}=s,{x:e,y:n}=Rb(s);Mb.clear(),jc=!1,qs.length>0&&(s.preventDefault(),fM(t)||s.stopImmediatePropagation()),qy("up",s),nx({target:t,x:e,y:n}),ix(),Vy()}function fM(s){let t=s;for(;t;){if(t.hasAttribute(Ge.resizeHandle))return!0;t=t.parentElement}return!1}function nx({target:s,x:t,y:e}){qs.splice(0);let n=null;(s instanceof HTMLElement||s instanceof SVGElement)&&(n=s),Bf.forEach(r=>{const{element:l,hitAreaMargins:u}=r,c=l.getBoundingClientRect(),{bottom:f,left:p,right:g,top:y}=c,b=QB?u.coarse:u.fine;if(t>=p-b&&t<=g+b&&e>=y-b&&e<=f+b){if(n!==null&&document.contains(n)&&l!==n&&!l.contains(n)&&!n.contains(l)&&XB(n,l)>0){let x=n,S=!1;for(;x&&!x.contains(l);){if(YB(x.getBoundingClientRect(),c)){S=!0;break}x=x.parentElement}if(S)return}qs.push(r)}})}function _A(s,t){Mb.set(s,t)}function ix(){let s=!1,t=!1;qs.forEach(n=>{const{direction:r}=n;r==="horizontal"?s=!0:t=!0});let e=0;Mb.forEach(n=>{e|=n}),s&&t?wA("intersection",e):s?wA("horizontal",e):t?wA("vertical",e):VB()}let CA=new AbortController;function Vy(){CA.abort(),CA=new AbortController;const s={capture:!0,signal:CA.signal};Bf.size&&(jc?(qs.length>0&&al.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",EA,s),n.addEventListener("pointerleave",xA,s),n.addEventListener("pointermove",xA,s))}),al.forEach((t,e)=>{const{body:n}=e;n.addEventListener("pointerup",EA,s),n.addEventListener("pointercancel",EA,s)})):al.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",JB,s),n.addEventListener("pointermove",xA,s))}))}function qy(s,t){Bf.forEach(e=>{const{setResizeHandlerState:n}=e,r=qs.includes(e);n(s,r,t)})}function tj(){const[s,t]=lt.useState(0);return lt.useCallback(()=>t(e=>e+1),[])}function Gt(s,t){if(!s)throw console.error(t),Error(t)}function Mu(s,t,e=tx){return s.toFixed(e)===t.toFixed(e)?0:s>t?1:-1}function wr(s,t,e=tx){return Mu(s,t,e)===0}function Qi(s,t,e){return Mu(s,t,e)===0}function ej(s,t,e){if(s.length!==t.length)return!1;for(let n=0;n<s.length;n++){const r=s[n],l=t[n];if(!Qi(r,l,e))return!1}return!0}function Oc({panelConstraints:s,panelIndex:t,size:e}){const n=s[t];Gt(n!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:r=0,collapsible:l,maxSize:u=100,minSize:c=0}=n;if(Mu(e,c)<0)if(l){const f=(r+c)/2;Mu(e,f)<0?e=r:e=c}else e=c;return e=Math.min(u,e),e=parseFloat(e.toFixed(tx)),e}function kf({delta:s,initialLayout:t,panelConstraints:e,pivotIndices:n,prevLayout:r,trigger:l}){if(Qi(s,0))return t;const u=[...t],[c,f]=n;Gt(c!=null,"Invalid first pivot index"),Gt(f!=null,"Invalid second pivot index");let p=0;if(l==="keyboard"){{const y=s<0?f:c,b=e[y];Gt(b,`Panel constraints not found for index ${y}`);const{collapsedSize:A=0,collapsible:x,minSize:S=0}=b;if(x){const k=t[y];if(Gt(k!=null,`Previous layout not found for panel index ${y}`),Qi(k,A)){const C=S-k;Mu(C,Math.abs(s))>0&&(s=s<0?0-C:C)}}}{const y=s<0?c:f,b=e[y];Gt(b,`No panel constraints found for index ${y}`);const{collapsedSize:A=0,collapsible:x,minSize:S=0}=b;if(x){const k=t[y];if(Gt(k!=null,`Previous layout not found for panel index ${y}`),Qi(k,S)){const C=k-A;Mu(C,Math.abs(s))>0&&(s=s<0?0-C:C)}}}}{const y=s<0?1:-1;let b=s<0?f:c,A=0;for(;;){const S=t[b];Gt(S!=null,`Previous layout not found for panel index ${b}`);const C=Oc({panelConstraints:e,panelIndex:b,size:100})-S;if(A+=C,b+=y,b<0||b>=e.length)break}const x=Math.min(Math.abs(s),Math.abs(A));s=s<0?0-x:x}{let b=s<0?c:f;for(;b>=0&&b<e.length;){const A=Math.abs(s)-Math.abs(p),x=t[b];Gt(x!=null,`Previous layout not found for panel index ${b}`);const S=x-A,k=Oc({panelConstraints:e,panelIndex:b,size:S});if(!Qi(x,k)&&(p+=x-k,u[b]=k,p.toPrecision(3).localeCompare(Math.abs(s).toPrecision(3),void 0,{numeric:!0})>=0))break;s<0?b--:b++}}if(ej(r,u))return r;{const y=s<0?f:c,b=t[y];Gt(b!=null,`Previous layout not found for panel index ${y}`);const A=b+p,x=Oc({panelConstraints:e,panelIndex:y,size:A});if(u[y]=x,!Qi(x,A)){let S=A-x,C=s<0?f:c;for(;C>=0&&C<e.length;){const O=u[C];Gt(O!=null,`Previous layout not found for panel index ${C}`);const N=O+S,z=Oc({panelConstraints:e,panelIndex:C,size:N});if(Qi(O,z)||(S-=z-O,u[C]=z),Qi(S,0))break;s>0?C--:C++}}}const g=u.reduce((y,b)=>b+y,0);return Qi(g,100)?u:r}function nj({layout:s,panelsArray:t,pivotIndices:e}){let n=0,r=100,l=0,u=0;const c=e[0];Gt(c!=null,"No pivot index found"),t.forEach((y,b)=>{const{constraints:A}=y,{maxSize:x=100,minSize:S=0}=A;b===c?(n=S,r=x):(l+=S,u+=x)});const f=Math.min(r,100-l),p=Math.max(n,100-u),g=s[c];return{valueMax:f,valueMin:p,valueNow:g}}function jf(s,t=document){return Array.from(t.querySelectorAll(`[${Ge.resizeHandleId}][data-panel-group-id="${s}"]`))}function pM(s,t,e=document){const r=jf(s,e).findIndex(l=>l.getAttribute(Ge.resizeHandleId)===t);return r??null}function gM(s,t,e){const n=pM(s,t,e);return n!=null?[n,n+1]:[-1,-1]}function mM(s,t=document){var e;if(t instanceof HTMLElement&&(t==null||(e=t.dataset)===null||e===void 0?void 0:e.panelGroupId)==s)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${s}"]`);return n||null}function Nb(s,t=document){const e=t.querySelector(`[${Ge.resizeHandleId}="${s}"]`);return e||null}function ij(s,t,e,n=document){var r,l,u,c;const f=Nb(t,n),p=jf(s,n),g=f?p.indexOf(f):-1,y=(r=(l=e[g])===null||l===void 0?void 0:l.id)!==null&&r!==void 0?r:null,b=(u=(c=e[g+1])===null||c===void 0?void 0:c.id)!==null&&u!==void 0?u:null;return[y,b]}function sj({committedValuesRef:s,eagerValuesRef:t,groupId:e,layout:n,panelDataArray:r,panelGroupElement:l,setLayout:u}){lt.useRef({didWarnAboutMissingResizeHandle:!1}),Tu(()=>{if(!l)return;const c=jf(e,l);for(let f=0;f<r.length-1;f++){const{valueMax:p,valueMin:g,valueNow:y}=nj({layout:n,panelsArray:r,pivotIndices:[f,f+1]}),b=c[f];if(b!=null){const A=r[f];Gt(A,`No panel data found for index "${f}"`),b.setAttribute("aria-controls",A.id),b.setAttribute("aria-valuemax",""+Math.round(p)),b.setAttribute("aria-valuemin",""+Math.round(g)),b.setAttribute("aria-valuenow",y!=null?""+Math.round(y):"")}}return()=>{c.forEach((f,p)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[e,n,r,l]),lt.useEffect(()=>{if(!l)return;const c=t.current;Gt(c,"Eager values not found");const{panelDataArray:f}=c,p=mM(e,l);Gt(p!=null,`No group found for id "${e}"`);const g=jf(e,l);Gt(g,`No resize handles found for group id "${e}"`);const y=g.map(b=>{const A=b.getAttribute(Ge.resizeHandleId);Gt(A,"Resize handle element has no handle id attribute");const[x,S]=ij(e,A,f,l);if(x==null||S==null)return()=>{};const k=C=>{if(!C.defaultPrevented)switch(C.key){case"Enter":{C.preventDefault();const O=f.findIndex(N=>N.id===x);if(O>=0){const N=f[O];Gt(N,`No panel data found for index ${O}`);const z=n[O],{collapsedSize:P=0,collapsible:L,minSize:j=0}=N.constraints;if(z!=null&&L){const W=kf({delta:Qi(z,P)?j-P:P-z,initialLayout:n,panelConstraints:f.map(Q=>Q.constraints),pivotIndices:gM(e,A,l),prevLayout:n,trigger:"keyboard"});n!==W&&u(W)}}break}}};return b.addEventListener("keydown",k),()=>{b.removeEventListener("keydown",k)}});return()=>{y.forEach(b=>b())}},[l,s,t,e,n,r,u])}function OT(s,t){if(s.length!==t.length)return!1;for(let e=0;e<s.length;e++)if(s[e]!==t[e])return!1;return!0}function yM(s,t){const e=s==="horizontal",{x:n,y:r}=Rb(t);return e?n:r}function aj(s,t,e,n,r){const l=e==="horizontal",u=Nb(t,r);Gt(u,`No resize handle element found for id "${t}"`);const c=u.getAttribute(Ge.groupId);Gt(c,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=n;const p=yM(e,s),g=mM(c,r);Gt(g,`No group element found for id "${c}"`);const y=g.getBoundingClientRect(),b=l?y.width:y.height;return(p-f)/b*100}function rj(s,t,e,n,r,l){if(aM(s)){const u=e==="horizontal";let c=0;s.shiftKey?c=100:r!=null?c=r:c=10;let f=0;switch(s.key){case"ArrowDown":f=u?0:c;break;case"ArrowLeft":f=u?-c:0;break;case"ArrowRight":f=u?c:0;break;case"ArrowUp":f=u?0:-c;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return n==null?0:aj(s,t,e,n,l)}function lj({panelDataArray:s}){const t=Array(s.length),e=s.map(l=>l.constraints);let n=0,r=100;for(let l=0;l<s.length;l++){const u=e[l];Gt(u,`Panel constraints not found for index ${l}`);const{defaultSize:c}=u;c!=null&&(n++,t[l]=c,r-=c)}for(let l=0;l<s.length;l++){const u=e[l];Gt(u,`Panel constraints not found for index ${l}`);const{defaultSize:c}=u;if(c!=null)continue;const f=s.length-n,p=r/f;n++,t[l]=p,r-=p}return t}function Ac(s,t,e){t.forEach((n,r)=>{const l=s[r];Gt(l,`Panel data not found for index ${r}`);const{callbacks:u,constraints:c,id:f}=l,{collapsedSize:p=0,collapsible:g}=c,y=e[f];if(y==null||n!==y){e[f]=n;const{onCollapse:b,onExpand:A,onResize:x}=u;x&&x(n,y),g&&(b||A)&&(A&&(y==null||wr(y,p))&&!wr(n,p)&&A(),b&&(y==null||!wr(y,p))&&wr(n,p)&&b())}})}function Qm(s,t){if(s.length!==t.length)return!1;for(let e=0;e<s.length;e++)if(s[e]!=t[e])return!1;return!0}function oj({defaultSize:s,dragState:t,layout:e,panelData:n,panelIndex:r,precision:l=3}){const u=e[r];let c;return u==null?c=s!=null?s.toPrecision(l):"1":n.length===1?c="1":c=u.toPrecision(l),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function uj(s,t=10){let e=null;return(...r)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{s(...r)},t)}}function LT(s){try{if(typeof localStorage<"u")s.getItem=t=>localStorage.getItem(t),s.setItem=(t,e)=>{localStorage.setItem(t,e)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),s.getItem=()=>null,s.setItem=()=>{}}}function bM(s){return`react-resizable-panels:${s}`}function vM(s){return s.map(t=>{const{constraints:e,id:n,idIsFromProps:r,order:l}=t;return r?n:l?`${l}:${JSON.stringify(e)}`:JSON.stringify(e)}).sort((t,e)=>t.localeCompare(e)).join(",")}function AM(s,t){try{const e=bM(s),n=t.getItem(e);if(n){const r=JSON.parse(n);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function cj(s,t,e){var n,r;const l=(n=AM(s,e))!==null&&n!==void 0?n:{},u=vM(t);return(r=l[u])!==null&&r!==void 0?r:null}function hj(s,t,e,n,r){var l;const u=bM(s),c=vM(t),f=(l=AM(s,r))!==null&&l!==void 0?l:{};f[c]={expandToSizes:Object.fromEntries(e.entries()),layout:n};try{r.setItem(u,JSON.stringify(f))}catch(p){console.error(p)}}function PT({layout:s,panelConstraints:t}){const e=[...s],n=e.reduce((l,u)=>l+u,0);if(e.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${e.map(l=>`${l}%`).join(", ")}`);if(!Qi(n,100)&&e.length>0)for(let l=0;l<t.length;l++){const u=e[l];Gt(u!=null,`No layout data found for index ${l}`);const c=100/n*u;e[l]=c}let r=0;for(let l=0;l<t.length;l++){const u=e[l];Gt(u!=null,`No layout data found for index ${l}`);const c=Oc({panelConstraints:t,panelIndex:l,size:u});u!=c&&(r+=u-c,e[l]=c)}if(!Qi(r,0))for(let l=0;l<t.length;l++){const u=e[l];Gt(u!=null,`No layout data found for index ${l}`);const c=u+r,f=Oc({panelConstraints:t,panelIndex:l,size:c});if(u!==f&&(r-=f-u,e[l]=f,Qi(r,0)))break}return e}const dj=100,Rf={getItem:s=>(LT(Rf),Rf.getItem(s)),setItem:(s,t)=>{LT(Rf),Rf.setItem(s,t)}},zT={};function SM({autoSaveId:s=null,children:t,className:e="",direction:n,forwardedRef:r,id:l=null,onLayout:u=null,keyboardResizeBy:c=null,storage:f=Rf,style:p,tagName:g="div",...y}){const b=ex(l),A=lt.useRef(null),[x,S]=lt.useState(null),[k,C]=lt.useState([]),O=tj(),N=lt.useRef({}),z=lt.useRef(new Map),P=lt.useRef(0),L=lt.useRef({autoSaveId:s,direction:n,dragState:x,id:b,keyboardResizeBy:c,onLayout:u,storage:f}),j=lt.useRef({layout:k,panelDataArray:[],panelDataArrayChanged:!1});lt.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),lt.useImperativeHandle(r,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:R}=j.current;return R},setLayout:R=>{const{onLayout:st}=L.current,{layout:ft,panelDataArray:nt}=j.current,ut=PT({layout:R,panelConstraints:nt.map(mt=>mt.constraints)});OT(ft,ut)||(C(ut),j.current.layout=ut,st&&st(ut),Ac(nt,ut,N.current))}}),[]),Tu(()=>{L.current.autoSaveId=s,L.current.direction=n,L.current.dragState=x,L.current.id=b,L.current.onLayout=u,L.current.storage=f}),sj({committedValuesRef:L,eagerValuesRef:j,groupId:b,layout:k,panelDataArray:j.current.panelDataArray,setLayout:C,panelGroupElement:A.current}),lt.useEffect(()=>{const{panelDataArray:R}=j.current;if(s){if(k.length===0||k.length!==R.length)return;let st=zT[s];st==null&&(st=uj(hj,dj),zT[s]=st);const ft=[...R],nt=new Map(z.current);st(s,ft,nt,k,f)}},[s,k,f]),lt.useEffect(()=>{});const W=lt.useCallback(R=>{const{onLayout:st}=L.current,{layout:ft,panelDataArray:nt}=j.current;if(R.constraints.collapsible){const ut=nt.map(fe=>fe.constraints),{collapsedSize:mt=0,panelSize:Tt,pivotIndices:jt}=mo(nt,R,ft);if(Gt(Tt!=null,`Panel size not found for panel "${R.id}"`),!wr(Tt,mt)){z.current.set(R.id,Tt);const pe=kc(nt,R)===nt.length-1?Tt-mt:mt-Tt,Zt=kf({delta:pe,initialLayout:ft,panelConstraints:ut,pivotIndices:jt,prevLayout:ft,trigger:"imperative-api"});Qm(ft,Zt)||(C(Zt),j.current.layout=Zt,st&&st(Zt),Ac(nt,Zt,N.current))}}},[]),Q=lt.useCallback((R,st)=>{const{onLayout:ft}=L.current,{layout:nt,panelDataArray:ut}=j.current;if(R.constraints.collapsible){const mt=ut.map(Vt=>Vt.constraints),{collapsedSize:Tt=0,panelSize:jt=0,minSize:fe=0,pivotIndices:pe}=mo(ut,R,nt),Zt=st??fe;if(wr(jt,Tt)){const Vt=z.current.get(R.id),Bn=Vt!=null&&Vt>=Zt?Vt:Zt,Be=kc(ut,R)===ut.length-1?jt-Bn:Bn-jt,Ve=kf({delta:Be,initialLayout:nt,panelConstraints:mt,pivotIndices:pe,prevLayout:nt,trigger:"imperative-api"});Qm(nt,Ve)||(C(Ve),j.current.layout=Ve,ft&&ft(Ve),Ac(ut,Ve,N.current))}}},[]),it=lt.useCallback(R=>{const{layout:st,panelDataArray:ft}=j.current,{panelSize:nt}=mo(ft,R,st);return Gt(nt!=null,`Panel size not found for panel "${R.id}"`),nt},[]),X=lt.useCallback((R,st)=>{const{panelDataArray:ft}=j.current,nt=kc(ft,R);return oj({defaultSize:st,dragState:x,layout:k,panelData:ft,panelIndex:nt})},[x,k]),Z=lt.useCallback(R=>{const{layout:st,panelDataArray:ft}=j.current,{collapsedSize:nt=0,collapsible:ut,panelSize:mt}=mo(ft,R,st);return Gt(mt!=null,`Panel size not found for panel "${R.id}"`),ut===!0&&wr(mt,nt)},[]),ct=lt.useCallback(R=>{const{layout:st,panelDataArray:ft}=j.current,{collapsedSize:nt=0,collapsible:ut,panelSize:mt}=mo(ft,R,st);return Gt(mt!=null,`Panel size not found for panel "${R.id}"`),!ut||Mu(mt,nt)>0},[]),J=lt.useCallback(R=>{const{panelDataArray:st}=j.current;st.push(R),st.sort((ft,nt)=>{const ut=ft.order,mt=nt.order;return ut==null&&mt==null?0:ut==null?-1:mt==null?1:ut-mt}),j.current.panelDataArrayChanged=!0,O()},[O]);Tu(()=>{if(j.current.panelDataArrayChanged){j.current.panelDataArrayChanged=!1;const{autoSaveId:R,onLayout:st,storage:ft}=L.current,{layout:nt,panelDataArray:ut}=j.current;let mt=null;if(R){const jt=cj(R,ut,ft);jt&&(z.current=new Map(Object.entries(jt.expandToSizes)),mt=jt.layout)}mt==null&&(mt=lj({panelDataArray:ut}));const Tt=PT({layout:mt,panelConstraints:ut.map(jt=>jt.constraints)});OT(nt,Tt)||(C(Tt),j.current.layout=Tt,st&&st(Tt),Ac(ut,Tt,N.current))}}),Tu(()=>{const R=j.current;return()=>{R.layout=[]}},[]);const ht=lt.useCallback(R=>{let st=!1;const ft=A.current;return ft&&window.getComputedStyle(ft,null).getPropertyValue("direction")==="rtl"&&(st=!0),function(ut){ut.preventDefault();const mt=A.current;if(!mt)return()=>null;const{direction:Tt,dragState:jt,id:fe,keyboardResizeBy:pe,onLayout:Zt}=L.current,{layout:Vt,panelDataArray:Bn}=j.current,{initialLayout:Fe}=jt??{},Be=gM(fe,R,mt);let Ve=rj(ut,R,Tt,jt,pe,mt);const xs=Tt==="horizontal";xs&&st&&(Ve=-Ve);const Ea=Bn.map(_a=>_a.constraints),ci=kf({delta:Ve,initialLayout:Fe??Vt,panelConstraints:Ea,pivotIndices:Be,prevLayout:Vt,trigger:aM(ut)?"keyboard":"mouse-or-touch"}),Dr=!Qm(Vt,ci);(rM(ut)||lM(ut))&&P.current!=Ve&&(P.current=Ve,!Dr&&Ve!==0?xs?_A(R,Ve<0?uM:cM):_A(R,Ve<0?hM:dM):_A(R,0)),Dr&&(C(ci),j.current.layout=ci,Zt&&Zt(ci),Ac(Bn,ci,N.current))}},[]),B=lt.useCallback((R,st)=>{const{onLayout:ft}=L.current,{layout:nt,panelDataArray:ut}=j.current,mt=ut.map(Vt=>Vt.constraints),{panelSize:Tt,pivotIndices:jt}=mo(ut,R,nt);Gt(Tt!=null,`Panel size not found for panel "${R.id}"`);const pe=kc(ut,R)===ut.length-1?Tt-st:st-Tt,Zt=kf({delta:pe,initialLayout:nt,panelConstraints:mt,pivotIndices:jt,prevLayout:nt,trigger:"imperative-api"});Qm(nt,Zt)||(C(Zt),j.current.layout=Zt,ft&&ft(Zt),Ac(ut,Zt,N.current))},[]),q=lt.useCallback((R,st)=>{const{layout:ft,panelDataArray:nt}=j.current,{collapsedSize:ut=0,collapsible:mt}=st,{collapsedSize:Tt=0,collapsible:jt,maxSize:fe=100,minSize:pe=0}=R.constraints,{panelSize:Zt}=mo(nt,R,ft);Zt!=null&&(mt&&jt&&wr(Zt,ut)?wr(ut,Tt)||B(R,Tt):Zt<pe?B(R,pe):Zt>fe&&B(R,fe))},[B]),yt=lt.useCallback((R,st)=>{const{direction:ft}=L.current,{layout:nt}=j.current;if(!A.current)return;const ut=Nb(R,A.current);Gt(ut,`Drag handle element not found for id "${R}"`);const mt=yM(ft,st);S({dragHandleId:R,dragHandleRect:ut.getBoundingClientRect(),initialCursorPosition:mt,initialLayout:nt})},[]),xt=lt.useCallback(()=>{S(null)},[]),_=lt.useCallback(R=>{const{panelDataArray:st}=j.current,ft=kc(st,R);ft>=0&&(st.splice(ft,1),delete N.current[R.id],j.current.panelDataArrayChanged=!0,O())},[O]),K=lt.useMemo(()=>({collapsePanel:W,direction:n,dragState:x,expandPanel:Q,getPanelSize:it,getPanelStyle:X,groupId:b,isPanelCollapsed:Z,isPanelExpanded:ct,reevaluatePanelConstraints:q,registerPanel:J,registerResizeHandle:ht,resizePanel:B,startDragging:yt,stopDragging:xt,unregisterPanel:_,panelGroupElement:A.current}),[W,x,n,Q,it,X,b,Z,ct,q,J,ht,B,yt,xt,_]),ot={display:"flex",flexDirection:n==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return lt.createElement(kb.Provider,{value:K},lt.createElement(g,{...y,children:t,className:e,id:l,ref:A,style:{...ot,...p},[Ge.group]:"",[Ge.groupDirection]:n,[Ge.groupId]:b}))}const wM=lt.forwardRef((s,t)=>lt.createElement(SM,{...s,forwardedRef:t}));SM.displayName="PanelGroup";wM.displayName="forwardRef(PanelGroup)";function kc(s,t){return s.findIndex(e=>e===t||e.id===t.id)}function mo(s,t,e){const n=kc(s,t),l=n===s.length-1?[n-1,n]:[n,n+1],u=e[n];return{...t.constraints,panelSize:u,pivotIndices:l}}function fj({disabled:s,handleId:t,resizeHandler:e,panelGroupElement:n}){lt.useEffect(()=>{if(s||e==null||n==null)return;const r=Nb(t,n);if(r==null)return;const l=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),e(u);break}case"F6":{u.preventDefault();const c=r.getAttribute(Ge.groupId);Gt(c,`No group element found for id "${c}"`);const f=jf(c,n),p=pM(c,t,n);Gt(p!==null,`No resize element found for id "${t}"`);const g=u.shiftKey?p>0?p-1:f.length-1:p+1<f.length?p+1:0;f[g].focus();break}}};return r.addEventListener("keydown",l),()=>{r.removeEventListener("keydown",l)}},[n,s,t,e])}function xM({children:s=null,className:t="",disabled:e=!1,hitAreaMargins:n,id:r,onBlur:l,onClick:u,onDragging:c,onFocus:f,onPointerDown:p,onPointerUp:g,style:y={},tabIndex:b=0,tagName:A="div",...x}){var S,k;const C=lt.useRef(null),O=lt.useRef({onClick:u,onDragging:c,onPointerDown:p,onPointerUp:g});lt.useEffect(()=>{O.current.onClick=u,O.current.onDragging=c,O.current.onPointerDown=p,O.current.onPointerUp=g});const N=lt.useContext(kb);if(N===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:z,groupId:P,registerResizeHandle:L,startDragging:j,stopDragging:W,panelGroupElement:Q}=N,it=ex(r),[X,Z]=lt.useState("inactive"),[ct,J]=lt.useState(!1),[ht,B]=lt.useState(null),q=lt.useRef({state:X});Tu(()=>{q.current.state=X}),lt.useEffect(()=>{if(e)B(null);else{const K=L(it);B(()=>K)}},[e,it,L]);const yt=(S=n==null?void 0:n.coarse)!==null&&S!==void 0?S:15,xt=(k=n==null?void 0:n.fine)!==null&&k!==void 0?k:5;lt.useEffect(()=>{if(e||ht==null)return;const K=C.current;Gt(K,"Element ref not attached");let ot=!1;return ZB(it,K,z,{coarse:yt,fine:xt},(st,ft,nt)=>{if(!ft){Z("inactive");return}switch(st){case"down":{Z("drag"),ot=!1,Gt(nt,'Expected event to be defined for "down" action'),j(it,nt);const{onDragging:ut,onPointerDown:mt}=O.current;ut==null||ut(!0),mt==null||mt();break}case"move":{const{state:ut}=q.current;ot=!0,ut!=="drag"&&Z("hover"),Gt(nt,'Expected event to be defined for "move" action'),ht(nt);break}case"up":{Z("hover"),W();const{onClick:ut,onDragging:mt,onPointerUp:Tt}=O.current;mt==null||mt(!1),Tt==null||Tt(),ot||ut==null||ut();break}}})},[yt,z,e,xt,L,it,ht,j,W]),fj({disabled:e,handleId:it,resizeHandler:ht,panelGroupElement:Q});const _={touchAction:"none",userSelect:"none"};return lt.createElement(A,{...x,children:s,className:t,id:r,onBlur:()=>{J(!1),l==null||l()},onFocus:()=>{J(!0),f==null||f()},ref:C,role:"separator",style:{..._,...y},tabIndex:b,[Ge.groupDirection]:z,[Ge.groupId]:P,[Ge.resizeHandle]:"",[Ge.resizeHandleActive]:X==="drag"?"pointer":ct?"keyboard":void 0,[Ge.resizeHandleEnabled]:!e,[Ge.resizeHandleId]:it,[Ge.resizeHandleState]:X})}xM.displayName="PanelResizeHandle";const IT=[{id:"c1",page:1,type:"text",content:"第一页顶部评论。",author:"张三",time:"2025-05-06",position:{x:.5,y:.5}},{id:"c2",page:1,type:"highlight",content:"注意此段内容。",author:"李四",time:"2025-05-06",position:{x:.2,y:.3}}],FT=[{id:"code1",page:2,content:'console.log("Hello World");',position:{x:.5,y:.5,width:.6,height:.1}}],pj=()=>{const{openPanels:s}=wb(),e=s.some(c=>c.type==="code")?60:70,n=100-e,r=$h(),[l,u]=lt.useState("");return lt.useEffect(()=>{const c=f=>{const p=f.data;p.command==="getDemoPdfPath"&&u(p.filePath)};return window.addEventListener("message",c),r.postMessage({command:"getDemoPdfPath"}),()=>window.removeEventListener("message",c)},[]),s.length===0?I.jsxs(CT,{pdfUrl:l,children:[I.jsx(TT,{data:IT}),I.jsx(DT,{data:FT})]}):I.jsxs(wM,{direction:"horizontal",children:[I.jsx(pw,{defaultSize:e,children:I.jsxs(CT,{pdfUrl:l,children:[I.jsx(TT,{data:IT}),I.jsx(DT,{data:FT})]})}),I.jsx(xM,{className:"resize-handle"}),I.jsx(pw,{defaultSize:n,children:I.jsx(jB,{})})]})},gj=()=>I.jsx($3,{children:I.jsx(pj,{})});function mj(){const[s,t]=lt.useState("HomePage"),[e,n]=lt.useState(""),r=()=>{if(e)return I.jsx(X3,{filePath:e});switch(s){case"HomePage":return I.jsx(eC,{});case"CoursePage":return I.jsx(XN,{setSelectedFile:n});case"CalendarPage":return I.jsx(SL,{});case"DemoPage":return I.jsx(gj,{});default:return I.jsx(eC,{})}};return I.jsxs("div",{className:"p-4 bg-gray-50 min-h-screen",children:[I.jsxs("select",{value:s,onChange:l=>t(l.target.value),className:"border p-2 rounded-md bg-white shadow",children:[I.jsx("option",{value:"HomePage",children:"主页"}),I.jsx("option",{value:"CoursePage",children:"课程页面"}),I.jsx("option",{value:"CalendarPage",children:"日历页面"}),I.jsx("option",{value:"DemoPage",children:"🧪 Demo 测试"})]}),e&&I.jsx("button",{onClick:()=>n(""),className:"mt-2 p-2 bg-blue-500 text-white rounded",children:"返回课程页面"}),r()]})}qN.createRoot(document.getElementById("root")).render(I.jsx(hb.StrictMode,{children:I.jsx(mj,{})}));
